// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var ya;"use strict";var Ta=this;
function Xa(d){function a(g,m,u){var y=m[0],B=m[1],D=m[2];m=m[3];var F=u[0],J=u[1],M=u[2];u=u[3];g[0]=y*F+D*J;g[1]=B*F+m*J;g[2]=y*M+D*u;g[3]=B*M+m*u;return g}function b(g,m,u){g[0]=m[0]-u[0];g[1]=m[1]-u[1];g[2]=m[2]-u[2];g[3]=m[3]-u[3];return g}function e(g,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=m[4];m=m[5];var M=u[0],P=u[1],S=u[2],T=u[3],X=u[4];u=u[5];g[0]=y*M+D*P;g[1]=B*M+F*P;g[2]=y*S+D*T;g[3]=B*S+F*T;g[4]=y*X+D*u+J;g[5]=B*X+F*u+m;return g}function c(g,m,u){g[0]=m[0]-u[0];g[1]=m[1]-u[1];g[2]=m[2]-
u[2];g[3]=m[3]-u[3];g[4]=m[4]-u[4];g[5]=m[5]-u[5];return g}function f(){var g=new qa(9);qa!=Float32Array&&(g[1]=0,g[2]=0,g[3]=0,g[5]=0,g[6]=0,g[7]=0);g[0]=1;g[4]=1;g[8]=1;return g}function k(g,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7];m=m[8];var T=u[0],X=u[1],W=u[2],fa=u[3],da=u[4],aa=u[5],ua=u[6],pa=u[7];u=u[8];g[0]=T*y+X*F+W*P;g[1]=T*B+X*J+W*S;g[2]=T*D+X*M+W*m;g[3]=fa*y+da*F+aa*P;g[4]=fa*B+da*J+aa*S;g[5]=fa*D+da*M+aa*m;g[6]=ua*y+pa*F+u*P;g[7]=ua*B+pa*J+u*S;g[8]=ua*D+pa*M+
u*m;return g}function h(g,m,u){g[0]=m[0]-u[0];g[1]=m[1]-u[1];g[2]=m[2]-u[2];g[3]=m[3]-u[3];g[4]=m[4]-u[4];g[5]=m[5]-u[5];g[6]=m[6]-u[6];g[7]=m[7]-u[7];g[8]=m[8]-u[8];return g}function l(g){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g}function n(g,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=m[8],X=m[9],W=m[10],fa=m[11],da=m[12],aa=m[13],ua=m[14];m=m[15];var pa=u[0],sa=u[1],ta=u[2],ra=u[3];g[0]=
pa*y+sa*J+ta*T+ra*da;g[1]=pa*B+sa*M+ta*X+ra*aa;g[2]=pa*D+sa*P+ta*W+ra*ua;g[3]=pa*F+sa*S+ta*fa+ra*m;pa=u[4];sa=u[5];ta=u[6];ra=u[7];g[4]=pa*y+sa*J+ta*T+ra*da;g[5]=pa*B+sa*M+ta*X+ra*aa;g[6]=pa*D+sa*P+ta*W+ra*ua;g[7]=pa*F+sa*S+ta*fa+ra*m;pa=u[8];sa=u[9];ta=u[10];ra=u[11];g[8]=pa*y+sa*J+ta*T+ra*da;g[9]=pa*B+sa*M+ta*X+ra*aa;g[10]=pa*D+sa*P+ta*W+ra*ua;g[11]=pa*F+sa*S+ta*fa+ra*m;pa=u[12];sa=u[13];ta=u[14];ra=u[15];g[12]=pa*y+sa*J+ta*T+ra*da;g[13]=pa*B+sa*M+ta*X+ra*aa;g[14]=pa*D+sa*P+ta*W+ra*ua;g[15]=pa*
F+sa*S+ta*fa+ra*m;return g}function q(g,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=y+y,M=B+B,P=D+D;m=y*J;var S=y*M;y*=P;var T=B*M;B*=P;D*=P;J*=F;M*=F;F*=P;g[0]=1-(T+D);g[1]=S+F;g[2]=y-M;g[3]=0;g[4]=S-F;g[5]=1-(m+D);g[6]=B+J;g[7]=0;g[8]=y+M;g[9]=B-J;g[10]=1-(m+T);g[11]=0;g[12]=u[0];g[13]=u[1];g[14]=u[2];g[15]=1;return g}function r(g,m){g[0]=m[12];g[1]=m[13];g[2]=m[14];return g}function p(g,m){var u=m[4],y=m[5],B=m[6],D=m[8],F=m[9],J=m[10];g[0]=Math.hypot(m[0],m[1],m[2]);g[1]=Math.hypot(u,y,B);g[2]=Math.hypot(D,
F,J);return g}function v(g,m){var u=new qa(3);p(u,m);var y=1/u[0],B=1/u[1],D=1/u[2],F=m[0]*y;u=m[1]*B;var J=m[2]*D,M=m[4]*y,P=m[5]*B,S=m[6]*D;y*=m[8];B*=m[9];m=m[10]*D;D=F+P+m;0<D?(F=2*Math.sqrt(D+1),g[3]=.25*F,g[0]=(S-B)/F,g[1]=(y-J)/F,g[2]=(u-M)/F):F>P&&F>m?(F=2*Math.sqrt(1+F-P-m),g[3]=(S-B)/F,g[0]=.25*F,g[1]=(u+M)/F,g[2]=(y+J)/F):P>m?(F=2*Math.sqrt(1+P-F-m),g[3]=(y-J)/F,g[0]=(u+M)/F,g[1]=.25*F,g[2]=(S+B)/F):(F=2*Math.sqrt(1+m-F-P),g[3]=(u-M)/F,g[0]=(y+J)/F,g[1]=(S+B)/F,g[2]=.25*F);return g}function t(g,
m,u){g[0]=m[0]-u[0];g[1]=m[1]-u[1];g[2]=m[2]-u[2];g[3]=m[3]-u[3];g[4]=m[4]-u[4];g[5]=m[5]-u[5];g[6]=m[6]-u[6];g[7]=m[7]-u[7];g[8]=m[8]-u[8];g[9]=m[9]-u[9];g[10]=m[10]-u[10];g[11]=m[11]-u[11];g[12]=m[12]-u[12];g[13]=m[13]-u[13];g[14]=m[14]-u[14];g[15]=m[15]-u[15];return g}function w(){var g=new qa(3);qa!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0);return g}function x(g){return Math.hypot(g[0],g[1],g[2])}function z(g,m,u){var y=new qa(3);y[0]=g;y[1]=m;y[2]=u;return y}function E(g,m,u){g[0]=m[0]-u[0];g[1]=
m[1]-u[1];g[2]=m[2]-u[2];return g}function G(g,m,u){g[0]=m[0]*u[0];g[1]=m[1]*u[1];g[2]=m[2]*u[2];return g}function N(g,m,u){g[0]=m[0]/u[0];g[1]=m[1]/u[1];g[2]=m[2]/u[2];return g}function C(g,m){return Math.hypot(m[0]-g[0],m[1]-g[1],m[2]-g[2])}function H(g,m){var u=m[0]-g[0],y=m[1]-g[1];g=m[2]-g[2];return u*u+y*y+g*g}function I(g){var m=g[0],u=g[1];g=g[2];return m*m+u*u+g*g}function K(g,m){var u=m[0],y=m[1],B=m[2];u=u*u+y*y+B*B;0<u&&(u=1/Math.sqrt(u));g[0]=m[0]*u;g[1]=m[1]*u;g[2]=m[2]*u;return g}function Q(g,
m){return g[0]*m[0]+g[1]*m[1]+g[2]*m[2]}function R(g,m,u){var y=m[0],B=m[1];m=m[2];var D=u[0],F=u[1];u=u[2];g[0]=B*u-m*F;g[1]=m*D-y*u;g[2]=y*F-B*D;return g}function U(){var g=new qa(4);qa!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0,g[3]=0);return g}function Z(g){var m=new qa(4);m[0]=g[0];m[1]=g[1];m[2]=g[2];m[3]=g[3];return m}function ca(g,m,u,y){var B=new qa(4);B[0]=g;B[1]=m;B[2]=u;B[3]=y;return B}function Y(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[3];return g}function ha(g,m,u,y,B){g[0]=m;g[1]=u;g[2]=
y;g[3]=B;return g}function ka(g,m,u){g[0]=m[0]+u[0];g[1]=m[1]+u[1];g[2]=m[2]+u[2];g[3]=m[3]+u[3];return g}function za(g,m,u){g[0]=m[0]-u[0];g[1]=m[1]-u[1];g[2]=m[2]-u[2];g[3]=m[3]-u[3];return g}function Oa(g,m,u){g[0]=m[0]*u[0];g[1]=m[1]*u[1];g[2]=m[2]*u[2];g[3]=m[3]*u[3];return g}function ab(g,m,u){g[0]=m[0]/u[0];g[1]=m[1]/u[1];g[2]=m[2]/u[2];g[3]=m[3]/u[3];return g}function Ua(g,m,u){g[0]=m[0]*u;g[1]=m[1]*u;g[2]=m[2]*u;g[3]=m[3]*u;return g}function bb(g,m){return Math.hypot(m[0]-g[0],m[1]-g[1],
m[2]-g[2],m[3]-g[3])}function mb(g,m){var u=m[0]-g[0],y=m[1]-g[1],B=m[2]-g[2];g=m[3]-g[3];return u*u+y*y+B*B+g*g}function Va(g){return Math.hypot(g[0],g[1],g[2],g[3])}function Pa(g){var m=g[0],u=g[1],y=g[2];g=g[3];return m*m+u*u+y*y+g*g}function fb(g,m){var u=m[0],y=m[1],B=m[2];m=m[3];var D=u*u+y*y+B*B+m*m;0<D&&(D=1/Math.sqrt(D));g[0]=u*D;g[1]=y*D;g[2]=B*D;g[3]=m*D;return g}function cb(g,m){return g[0]*m[0]+g[1]*m[1]+g[2]*m[2]+g[3]*m[3]}function ub(g,m,u,y){var B=m[0],D=m[1],F=m[2];m=m[3];g[0]=B+
y*(u[0]-B);g[1]=D+y*(u[1]-D);g[2]=F+y*(u[2]-F);g[3]=m+y*(u[3]-m);return g}function vb(g,m){return g[0]===m[0]&&g[1]===m[1]&&g[2]===m[2]&&g[3]===m[3]}function wb(g,m){var u=g[0],y=g[1],B=g[2];g=g[3];var D=m[0],F=m[1],J=m[2];m=m[3];return Math.abs(u-D)<=1E-6*Math.max(1,Math.abs(u),Math.abs(D))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(B-J)<=1E-6*Math.max(1,Math.abs(B),Math.abs(J))&&Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))}function gb(){var g=new qa(4);qa!=Float32Array&&
(g[0]=0,g[1]=0,g[2]=0);g[3]=1;return g}function xb(g,m,u){u*=.5;var y=Math.sin(u);g[0]=y*m[0];g[1]=y*m[1];g[2]=y*m[2];g[3]=Math.cos(u);return g}function yb(g,m,u){var y=m[0],B=m[1],D=m[2];m=m[3];var F=u[0],J=u[1],M=u[2];u=u[3];g[0]=y*u+m*F+B*M-D*J;g[1]=B*u+m*J+D*F-y*M;g[2]=D*u+m*M+y*J-B*F;g[3]=m*u-y*F-B*J-D*M;return g}function zb(g,m,u){u*=.5;var y=m[0],B=m[1],D=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);g[0]=y*u+m*F;g[1]=B*u+D*F;g[2]=D*u-B*F;g[3]=m*u-y*F;return g}function Ab(g,m,u){u*=.5;var y=
m[0],B=m[1],D=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);g[0]=y*u-D*F;g[1]=B*u+m*F;g[2]=D*u+y*F;g[3]=m*u-B*F;return g}function Bb(g,m,u){u*=.5;var y=m[0],B=m[1],D=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);g[0]=y*u+B*F;g[1]=B*u-y*F;g[2]=D*u+m*F;g[3]=m*u-D*F;return g}function Cb(g,m){var u=m[0],y=m[1],B=m[2],D=Math.sqrt(u*u+y*y+B*B);m=Math.exp(m[3]);var F=0<D?m*Math.sin(D)/D:0;g[0]=u*F;g[1]=y*F;g[2]=B*F;g[3]=m*Math.cos(D);return g}function Db(g,m){var u=m[0],y=m[1],B=m[2];m=m[3];var D=Math.sqrt(u*
u+y*y+B*B);D=0<D?Math.atan2(D,m)/D:0;g[0]=u*D;g[1]=y*D;g[2]=B*D;g[3]=.5*Math.log(u*u+y*y+B*B+m*m);return g}function hb(g,m,u,y){var B=m[0],D=m[1],F=m[2];m=m[3];var J=u[0],M=u[1],P=u[2];u=u[3];var S=B*J+D*M+F*P+m*u;0>S&&(S=-S,J=-J,M=-M,P=-P,u=-u);if(1E-6<1-S){var T=Math.acos(S);var X=Math.sin(T);S=Math.sin((1-y)*T)/X;y=Math.sin(y*T)/X}else S=1-y;g[0]=S*B+y*J;g[1]=S*D+y*M;g[2]=S*F+y*P;g[3]=S*m+y*u;return g}function Eb(g,m){var u=m[0]+m[4]+m[8];if(0<u)u=Math.sqrt(u+1),g[3]=.5*u,u=.5/u,g[0]=(m[5]-m[7])*
u,g[1]=(m[6]-m[2])*u,g[2]=(m[1]-m[3])*u;else{var y=0;m[4]>m[0]&&(y=1);m[8]>m[3*y+y]&&(y=2);var B=(y+1)%3,D=(y+2)%3;u=Math.sqrt(m[3*y+y]-m[3*B+B]-m[3*D+D]+1);g[y]=.5*u;u=.5/u;g[3]=(m[3*B+D]-m[3*D+B])*u;g[B]=(m[3*B+y]+m[3*y+B])*u;g[D]=(m[3*D+y]+m[3*y+D])*u}return g}function Fb(g,m,u){var y=.5*u[0],B=.5*u[1];u=.5*u[2];var D=m[0],F=m[1],J=m[2];m=m[3];g[0]=D;g[1]=F;g[2]=J;g[3]=m;g[4]=y*m+B*J-u*F;g[5]=B*m+u*D-y*J;g[6]=u*m+y*F-B*D;g[7]=-y*D-B*F-u*J;return g}function Gb(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];
g[3]=m[3];g[4]=m[4];g[5]=m[5];g[6]=m[6];g[7]=m[7];return g}function Hb(g,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=u[4],M=u[5],P=u[6],S=u[7],T=m[4],X=m[5],W=m[6];m=m[7];var fa=u[0],da=u[1],aa=u[2];u=u[3];g[0]=y*u+F*fa+B*aa-D*da;g[1]=B*u+F*da+D*fa-y*aa;g[2]=D*u+F*aa+y*da-B*fa;g[3]=F*u-y*fa-B*da-D*aa;g[4]=y*S+F*J+B*P-D*M+T*u+m*fa+X*aa-W*da;g[5]=B*S+F*M+D*J-y*P+X*u+m*da+W*fa-T*aa;g[6]=D*S+F*P+y*M-B*J+W*u+m*aa+T*da-X*fa;g[7]=F*S-y*J-B*M-D*P+m*u-T*fa-X*da-W*aa;return g}function ib(){var g=new qa(2);qa!=Float32Array&&
(g[0]=0,g[1]=0);return g}function Sa(g,m,u){g[0]=m[0]-u[0];g[1]=m[1]-u[1];return g}function jb(g,m,u){g[0]=m[0]*u[0];g[1]=m[1]*u[1];return g}function kb(g,m,u){g[0]=m[0]/u[0];g[1]=m[1]/u[1];return g}function Wa(g,m){return Math.hypot(m[0]-g[0],m[1]-g[1])}function lb(g,m){var u=m[0]-g[0];g=m[1]-g[1];return u*u+g*g}function Ma(g){return Math.hypot(g[0],g[1])}function nb(g){var m=g[0];g=g[1];return m*m+g*g}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ka=Math.random,Ib=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var g=0,m=arguments.length;m--;)g+=arguments[m]*arguments[m];return Math.sqrt(g)});var Ob=Object.freeze({__proto__:null,EPSILON:1E-6,get cia(){return qa},Woa:Ka,fwa:function(g){qa=g},pwa:function(g){return g*Ib},Tc:function(g,m){return Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))}}),Pb=Object.freeze({__proto__:null,create:function(){var g=new qa(4);qa!=Float32Array&&(g[1]=0,g[2]=0);g[0]=1;g[3]=1;return g},clone:function(g){var m=new qa(4);m[0]=g[0];m[1]=g[1];
m[2]=g[2];m[3]=g[3];return m},wa:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[3];return g},Ox:function(g){g[0]=1;g[1]=0;g[2]=0;g[3]=1;return g},Qf:function(g,m,u,y){var B=new qa(4);B[0]=g;B[1]=m;B[2]=u;B[3]=y;return B},set:function(g,m,u,y,B){g[0]=m;g[1]=u;g[2]=y;g[3]=B;return g},pX:function(g,m){if(g===m){var u=m[1];g[1]=m[2];g[2]=u}else g[0]=m[0],g[1]=m[2],g[2]=m[1],g[3]=m[3];return g},Kt:function(g,m){var u=m[0],y=m[1],B=m[2];m=m[3];var D=u*m-B*y;if(!D)return null;D=1/D;g[0]=m*D;g[1]=-y*
D;g[2]=-B*D;g[3]=u*D;return g},sW:function(g,m){var u=m[0];g[0]=m[3];g[1]=-m[1];g[2]=-m[2];g[3]=u;return g},xL:function(g){return g[0]*g[3]-g[2]*g[1]},multiply:a,rotate:function(g,m,u){var y=m[0],B=m[1],D=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);g[0]=y*u+D*F;g[1]=B*u+m*F;g[2]=y*-F+D*u;g[3]=B*-F+m*u;return g},scale:function(g,m,u){var y=m[1],B=m[2],D=m[3],F=u[0];u=u[1];g[0]=m[0]*F;g[1]=y*F;g[2]=B*u;g[3]=D*u;return g},yD:function(g,m){var u=Math.sin(m);m=Math.cos(m);g[0]=m;g[1]=u;g[2]=-u;g[3]=m;
return g},BL:function(g,m){g[0]=m[0];g[1]=0;g[2]=0;g[3]=m[1];return g},Im:function(g){return"mat2("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"},AL:function(g){return Math.hypot(g[0],g[1],g[2],g[3])},Lma:function(g,m,u,y){g[2]=y[2]/y[0];u[0]=y[0];u[1]=y[1];u[3]=y[3]-g[2]*u[1];return[g,m,u]},add:function(g,m,u){g[0]=m[0]+u[0];g[1]=m[1]+u[1];g[2]=m[2]+u[2];g[3]=m[3]+u[3];return g},Jm:b,Rj:function(g,m){return g[0]===m[0]&&g[1]===m[1]&&g[2]===m[2]&&g[3]===m[3]},Tc:function(g,m){var u=g[0],y=g[1],B=g[2];g=
g[3];var D=m[0],F=m[1],J=m[2];m=m[3];return Math.abs(u-D)<=1E-6*Math.max(1,Math.abs(u),Math.abs(D))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(B-J)<=1E-6*Math.max(1,Math.abs(B),Math.abs(J))&&Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))},OL:function(g,m,u){g[0]=m[0]*u;g[1]=m[1]*u;g[2]=m[2]*u;g[3]=m[3]*u;return g},PL:function(g,m,u,y){g[0]=m[0]+u[0]*y;g[1]=m[1]+u[1]*y;g[2]=m[2]+u[2]*y;g[3]=m[3]+u[3]*y;return g},xo:a,sub:b}),Qb=Object.freeze({__proto__:null,create:function(){var g=
new qa(6);qa!=Float32Array&&(g[1]=0,g[2]=0,g[4]=0,g[5]=0);g[0]=1;g[3]=1;return g},clone:function(g){var m=new qa(6);m[0]=g[0];m[1]=g[1];m[2]=g[2];m[3]=g[3];m[4]=g[4];m[5]=g[5];return m},wa:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[3];g[4]=m[4];g[5]=m[5];return g},Ox:function(g){g[0]=1;g[1]=0;g[2]=0;g[3]=1;g[4]=0;g[5]=0;return g},Qf:function(g,m,u,y,B,D){var F=new qa(6);F[0]=g;F[1]=m;F[2]=u;F[3]=y;F[4]=B;F[5]=D;return F},set:function(g,m,u,y,B,D,F){g[0]=m;g[1]=u;g[2]=y;g[3]=B;g[4]=D;g[5]=
F;return g},Kt:function(g,m){var u=m[0],y=m[1],B=m[2],D=m[3],F=m[4];m=m[5];var J=u*D-y*B;if(!J)return null;J=1/J;g[0]=D*J;g[1]=-y*J;g[2]=-B*J;g[3]=u*J;g[4]=(B*m-D*F)*J;g[5]=(y*F-u*m)*J;return g},xL:function(g){return g[0]*g[3]-g[1]*g[2]},multiply:e,rotate:function(g,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=m[4];m=m[5];var M=Math.sin(u);u=Math.cos(u);g[0]=y*u+D*M;g[1]=B*u+F*M;g[2]=y*-M+D*u;g[3]=B*-M+F*u;g[4]=J;g[5]=m;return g},scale:function(g,m,u){var y=m[1],B=m[2],D=m[3],F=m[4],J=m[5],M=u[0];u=u[1];
g[0]=m[0]*M;g[1]=y*M;g[2]=B*u;g[3]=D*u;g[4]=F;g[5]=J;return g},translate:function(g,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=m[4];m=m[5];var M=u[0];u=u[1];g[0]=y;g[1]=B;g[2]=D;g[3]=F;g[4]=y*M+D*u+J;g[5]=B*M+F*u+m;return g},yD:function(g,m){var u=Math.sin(m);m=Math.cos(m);g[0]=m;g[1]=u;g[2]=-u;g[3]=m;g[4]=0;g[5]=0;return g},BL:function(g,m){g[0]=m[0];g[1]=0;g[2]=0;g[3]=m[1];g[4]=0;g[5]=0;return g},CL:function(g,m){g[0]=1;g[1]=0;g[2]=0;g[3]=1;g[4]=m[0];g[5]=m[1];return g},Im:function(g){return"mat2d("+
g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+")"},AL:function(g){return Math.hypot(g[0],g[1],g[2],g[3],g[4],g[5],1)},add:function(g,m,u){g[0]=m[0]+u[0];g[1]=m[1]+u[1];g[2]=m[2]+u[2];g[3]=m[3]+u[3];g[4]=m[4]+u[4];g[5]=m[5]+u[5];return g},Jm:c,OL:function(g,m,u){g[0]=m[0]*u;g[1]=m[1]*u;g[2]=m[2]*u;g[3]=m[3]*u;g[4]=m[4]*u;g[5]=m[5]*u;return g},PL:function(g,m,u,y){g[0]=m[0]+u[0]*y;g[1]=m[1]+u[1]*y;g[2]=m[2]+u[2]*y;g[3]=m[3]+u[3]*y;g[4]=m[4]+u[4]*y;g[5]=m[5]+u[5]*y;return g},Rj:function(g,m){return g[0]===
m[0]&&g[1]===m[1]&&g[2]===m[2]&&g[3]===m[3]&&g[4]===m[4]&&g[5]===m[5]},Tc:function(g,m){var u=g[0],y=g[1],B=g[2],D=g[3],F=g[4];g=g[5];var J=m[0],M=m[1],P=m[2],S=m[3],T=m[4];m=m[5];return Math.abs(u-J)<=1E-6*Math.max(1,Math.abs(u),Math.abs(J))&&Math.abs(y-M)<=1E-6*Math.max(1,Math.abs(y),Math.abs(M))&&Math.abs(B-P)<=1E-6*Math.max(1,Math.abs(B),Math.abs(P))&&Math.abs(D-S)<=1E-6*Math.max(1,Math.abs(D),Math.abs(S))&&Math.abs(F-T)<=1E-6*Math.max(1,Math.abs(F),Math.abs(T))&&Math.abs(g-m)<=1E-6*Math.max(1,
Math.abs(g),Math.abs(m))},xo:e,sub:c}),Rb=Object.freeze({__proto__:null,create:f,Fga:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[4];g[4]=m[5];g[5]=m[6];g[6]=m[8];g[7]=m[9];g[8]=m[10];return g},clone:function(g){var m=new qa(9);m[0]=g[0];m[1]=g[1];m[2]=g[2];m[3]=g[3];m[4]=g[4];m[5]=g[5];m[6]=g[6];m[7]=g[7];m[8]=g[8];return m},wa:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[3];g[4]=m[4];g[5]=m[5];g[6]=m[6];g[7]=m[7];g[8]=m[8];return g},Qf:function(g,m,u,y,B,D,F,J,M){var P=new qa(9);P[0]=
g;P[1]=m;P[2]=u;P[3]=y;P[4]=B;P[5]=D;P[6]=F;P[7]=J;P[8]=M;return P},set:function(g,m,u,y,B,D,F,J,M,P){g[0]=m;g[1]=u;g[2]=y;g[3]=B;g[4]=D;g[5]=F;g[6]=J;g[7]=M;g[8]=P;return g},Ox:function(g){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=1;g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g},pX:function(g,m){if(g===m){var u=m[1],y=m[2],B=m[5];g[1]=m[3];g[2]=m[6];g[3]=u;g[5]=m[7];g[6]=y;g[7]=B}else g[0]=m[0],g[1]=m[3],g[2]=m[6],g[3]=m[1],g[4]=m[4],g[5]=m[7],g[6]=m[2],g[7]=m[5],g[8]=m[8];return g},Kt:function(g,m){var u=m[0],y=
m[1],B=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7];m=m[8];var S=m*F-J*P,T=-m*D+J*M,X=P*D-F*M,W=u*S+y*T+B*X;if(!W)return null;W=1/W;g[0]=S*W;g[1]=(-m*y+B*P)*W;g[2]=(J*y-B*F)*W;g[3]=T*W;g[4]=(m*u-B*M)*W;g[5]=(-J*u+B*D)*W;g[6]=X*W;g[7]=(-P*u+y*M)*W;g[8]=(F*u-y*D)*W;return g},sW:function(g,m){var u=m[0],y=m[1],B=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7];m=m[8];g[0]=F*m-J*P;g[1]=B*P-y*m;g[2]=y*J-B*F;g[3]=J*M-D*m;g[4]=u*m-B*M;g[5]=B*D-u*J;g[6]=D*P-F*M;g[7]=y*M-u*P;g[8]=u*F-y*D;return g},xL:function(g){var m=
g[3],u=g[4],y=g[5],B=g[6],D=g[7],F=g[8];return g[0]*(F*u-y*D)+g[1]*(-F*m+y*B)+g[2]*(D*m-u*B)},multiply:k,translate:function(g,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7];m=m[8];var T=u[0];u=u[1];g[0]=y;g[1]=B;g[2]=D;g[3]=F;g[4]=J;g[5]=M;g[6]=T*y+u*F+P;g[7]=T*B+u*J+S;g[8]=T*D+u*M+m;return g},rotate:function(g,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7];m=m[8];var T=Math.sin(u);u=Math.cos(u);g[0]=u*y+T*F;g[1]=u*B+T*J;g[2]=u*D+T*M;g[3]=u*F-T*y;g[4]=u*J-T*B;g[5]=
u*M-T*D;g[6]=P;g[7]=S;g[8]=m;return g},scale:function(g,m,u){var y=u[0];u=u[1];g[0]=y*m[0];g[1]=y*m[1];g[2]=y*m[2];g[3]=u*m[3];g[4]=u*m[4];g[5]=u*m[5];g[6]=m[6];g[7]=m[7];g[8]=m[8];return g},CL:function(g,m){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=1;g[5]=0;g[6]=m[0];g[7]=m[1];g[8]=1;return g},yD:function(g,m){var u=Math.sin(m);m=Math.cos(m);g[0]=m;g[1]=u;g[2]=0;g[3]=-u;g[4]=m;g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g},BL:function(g,m){g[0]=m[0];g[1]=0;g[2]=0;g[3]=0;g[4]=m[1];g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g},
dua:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=0;g[3]=m[2];g[4]=m[3];g[5]=0;g[6]=m[4];g[7]=m[5];g[8]=1;return g},Gga:function(g,m){var u=m[0],y=m[1],B=m[2];m=m[3];var D=u+u,F=y+y,J=B+B;u*=D;var M=y*D;y*=F;var P=B*D,S=B*F;B*=J;D*=m;F*=m;m*=J;g[0]=1-y-B;g[3]=M-m;g[6]=P+F;g[1]=M+m;g[4]=1-u-B;g[7]=S-D;g[2]=P-F;g[5]=S+D;g[8]=1-u-y;return g},ova:function(g,m){var u=m[0],y=m[1],B=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];var ua=u*J-y*F,pa=u*M-B*
F,sa=u*P-D*F,ta=y*M-B*J,ra=y*P-D*J,Da=B*P-D*M,Ea=S*da-T*fa,Fa=S*aa-X*fa;S=S*m-W*fa;var Ga=T*aa-X*da;T=T*m-W*da;X=X*m-W*aa;W=ua*X-pa*T+sa*Ga+ta*S-ra*Fa+Da*Ea;if(!W)return null;W=1/W;g[0]=(J*X-M*T+P*Ga)*W;g[1]=(M*S-F*X-P*Fa)*W;g[2]=(F*T-J*S+P*Ea)*W;g[3]=(B*T-y*X-D*Ga)*W;g[4]=(u*X-B*S+D*Fa)*W;g[5]=(y*S-u*T-D*Ea)*W;g[6]=(da*Da-aa*ra+m*ta)*W;g[7]=(aa*sa-fa*Da-m*pa)*W;g[8]=(fa*ra-da*sa+m*ua)*W;return g},cX:function(g,m,u){g[0]=2/m;g[1]=0;g[2]=0;g[3]=0;g[4]=-2/u;g[5]=0;g[6]=-1;g[7]=1;g[8]=1;return g},Im:function(g){return"mat3("+
g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+", "+g[8]+")"},AL:function(g){return Math.hypot(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8])},add:function(g,m,u){g[0]=m[0]+u[0];g[1]=m[1]+u[1];g[2]=m[2]+u[2];g[3]=m[3]+u[3];g[4]=m[4]+u[4];g[5]=m[5]+u[5];g[6]=m[6]+u[6];g[7]=m[7]+u[7];g[8]=m[8]+u[8];return g},Jm:h,OL:function(g,m,u){g[0]=m[0]*u;g[1]=m[1]*u;g[2]=m[2]*u;g[3]=m[3]*u;g[4]=m[4]*u;g[5]=m[5]*u;g[6]=m[6]*u;g[7]=m[7]*u;g[8]=m[8]*u;return g},PL:function(g,m,u,y){g[0]=
m[0]+u[0]*y;g[1]=m[1]+u[1]*y;g[2]=m[2]+u[2]*y;g[3]=m[3]+u[3]*y;g[4]=m[4]+u[4]*y;g[5]=m[5]+u[5]*y;g[6]=m[6]+u[6]*y;g[7]=m[7]+u[7]*y;g[8]=m[8]+u[8]*y;return g},Rj:function(g,m){return g[0]===m[0]&&g[1]===m[1]&&g[2]===m[2]&&g[3]===m[3]&&g[4]===m[4]&&g[5]===m[5]&&g[6]===m[6]&&g[7]===m[7]&&g[8]===m[8]},Tc:function(g,m){var u=g[0],y=g[1],B=g[2],D=g[3],F=g[4],J=g[5],M=g[6],P=g[7];g=g[8];var S=m[0],T=m[1],X=m[2],W=m[3],fa=m[4],da=m[5],aa=m[6],ua=m[7];m=m[8];return Math.abs(u-S)<=1E-6*Math.max(1,Math.abs(u),
Math.abs(S))&&Math.abs(y-T)<=1E-6*Math.max(1,Math.abs(y),Math.abs(T))&&Math.abs(B-X)<=1E-6*Math.max(1,Math.abs(B),Math.abs(X))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(F-fa)<=1E-6*Math.max(1,Math.abs(F),Math.abs(fa))&&Math.abs(J-da)<=1E-6*Math.max(1,Math.abs(J),Math.abs(da))&&Math.abs(M-aa)<=1E-6*Math.max(1,Math.abs(M),Math.abs(aa))&&Math.abs(P-ua)<=1E-6*Math.max(1,Math.abs(P),Math.abs(ua))&&Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))},xo:k,sub:h}),Sb=Object.freeze({__proto__:null,
create:function(){var g=new qa(16);qa!=Float32Array&&(g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[11]=0,g[12]=0,g[13]=0,g[14]=0);g[0]=1;g[5]=1;g[10]=1;g[15]=1;return g},clone:function(g){var m=new qa(16);m[0]=g[0];m[1]=g[1];m[2]=g[2];m[3]=g[3];m[4]=g[4];m[5]=g[5];m[6]=g[6];m[7]=g[7];m[8]=g[8];m[9]=g[9];m[10]=g[10];m[11]=g[11];m[12]=g[12];m[13]=g[13];m[14]=g[14];m[15]=g[15];return m},wa:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[3];g[4]=m[4];g[5]=m[5];g[6]=m[6];g[7]=m[7];g[8]=
m[8];g[9]=m[9];g[10]=m[10];g[11]=m[11];g[12]=m[12];g[13]=m[13];g[14]=m[14];g[15]=m[15];return g},Qf:function(g,m,u,y,B,D,F,J,M,P,S,T,X,W,fa,da){var aa=new qa(16);aa[0]=g;aa[1]=m;aa[2]=u;aa[3]=y;aa[4]=B;aa[5]=D;aa[6]=F;aa[7]=J;aa[8]=M;aa[9]=P;aa[10]=S;aa[11]=T;aa[12]=X;aa[13]=W;aa[14]=fa;aa[15]=da;return aa},set:function(g,m,u,y,B,D,F,J,M,P,S,T,X,W,fa,da,aa){g[0]=m;g[1]=u;g[2]=y;g[3]=B;g[4]=D;g[5]=F;g[6]=J;g[7]=M;g[8]=P;g[9]=S;g[10]=T;g[11]=X;g[12]=W;g[13]=fa;g[14]=da;g[15]=aa;return g},Ox:l,pX:function(g,
m){if(g===m){var u=m[1],y=m[2],B=m[3],D=m[6],F=m[7],J=m[11];g[1]=m[4];g[2]=m[8];g[3]=m[12];g[4]=u;g[6]=m[9];g[7]=m[13];g[8]=y;g[9]=D;g[11]=m[14];g[12]=B;g[13]=F;g[14]=J}else g[0]=m[0],g[1]=m[4],g[2]=m[8],g[3]=m[12],g[4]=m[1],g[5]=m[5],g[6]=m[9],g[7]=m[13],g[8]=m[2],g[9]=m[6],g[10]=m[10],g[11]=m[14],g[12]=m[3],g[13]=m[7],g[14]=m[11],g[15]=m[15];return g},Kt:function(g,m){var u=m[0],y=m[1],B=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];var ua=
u*J-y*F,pa=u*M-B*F,sa=u*P-D*F,ta=y*M-B*J,ra=y*P-D*J,Da=B*P-D*M,Ea=S*da-T*fa,Fa=S*aa-X*fa,Ga=S*m-W*fa,Ia=T*aa-X*da,Qa=T*m-W*da,Ra=X*m-W*aa,Aa=ua*Ra-pa*Qa+sa*Ia+ta*Ga-ra*Fa+Da*Ea;if(!Aa)return null;Aa=1/Aa;g[0]=(J*Ra-M*Qa+P*Ia)*Aa;g[1]=(B*Qa-y*Ra-D*Ia)*Aa;g[2]=(da*Da-aa*ra+m*ta)*Aa;g[3]=(X*ra-T*Da-W*ta)*Aa;g[4]=(M*Ga-F*Ra-P*Fa)*Aa;g[5]=(u*Ra-B*Ga+D*Fa)*Aa;g[6]=(aa*sa-fa*Da-m*pa)*Aa;g[7]=(S*Da-X*sa+W*pa)*Aa;g[8]=(F*Qa-J*Ga+P*Ea)*Aa;g[9]=(y*Ga-u*Qa-D*Ea)*Aa;g[10]=(fa*ra-da*sa+m*ua)*Aa;g[11]=(T*sa-S*ra-
W*ua)*Aa;g[12]=(J*Fa-F*Ia-M*Ea)*Aa;g[13]=(u*Ia-y*Fa+B*Ea)*Aa;g[14]=(da*pa-fa*ta-aa*ua)*Aa;g[15]=(S*ta-T*pa+X*ua)*Aa;return g},sW:function(g,m){var u=m[0],y=m[1],B=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];g[0]=J*(X*m-W*aa)-T*(M*m-P*aa)+da*(M*W-P*X);g[1]=-(y*(X*m-W*aa)-T*(B*m-D*aa)+da*(B*W-D*X));g[2]=y*(M*m-P*aa)-J*(B*m-D*aa)+da*(B*P-D*M);g[3]=-(y*(M*W-P*X)-J*(B*W-D*X)+T*(B*P-D*M));g[4]=-(F*(X*m-W*aa)-S*(M*m-P*aa)+fa*(M*W-P*X));g[5]=u*
(X*m-W*aa)-S*(B*m-D*aa)+fa*(B*W-D*X);g[6]=-(u*(M*m-P*aa)-F*(B*m-D*aa)+fa*(B*P-D*M));g[7]=u*(M*W-P*X)-F*(B*W-D*X)+S*(B*P-D*M);g[8]=F*(T*m-W*da)-S*(J*m-P*da)+fa*(J*W-P*T);g[9]=-(u*(T*m-W*da)-S*(y*m-D*da)+fa*(y*W-D*T));g[10]=u*(J*m-P*da)-F*(y*m-D*da)+fa*(y*P-D*J);g[11]=-(u*(J*W-P*T)-F*(y*W-D*T)+S*(y*P-D*J));g[12]=-(F*(T*aa-X*da)-S*(J*aa-M*da)+fa*(J*X-M*T));g[13]=u*(T*aa-X*da)-S*(y*aa-B*da)+fa*(y*X-B*T);g[14]=-(u*(J*aa-M*da)-F*(y*aa-B*da)+fa*(y*M-B*J));g[15]=u*(J*X-M*T)-F*(y*X-B*T)+S*(y*M-B*J);return g},
xL:function(g){var m=g[0],u=g[1],y=g[2],B=g[3],D=g[4],F=g[5],J=g[6],M=g[7],P=g[8],S=g[9],T=g[10],X=g[11],W=g[12],fa=g[13],da=g[14];g=g[15];return(m*F-u*D)*(T*g-X*da)-(m*J-y*D)*(S*g-X*fa)+(m*M-B*D)*(S*da-T*fa)+(u*J-y*F)*(P*g-X*W)-(u*M-B*F)*(P*da-T*W)+(y*M-B*J)*(P*fa-S*W)},multiply:n,translate:function(g,m,u){var y=u[0],B=u[1];u=u[2];if(m===g)g[12]=m[0]*y+m[4]*B+m[8]*u+m[12],g[13]=m[1]*y+m[5]*B+m[9]*u+m[13],g[14]=m[2]*y+m[6]*B+m[10]*u+m[14],g[15]=m[3]*y+m[7]*B+m[11]*u+m[15];else{var D=m[0];var F=m[1];
var J=m[2];var M=m[3];var P=m[4];var S=m[5];var T=m[6];var X=m[7];var W=m[8];var fa=m[9];var da=m[10];var aa=m[11];g[0]=D;g[1]=F;g[2]=J;g[3]=M;g[4]=P;g[5]=S;g[6]=T;g[7]=X;g[8]=W;g[9]=fa;g[10]=da;g[11]=aa;g[12]=D*y+P*B+W*u+m[12];g[13]=F*y+S*B+fa*u+m[13];g[14]=J*y+T*B+da*u+m[14];g[15]=M*y+X*B+aa*u+m[15]}return g},scale:function(g,m,u){var y=u[0],B=u[1];u=u[2];g[0]=m[0]*y;g[1]=m[1]*y;g[2]=m[2]*y;g[3]=m[3]*y;g[4]=m[4]*B;g[5]=m[5]*B;g[6]=m[6]*B;g[7]=m[7]*B;g[8]=m[8]*u;g[9]=m[9]*u;g[10]=m[10]*u;g[11]=m[11]*
u;g[12]=m[12];g[13]=m[13];g[14]=m[14];g[15]=m[15];return g},rotate:function(g,m,u,y){var B=y[0],D=y[1];y=y[2];var F=Math.hypot(B,D,y);if(1E-6>F)return null;F=1/F;B*=F;D*=F;y*=F;var J=Math.sin(u);var M=Math.cos(u);var P=1-M;u=m[0];F=m[1];var S=m[2];var T=m[3];var X=m[4];var W=m[5];var fa=m[6];var da=m[7];var aa=m[8];var ua=m[9];var pa=m[10];var sa=m[11];var ta=B*B*P+M;var ra=D*B*P+y*J;var Da=y*B*P-D*J;var Ea=B*D*P-y*J;var Fa=D*D*P+M;var Ga=y*D*P+B*J;var Ia=B*y*P+D*J;B=D*y*P-B*J;D=y*y*P+M;g[0]=u*ta+
X*ra+aa*Da;g[1]=F*ta+W*ra+ua*Da;g[2]=S*ta+fa*ra+pa*Da;g[3]=T*ta+da*ra+sa*Da;g[4]=u*Ea+X*Fa+aa*Ga;g[5]=F*Ea+W*Fa+ua*Ga;g[6]=S*Ea+fa*Fa+pa*Ga;g[7]=T*Ea+da*Fa+sa*Ga;g[8]=u*Ia+X*B+aa*D;g[9]=F*Ia+W*B+ua*D;g[10]=S*Ia+fa*B+pa*D;g[11]=T*Ia+da*B+sa*D;m!==g&&(g[12]=m[12],g[13]=m[13],g[14]=m[14],g[15]=m[15]);return g},dM:function(g,m,u){var y=Math.sin(u);u=Math.cos(u);var B=m[4],D=m[5],F=m[6],J=m[7],M=m[8],P=m[9],S=m[10],T=m[11];m!==g&&(g[0]=m[0],g[1]=m[1],g[2]=m[2],g[3]=m[3],g[12]=m[12],g[13]=m[13],g[14]=m[14],
g[15]=m[15]);g[4]=B*u+M*y;g[5]=D*u+P*y;g[6]=F*u+S*y;g[7]=J*u+T*y;g[8]=M*u-B*y;g[9]=P*u-D*y;g[10]=S*u-F*y;g[11]=T*u-J*y;return g},eM:function(g,m,u){var y=Math.sin(u);u=Math.cos(u);var B=m[0],D=m[1],F=m[2],J=m[3],M=m[8],P=m[9],S=m[10],T=m[11];m!==g&&(g[4]=m[4],g[5]=m[5],g[6]=m[6],g[7]=m[7],g[12]=m[12],g[13]=m[13],g[14]=m[14],g[15]=m[15]);g[0]=B*u-M*y;g[1]=D*u-P*y;g[2]=F*u-S*y;g[3]=J*u-T*y;g[8]=B*y+M*u;g[9]=D*y+P*u;g[10]=F*y+S*u;g[11]=J*y+T*u;return g},fM:function(g,m,u){var y=Math.sin(u);u=Math.cos(u);
var B=m[0],D=m[1],F=m[2],J=m[3],M=m[4],P=m[5],S=m[6],T=m[7];m!==g&&(g[8]=m[8],g[9]=m[9],g[10]=m[10],g[11]=m[11],g[12]=m[12],g[13]=m[13],g[14]=m[14],g[15]=m[15]);g[0]=B*u+M*y;g[1]=D*u+P*y;g[2]=F*u+S*y;g[3]=J*u+T*y;g[4]=M*u-B*y;g[5]=P*u-D*y;g[6]=S*u-F*y;g[7]=T*u-J*y;return g},CL:function(g,m){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=m[0];g[13]=m[1];g[14]=m[2];g[15]=1;return g},BL:function(g,m){g[0]=m[0];g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=m[1];g[6]=0;
g[7]=0;g[8]=0;g[9]=0;g[10]=m[2];g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},yD:function(g,m,u){var y=u[0],B=u[1];u=u[2];var D=Math.hypot(y,B,u);if(1E-6>D)return null;D=1/D;y*=D;B*=D;u*=D;D=Math.sin(m);m=Math.cos(m);var F=1-m;g[0]=y*y*F+m;g[1]=B*y*F+u*D;g[2]=u*y*F-B*D;g[3]=0;g[4]=y*B*F-u*D;g[5]=B*B*F+m;g[6]=u*B*F+y*D;g[7]=0;g[8]=y*u*F+B*D;g[9]=B*u*F-y*D;g[10]=u*u*F+m;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},jua:function(g,m){var u=Math.sin(m);m=Math.cos(m);g[0]=1;g[1]=0;g[2]=0;g[3]=
0;g[4]=0;g[5]=m;g[6]=u;g[7]=0;g[8]=0;g[9]=-u;g[10]=m;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},kua:function(g,m){var u=Math.sin(m);m=Math.cos(m);g[0]=m;g[1]=0;g[2]=-u;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=u;g[9]=0;g[10]=m;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},lua:function(g,m){var u=Math.sin(m);m=Math.cos(m);g[0]=m;g[1]=u;g[2]=0;g[3]=0;g[4]=-u;g[5]=m;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},Hga:q,fua:function(g,m){var u=new qa(3),
y=-m[0],B=-m[1],D=-m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=y*y+B*B+D*D+F*F;0<T?(u[0]=2*(J*F+S*y+M*D-P*B)/T,u[1]=2*(M*F+S*B+P*y-J*D)/T,u[2]=2*(P*F+S*D+J*B-M*y)/T):(u[0]=2*(J*F+S*y+M*D-P*B),u[1]=2*(M*F+S*B+P*y-J*D),u[2]=2*(P*F+S*D+J*B-M*y));q(g,m,u);return g},Kga:r,wua:p,vua:v,gua:function(g,m,u,y){var B=m[0],D=m[1],F=m[2],J=m[3],M=B+B,P=D+D,S=F+F;m=B*M;var T=B*P;B*=S;var X=D*P;D*=S;F*=S;M*=J;P*=J;J*=S;S=y[0];var W=y[1];y=y[2];g[0]=(1-(X+F))*S;g[1]=(T+J)*S;g[2]=(B-P)*S;g[3]=0;g[4]=(T-J)*W;g[5]=(1-
(m+F))*W;g[6]=(D+M)*W;g[7]=0;g[8]=(B+P)*y;g[9]=(D-M)*y;g[10]=(1-(m+X))*y;g[11]=0;g[12]=u[0];g[13]=u[1];g[14]=u[2];g[15]=1;return g},hua:function(g,m,u,y,B){var D=m[0],F=m[1],J=m[2],M=m[3],P=D+D,S=F+F,T=J+J;m=D*P;var X=D*S,W=D*T;D=F*S;F*=T;var fa=J*T;J=M*P;S*=M;var da=M*T,aa=y[0],ua=y[1];T=y[2];y=B[0];M=B[1];B=B[2];P=(1-(D+fa))*aa;var pa=(X+da)*aa;aa*=W-S;X=(X-da)*ua;fa=(1-(m+fa))*ua;ua*=F+J;W=(W+S)*T;F=(F-J)*T;m=(1-(m+D))*T;g[0]=P;g[1]=pa;g[2]=aa;g[3]=0;g[4]=X;g[5]=fa;g[6]=ua;g[7]=0;g[8]=W;g[9]=F;
g[10]=m;g[11]=0;g[12]=u[0]+y-(P*y+X*M+W*B);g[13]=u[1]+M-(pa*y+fa*M+F*B);g[14]=u[2]+B-(aa*y+ua*M+m*B);g[15]=1;return g},Gga:function(g,m){var u=m[0],y=m[1],B=m[2];m=m[3];var D=u+u,F=y+y,J=B+B;u*=D;var M=y*D;y*=F;var P=B*D,S=B*F;B*=J;D*=m;F*=m;m*=J;g[0]=1-y-B;g[1]=M+m;g[2]=P-F;g[3]=0;g[4]=M-m;g[5]=1-u-B;g[6]=S+D;g[7]=0;g[8]=P+F;g[9]=S-D;g[10]=1-u-y;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},Iga:function(g,m,u,y,B,D,F){var J=1/(u-m),M=1/(B-y),P=1/(D-F);g[0]=2*D*J;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=
2*D*M;g[6]=0;g[7]=0;g[8]=(u+m)*J;g[9]=(B+y)*M;g[10]=(F+D)*P;g[11]=-1;g[12]=0;g[13]=0;g[14]=F*D*2*P;g[15]=0;return g},perspective:function(g,m,u,y,B){m=1/Math.tan(m/2);g[0]=m/u;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=m;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[11]=-1;g[12]=0;g[13]=0;g[15]=0;null!=B&&Infinity!==B?(u=1/(y-B),g[10]=(B+y)*u,g[14]=2*B*y*u):(g[10]=-1,g[14]=-2*y);return g},vva:function(g,m,u,y){var B=Math.tan(m.wwa*Math.PI/180),D=Math.tan(m.Sta*Math.PI/180),F=Math.tan(m.bva*Math.PI/180);m=Math.tan(m.Rva*Math.PI/
180);var J=2/(F+m),M=2/(B+D);g[0]=J;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=M;g[6]=0;g[7]=0;g[8]=-((F-m)*J*.5);g[9]=(B-D)*M*.5;g[10]=y/(u-y);g[11]=-1;g[12]=0;g[13]=0;g[14]=y*u/(u-y);g[15]=0;return g},tha:function(g,m,u,y,B,D,F){var J=1/(m-u),M=1/(y-B),P=1/(D-F);g[0]=-2*J;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=-2*M;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=2*P;g[11]=0;g[12]=(m+u)*J;g[13]=(B+y)*M;g[14]=(F+D)*P;g[15]=1;return g},jha:function(g,m,u,y){var B=m[0],D=m[1];m=m[2];var F=y[0];var J=y[1];var M=y[2];var P=u[0];y=
u[1];var S=u[2];if(1E-6>Math.abs(B-P)&&1E-6>Math.abs(D-y)&&1E-6>Math.abs(m-S))return l(g);u=B-P;y=D-y;P=m-S;var T=1/Math.hypot(u,y,P);u*=T;y*=T;P*=T;S=J*P-M*y;M=M*u-F*P;F=F*y-J*u;(T=Math.hypot(S,M,F))?(T=1/T,S*=T,M*=T,F*=T):F=M=S=0;J=y*F-P*M;var X=P*S-u*F;var W=u*M-y*S;(T=Math.hypot(J,X,W))?(T=1/T,J*=T,X*=T,W*=T):W=X=J=0;g[0]=S;g[1]=J;g[2]=u;g[3]=0;g[4]=M;g[5]=X;g[6]=y;g[7]=0;g[8]=F;g[9]=W;g[10]=P;g[11]=0;g[12]=-(S*B+M*D+F*m);g[13]=-(J*B+X*D+W*m);g[14]=-(u*B+y*D+P*m);g[15]=1;return g},mwa:function(g,
m,u,y){var B=m[0],D=m[1];m=m[2];var F=y[0],J=y[1],M=y[2];y=B-u[0];var P=D-u[1];u=m-u[2];var S=y*y+P*P+u*u;0<S&&(S=1/Math.sqrt(S),y*=S,P*=S,u*=S);var T=J*u-M*P;M=M*y-F*u;F=F*P-J*y;S=T*T+M*M+F*F;0<S&&(S=1/Math.sqrt(S),T*=S,M*=S,F*=S);g[0]=T;g[1]=M;g[2]=F;g[3]=0;g[4]=P*F-u*M;g[5]=u*T-y*F;g[6]=y*M-P*T;g[7]=0;g[8]=y;g[9]=P;g[10]=u;g[11]=0;g[12]=B;g[13]=D;g[14]=m;g[15]=1;return g},Im:function(g){return"mat4("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+", "+g[8]+", "+g[9]+
", "+g[10]+", "+g[11]+", "+g[12]+", "+g[13]+", "+g[14]+", "+g[15]+")"},AL:function(g){return Math.hypot(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15])},add:function(g,m,u){g[0]=m[0]+u[0];g[1]=m[1]+u[1];g[2]=m[2]+u[2];g[3]=m[3]+u[3];g[4]=m[4]+u[4];g[5]=m[5]+u[5];g[6]=m[6]+u[6];g[7]=m[7]+u[7];g[8]=m[8]+u[8];g[9]=m[9]+u[9];g[10]=m[10]+u[10];g[11]=m[11]+u[11];g[12]=m[12]+u[12];g[13]=m[13]+u[13];g[14]=m[14]+u[14];g[15]=m[15]+u[15];return g},Jm:t,OL:function(g,m,
u){g[0]=m[0]*u;g[1]=m[1]*u;g[2]=m[2]*u;g[3]=m[3]*u;g[4]=m[4]*u;g[5]=m[5]*u;g[6]=m[6]*u;g[7]=m[7]*u;g[8]=m[8]*u;g[9]=m[9]*u;g[10]=m[10]*u;g[11]=m[11]*u;g[12]=m[12]*u;g[13]=m[13]*u;g[14]=m[14]*u;g[15]=m[15]*u;return g},PL:function(g,m,u,y){g[0]=m[0]+u[0]*y;g[1]=m[1]+u[1]*y;g[2]=m[2]+u[2]*y;g[3]=m[3]+u[3]*y;g[4]=m[4]+u[4]*y;g[5]=m[5]+u[5]*y;g[6]=m[6]+u[6]*y;g[7]=m[7]+u[7]*y;g[8]=m[8]+u[8]*y;g[9]=m[9]+u[9]*y;g[10]=m[10]+u[10]*y;g[11]=m[11]+u[11]*y;g[12]=m[12]+u[12]*y;g[13]=m[13]+u[13]*y;g[14]=m[14]+u[14]*
y;g[15]=m[15]+u[15]*y;return g},Rj:function(g,m){return g[0]===m[0]&&g[1]===m[1]&&g[2]===m[2]&&g[3]===m[3]&&g[4]===m[4]&&g[5]===m[5]&&g[6]===m[6]&&g[7]===m[7]&&g[8]===m[8]&&g[9]===m[9]&&g[10]===m[10]&&g[11]===m[11]&&g[12]===m[12]&&g[13]===m[13]&&g[14]===m[14]&&g[15]===m[15]},Tc:function(g,m){var u=g[0],y=g[1],B=g[2],D=g[3],F=g[4],J=g[5],M=g[6],P=g[7],S=g[8],T=g[9],X=g[10],W=g[11],fa=g[12],da=g[13],aa=g[14];g=g[15];var ua=m[0],pa=m[1],sa=m[2],ta=m[3],ra=m[4],Da=m[5],Ea=m[6],Fa=m[7],Ga=m[8],Ia=m[9],
Qa=m[10],Ra=m[11],Aa=m[12],Jb=m[13],Kb=m[14];m=m[15];return Math.abs(u-ua)<=1E-6*Math.max(1,Math.abs(u),Math.abs(ua))&&Math.abs(y-pa)<=1E-6*Math.max(1,Math.abs(y),Math.abs(pa))&&Math.abs(B-sa)<=1E-6*Math.max(1,Math.abs(B),Math.abs(sa))&&Math.abs(D-ta)<=1E-6*Math.max(1,Math.abs(D),Math.abs(ta))&&Math.abs(F-ra)<=1E-6*Math.max(1,Math.abs(F),Math.abs(ra))&&Math.abs(J-Da)<=1E-6*Math.max(1,Math.abs(J),Math.abs(Da))&&Math.abs(M-Ea)<=1E-6*Math.max(1,Math.abs(M),Math.abs(Ea))&&Math.abs(P-Fa)<=1E-6*Math.max(1,
Math.abs(P),Math.abs(Fa))&&Math.abs(S-Ga)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Ga))&&Math.abs(T-Ia)<=1E-6*Math.max(1,Math.abs(T),Math.abs(Ia))&&Math.abs(X-Qa)<=1E-6*Math.max(1,Math.abs(X),Math.abs(Qa))&&Math.abs(W-Ra)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ra))&&Math.abs(fa-Aa)<=1E-6*Math.max(1,Math.abs(fa),Math.abs(Aa))&&Math.abs(da-Jb)<=1E-6*Math.max(1,Math.abs(da),Math.abs(Jb))&&Math.abs(aa-Kb)<=1E-6*Math.max(1,Math.abs(aa),Math.abs(Kb))&&Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))},
xo:n,sub:t}),ob=function(){var g=w();return function(m,u,y,B,D,F){u||(u=3);y||(y=0);for(B=B?Math.min(B*u+y,m.length):m.length;y<B;y+=u)g[0]=m[y],g[1]=m[y+1],g[2]=m[y+2],D(g,g,F),m[y]=g[0],m[y+1]=g[1],m[y+2]=g[2];return m}}();ob=Object.freeze({__proto__:null,create:w,clone:function(g){var m=new qa(3);m[0]=g[0];m[1]=g[1];m[2]=g[2];return m},length:x,Qf:z,wa:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];return g},set:function(g,m,u,y){g[0]=m;g[1]=u;g[2]=y;return g},add:function(g,m,u){g[0]=m[0]+u[0];g[1]=
m[1]+u[1];g[2]=m[2]+u[2];return g},Jm:E,multiply:G,al:N,ceil:function(g,m){g[0]=Math.ceil(m[0]);g[1]=Math.ceil(m[1]);g[2]=Math.ceil(m[2]);return g},floor:function(g,m){g[0]=Math.floor(m[0]);g[1]=Math.floor(m[1]);g[2]=Math.floor(m[2]);return g},min:function(g,m,u){g[0]=Math.min(m[0],u[0]);g[1]=Math.min(m[1],u[1]);g[2]=Math.min(m[2],u[2]);return g},max:function(g,m,u){g[0]=Math.max(m[0],u[0]);g[1]=Math.max(m[1],u[1]);g[2]=Math.max(m[2],u[2]);return g},round:function(g,m){g[0]=Math.round(m[0]);g[1]=
Math.round(m[1]);g[2]=Math.round(m[2]);return g},scale:function(g,m,u){g[0]=m[0]*u;g[1]=m[1]*u;g[2]=m[2]*u;return g},gM:function(g,m,u,y){g[0]=m[0]+u[0]*y;g[1]=m[1]+u[1]*y;g[2]=m[2]+u[2]*y;return g},Lx:C,lX:H,OD:I,UW:function(g,m){g[0]=-m[0];g[1]=-m[1];g[2]=-m[2];return g},inverse:function(g,m){g[0]=1/m[0];g[1]=1/m[1];g[2]=1/m[2];return g},normalize:K,to:Q,wL:R,rd:function(g,m,u,y){var B=m[0],D=m[1];m=m[2];g[0]=B+y*(u[0]-B);g[1]=D+y*(u[1]-D);g[2]=m+y*(u[2]-m);return g},Bua:function(g,m,u,y,B,D){var F=
D*D,J=F*(2*D-3)+1,M=F*(D-2)+D,P=F*(D-1);D=F*(3-2*D);g[0]=m[0]*J+u[0]*M+y[0]*P+B[0]*D;g[1]=m[1]*J+u[1]*M+y[1]*P+B[1]*D;g[2]=m[2]*J+u[2]*M+y[2]*P+B[2]*D;return g},Bta:function(g,m,u,y,B,D){var F=1-D,J=F*F,M=D*D,P=J*F;J*=3*D;F*=3*M;D*=M;g[0]=m[0]*P+u[0]*J+y[0]*F+B[0]*D;g[1]=m[1]*P+u[1]*J+y[1]*F+B[1]*D;g[2]=m[2]*P+u[2]*J+y[2]*F+B[2]*D;return g},random:function(g,m){m=m||1;var u=2*Ka()*Math.PI,y=2*Ka()-1,B=Math.sqrt(1-y*y)*m;g[0]=Math.cos(u)*B;g[1]=Math.sin(u)*B;g[2]=y*m;return g},pM:function(g,m,u){var y=
m[0],B=m[1];m=m[2];var D=u[3]*y+u[7]*B+u[11]*m+u[15];D=D||1;g[0]=(u[0]*y+u[4]*B+u[8]*m+u[12])/D;g[1]=(u[1]*y+u[5]*B+u[9]*m+u[13])/D;g[2]=(u[2]*y+u[6]*B+u[10]*m+u[14])/D;return g},Uha:function(g,m,u){var y=m[0],B=m[1];m=m[2];g[0]=y*u[0]+B*u[3]+m*u[6];g[1]=y*u[1]+B*u[4]+m*u[7];g[2]=y*u[2]+B*u[5]+m*u[8];return g},Vha:function(g,m,u){var y=u[0],B=u[1],D=u[2],F=m[0],J=m[1];m=m[2];var M=B*m-D*J,P=D*F-y*m,S=y*J-B*F;u=2*u[3];g[0]=F+M*u+2*(B*S-D*P);g[1]=J+P*u+2*(D*M-y*S);g[2]=m+S*u+2*(y*P-B*M);return g},dM:function(g,
m,u,y){var B=[],D=[];B[0]=m[0]-u[0];B[1]=m[1]-u[1];B[2]=m[2]-u[2];D[0]=B[0];D[1]=B[1]*Math.cos(y)-B[2]*Math.sin(y);D[2]=B[1]*Math.sin(y)+B[2]*Math.cos(y);g[0]=D[0]+u[0];g[1]=D[1]+u[1];g[2]=D[2]+u[2];return g},eM:function(g,m,u,y){var B=[],D=[];B[0]=m[0]-u[0];B[1]=m[1]-u[1];B[2]=m[2]-u[2];D[0]=B[2]*Math.sin(y)+B[0]*Math.cos(y);D[1]=B[1];D[2]=B[2]*Math.cos(y)-B[0]*Math.sin(y);g[0]=D[0]+u[0];g[1]=D[1]+u[1];g[2]=D[2]+u[2];return g},fM:function(g,m,u,y){var B=[],D=[];B[0]=m[0]-u[0];B[1]=m[1]-u[1];B[2]=
m[2]-u[2];D[0]=B[0]*Math.cos(y)-B[1]*Math.sin(y);D[1]=B[0]*Math.sin(y)+B[1]*Math.cos(y);D[2]=B[2];g[0]=D[0]+u[0];g[1]=D[1]+u[1];g[2]=D[2]+u[2];return g},angle:function(g,m){var u=g[0],y=g[1],B=g[2],D=m[0],F=m[1],J=m[2];g=(u=Math.sqrt(u*u+y*y+B*B)*Math.sqrt(D*D+F*F+J*J))&&Q(g,m)/u;return Math.acos(Math.min(Math.max(g,-1),1))},yX:function(g){g[0]=0;g[1]=0;g[2]=0;return g},Im:function(g){return"vec3("+g[0]+", "+g[1]+", "+g[2]+")"},Rj:function(g,m){return g[0]===m[0]&&g[1]===m[1]&&g[2]===m[2]},Tc:function(g,
m){var u=g[0],y=g[1];g=g[2];var B=m[0],D=m[1];m=m[2];return Math.abs(u-B)<=1E-6*Math.max(1,Math.abs(u),Math.abs(B))&&Math.abs(y-D)<=1E-6*Math.max(1,Math.abs(y),Math.abs(D))&&Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))},sub:E,xo:G,GW:N,EW:C,kX:H,Rx:x,ND:I,forEach:ob});var pb=function(){var g=U();return function(m,u,y,B,D,F){u||(u=4);y||(y=0);for(B=B?Math.min(B*u+y,m.length):m.length;y<B;y+=u)g[0]=m[y],g[1]=m[y+1],g[2]=m[y+2],g[3]=m[y+3],D(g,g,F),m[y]=g[0],m[y+1]=g[1],m[y+2]=g[2],m[y+3]=
g[3];return m}}();pb=Object.freeze({__proto__:null,create:U,clone:Z,Qf:ca,wa:Y,set:ha,add:ka,Jm:za,multiply:Oa,al:ab,ceil:function(g,m){g[0]=Math.ceil(m[0]);g[1]=Math.ceil(m[1]);g[2]=Math.ceil(m[2]);g[3]=Math.ceil(m[3]);return g},floor:function(g,m){g[0]=Math.floor(m[0]);g[1]=Math.floor(m[1]);g[2]=Math.floor(m[2]);g[3]=Math.floor(m[3]);return g},min:function(g,m,u){g[0]=Math.min(m[0],u[0]);g[1]=Math.min(m[1],u[1]);g[2]=Math.min(m[2],u[2]);g[3]=Math.min(m[3],u[3]);return g},max:function(g,m,u){g[0]=
Math.max(m[0],u[0]);g[1]=Math.max(m[1],u[1]);g[2]=Math.max(m[2],u[2]);g[3]=Math.max(m[3],u[3]);return g},round:function(g,m){g[0]=Math.round(m[0]);g[1]=Math.round(m[1]);g[2]=Math.round(m[2]);g[3]=Math.round(m[3]);return g},scale:Ua,gM:function(g,m,u,y){g[0]=m[0]+u[0]*y;g[1]=m[1]+u[1]*y;g[2]=m[2]+u[2]*y;g[3]=m[3]+u[3]*y;return g},Lx:bb,lX:mb,length:Va,OD:Pa,UW:function(g,m){g[0]=-m[0];g[1]=-m[1];g[2]=-m[2];g[3]=-m[3];return g},inverse:function(g,m){g[0]=1/m[0];g[1]=1/m[1];g[2]=1/m[2];g[3]=1/m[3];return g},
normalize:fb,to:cb,wL:function(g,m,u,y){var B=u[0]*y[1]-u[1]*y[0],D=u[0]*y[2]-u[2]*y[0],F=u[0]*y[3]-u[3]*y[0],J=u[1]*y[2]-u[2]*y[1],M=u[1]*y[3]-u[3]*y[1];u=u[2]*y[3]-u[3]*y[2];y=m[0];var P=m[1],S=m[2];m=m[3];g[0]=P*u-S*M+m*J;g[1]=-(y*u)+S*F-m*D;g[2]=y*M-P*F+m*B;g[3]=-(y*J)+P*D-S*B;return g},rd:ub,random:function(g,m){m=m||1;do{var u=2*Ka()-1;var y=2*Ka()-1;var B=u*u+y*y}while(1<=B);do{var D=2*Ka()-1;var F=2*Ka()-1;var J=D*D+F*F}while(1<=J);B=Math.sqrt((1-B)/J);g[0]=m*u;g[1]=m*y;g[2]=m*D*B;g[3]=m*
F*B;return g},pM:function(g,m,u){var y=m[0],B=m[1],D=m[2];m=m[3];g[0]=u[0]*y+u[4]*B+u[8]*D+u[12]*m;g[1]=u[1]*y+u[5]*B+u[9]*D+u[13]*m;g[2]=u[2]*y+u[6]*B+u[10]*D+u[14]*m;g[3]=u[3]*y+u[7]*B+u[11]*D+u[15]*m;return g},Vha:function(g,m,u){var y=m[0],B=m[1],D=m[2],F=u[0],J=u[1],M=u[2];u=u[3];var P=u*y+J*D-M*B,S=u*B+M*y-F*D,T=u*D+F*B-J*y;y=-F*y-J*B-M*D;g[0]=P*u+y*-F+S*-M-T*-J;g[1]=S*u+y*-J+T*-F-P*-M;g[2]=T*u+y*-M+P*-J-S*-F;g[3]=m[3];return g},yX:function(g){g[0]=0;g[1]=0;g[2]=0;g[3]=0;return g},Im:function(g){return"vec4("+
g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"},Rj:vb,Tc:wb,sub:za,xo:Oa,GW:ab,EW:bb,kX:mb,Rx:Va,ND:Pa,forEach:pb});var qb=function(){var g=w(),m=z(1,0,0),u=z(0,1,0);return function(y,B,D){var F=Q(B,D);if(-.999999>F)return R(g,m,B),1E-6>x(g)&&R(g,u,B),K(g,g),xb(y,g,Math.PI),y;if(.999999<F)return y[0]=0,y[1]=0,y[2]=0,y[3]=1,y;R(g,B,D);y[0]=g[0];y[1]=g[1];y[2]=g[2];y[3]=1+F;return fb(y,y)}}(),rb=function(){var g=gb(),m=gb();return function(u,y,B,D,F,J){hb(g,y,F,J);hb(m,B,D,J);hb(u,g,m,2*J*(1-J));return u}}(),
db=function(){var g=f();return function(m,u,y,B){g[0]=y[0];g[3]=y[1];g[6]=y[2];g[1]=B[0];g[4]=B[1];g[7]=B[2];g[2]=-u[0];g[5]=-u[1];g[8]=-u[2];return fb(m,Eb(m,g))}}();qb=Object.freeze({__proto__:null,create:gb,Ox:function(g){g[0]=0;g[1]=0;g[2]=0;g[3]=1;return g},dwa:xb,sua:function(g,m){var u=2*Math.acos(m[3]),y=Math.sin(u/2);1E-6<y?(g[0]=m[0]/y,g[1]=m[1]/y,g[2]=m[2]/y):(g[0]=1,g[1]=0,g[2]=0);return u},qua:function(g,m){g=cb(g,m);return Math.acos(2*g*g-1)},multiply:yb,dM:zb,eM:Ab,fM:Bb,Cta:function(g,
m){var u=m[0],y=m[1];m=m[2];g[0]=u;g[1]=y;g[2]=m;g[3]=Math.sqrt(Math.abs(1-u*u-y*y-m*m));return g},exp:Cb,iha:Db,pow:function(g,m,u){Db(g,m);Ua(g,g,u);Cb(g,g);return g},iwa:hb,random:function(g){var m=Ka(),u=Ka(),y=Ka(),B=Math.sqrt(1-m);m=Math.sqrt(m);g[0]=B*Math.sin(2*Math.PI*u);g[1]=B*Math.cos(2*Math.PI*u);g[2]=m*Math.sin(2*Math.PI*y);g[3]=m*Math.cos(2*Math.PI*y);return g},Kt:function(g,m){var u=m[0],y=m[1],B=m[2];m=m[3];var D=u*u+y*y+B*B+m*m;D=D?1/D:0;g[0]=-u*D;g[1]=-y*D;g[2]=-B*D;g[3]=m*D;return g},
rga:function(g,m){g[0]=-m[0];g[1]=-m[1];g[2]=-m[2];g[3]=m[3];return g},eua:Eb,cua:function(g,m,u,y){var B=.5*Math.PI/180;m*=B;u*=B;y*=B;B=Math.sin(m);m=Math.cos(m);var D=Math.sin(u);u=Math.cos(u);var F=Math.sin(y);y=Math.cos(y);g[0]=B*u*y-m*D*F;g[1]=m*D*y+B*u*F;g[2]=m*u*F-B*D*y;g[3]=m*u*y+B*D*F;return g},Im:function(g){return"quat("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"},clone:Z,Qf:ca,wa:Y,set:ha,add:ka,xo:yb,scale:Ua,to:cb,rd:ub,length:Va,Rx:Va,OD:Pa,ND:Pa,normalize:fb,Rj:vb,Tc:wb,Vva:qb,jwa:rb,
cwa:db});rb=Object.freeze({__proto__:null,create:function(){var g=new qa(8);qa!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0,g[4]=0,g[5]=0,g[6]=0,g[7]=0);g[3]=1;return g},clone:function(g){var m=new qa(8);m[0]=g[0];m[1]=g[1];m[2]=g[2];m[3]=g[3];m[4]=g[4];m[5]=g[5];m[6]=g[6];m[7]=g[7];return m},Qf:function(g,m,u,y,B,D,F,J){var M=new qa(8);M[0]=g;M[1]=m;M[2]=u;M[3]=y;M[4]=B;M[5]=D;M[6]=F;M[7]=J;return M},iua:function(g,m,u,y,B,D,F){var J=new qa(8);J[0]=g;J[1]=m;J[2]=u;J[3]=y;B*=.5;D*=.5;F*=.5;J[4]=B*y+D*u-F*
m;J[5]=D*y+F*g-B*u;J[6]=F*y+B*m-D*g;J[7]=-B*g-D*m-F*u;return J},Hga:Fb,CL:function(g,m){g[0]=0;g[1]=0;g[2]=0;g[3]=1;g[4]=.5*m[0];g[5]=.5*m[1];g[6]=.5*m[2];g[7]=0;return g},yD:function(g,m){g[0]=m[0];g[1]=m[1];g[2]=m[2];g[3]=m[3];g[4]=0;g[5]=0;g[6]=0;g[7]=0;return g},Fga:function(g,m){var u=gb();v(u,m);var y=new qa(3);r(y,m);Fb(g,u,y);return g},wa:Gb,Ox:function(g){g[0]=0;g[1]=0;g[2]=0;g[3]=1;g[4]=0;g[5]=0;g[6]=0;g[7]=0;return g},set:function(g,m,u,y,B,D,F,J,M){g[0]=m;g[1]=u;g[2]=y;g[3]=B;g[4]=D;g[5]=
F;g[6]=J;g[7]=M;return g},uua:Y,tua:function(g,m){g[0]=m[4];g[1]=m[5];g[2]=m[6];g[3]=m[7];return g},gwa:Y,ewa:function(g,m){g[4]=m[0];g[5]=m[1];g[6]=m[2];g[7]=m[3];return g},Kga:function(g,m){var u=m[4],y=m[5],B=m[6],D=m[7],F=-m[0],J=-m[1],M=-m[2];m=m[3];g[0]=2*(u*m+D*F+y*M-B*J);g[1]=2*(y*m+D*J+B*F-u*M);g[2]=2*(B*m+D*M+u*J-y*F);return g},translate:function(g,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=.5*u[0],M=.5*u[1];u=.5*u[2];var P=m[4],S=m[5],T=m[6];m=m[7];g[0]=y;g[1]=B;g[2]=D;g[3]=F;g[4]=F*J+B*u-
D*M+P;g[5]=F*M+D*J-y*u+S;g[6]=F*u+y*M-B*J+T;g[7]=-y*J-B*M-D*u+m;return g},dM:function(g,m,u){var y=-m[0],B=-m[1],D=-m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=J*F+S*y+M*D-P*B,X=M*F+S*B+P*y-J*D,W=P*F+S*D+J*B-M*y;J=S*F-J*y-M*B-P*D;zb(g,m,u);y=g[0];B=g[1];D=g[2];F=g[3];g[4]=T*F+J*y+X*D-W*B;g[5]=X*F+J*B+W*y-T*D;g[6]=W*F+J*D+T*B-X*y;g[7]=J*F-T*y-X*B-W*D;return g},eM:function(g,m,u){var y=-m[0],B=-m[1],D=-m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=J*F+S*y+M*D-P*B,X=M*F+S*B+P*y-J*D,W=P*F+S*D+J*B-M*y;J=S*F-
J*y-M*B-P*D;Ab(g,m,u);y=g[0];B=g[1];D=g[2];F=g[3];g[4]=T*F+J*y+X*D-W*B;g[5]=X*F+J*B+W*y-T*D;g[6]=W*F+J*D+T*B-X*y;g[7]=J*F-T*y-X*B-W*D;return g},fM:function(g,m,u){var y=-m[0],B=-m[1],D=-m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=J*F+S*y+M*D-P*B,X=M*F+S*B+P*y-J*D,W=P*F+S*D+J*B-M*y;J=S*F-J*y-M*B-P*D;Bb(g,m,u);y=g[0];B=g[1];D=g[2];F=g[3];g[4]=T*F+J*y+X*D-W*B;g[5]=X*F+J*B+W*y-T*D;g[6]=W*F+J*D+T*B-X*y;g[7]=J*F-T*y-X*B-W*D;return g},Tva:function(g,m,u){var y=u[0],B=u[1],D=u[2];u=u[3];var F=m[0],J=m[1],M=
m[2],P=m[3];g[0]=F*u+P*y+J*D-M*B;g[1]=J*u+P*B+M*y-F*D;g[2]=M*u+P*D+F*B-J*y;g[3]=P*u-F*y-J*B-M*D;F=m[4];J=m[5];M=m[6];P=m[7];g[4]=F*u+P*y+J*D-M*B;g[5]=J*u+P*B+M*y-F*D;g[6]=M*u+P*D+F*B-J*y;g[7]=P*u-F*y-J*B-M*D;return g},Uva:function(g,m,u){var y=m[0],B=m[1],D=m[2];m=m[3];var F=u[0],J=u[1],M=u[2],P=u[3];g[0]=y*P+m*F+B*M-D*J;g[1]=B*P+m*J+D*F-y*M;g[2]=D*P+m*M+y*J-B*F;g[3]=m*P-y*F-B*J-D*M;F=u[4];J=u[5];M=u[6];P=u[7];g[4]=y*P+m*F+B*M-D*J;g[5]=B*P+m*J+D*F-y*M;g[6]=D*P+m*M+y*J-B*F;g[7]=m*P-y*F-B*J-D*M;return g},
Sva:function(g,m,u,y){if(1E-6>Math.abs(y))return Gb(g,m);var B=Math.hypot(u[0],u[1],u[2]);y*=.5;var D=Math.sin(y),F=D*u[0]/B,J=D*u[1]/B;u=D*u[2]/B;y=Math.cos(y);B=m[0];D=m[1];var M=m[2],P=m[3];g[0]=B*y+P*F+D*u-M*J;g[1]=D*y+P*J+M*F-B*u;g[2]=M*y+P*u+B*J-D*F;g[3]=P*y-B*F-D*J-M*u;B=m[4];D=m[5];M=m[6];m=m[7];g[4]=B*y+m*F+D*u-M*J;g[5]=D*y+m*J+M*F-B*u;g[6]=M*y+m*u+B*J-D*F;g[7]=m*y-B*F-D*J-M*u;return g},add:function(g,m,u){g[0]=m[0]+u[0];g[1]=m[1]+u[1];g[2]=m[2]+u[2];g[3]=m[3]+u[3];g[4]=m[4]+u[4];g[5]=m[5]+
u[5];g[6]=m[6]+u[6];g[7]=m[7]+u[7];return g},multiply:Hb,xo:Hb,scale:function(g,m,u){g[0]=m[0]*u;g[1]=m[1]*u;g[2]=m[2]*u;g[3]=m[3]*u;g[4]=m[4]*u;g[5]=m[5]*u;g[6]=m[6]*u;g[7]=m[7]*u;return g},to:cb,rd:function(g,m,u,y){var B=1-y;0>cb(m,u)&&(y=-y);g[0]=m[0]*B+u[0]*y;g[1]=m[1]*B+u[1]*y;g[2]=m[2]*B+u[2]*y;g[3]=m[3]*B+u[3]*y;g[4]=m[4]*B+u[4]*y;g[5]=m[5]*B+u[5]*y;g[6]=m[6]*B+u[6]*y;g[7]=m[7]*B+u[7]*y;return g},Kt:function(g,m){var u=Pa(m);g[0]=-m[0]/u;g[1]=-m[1]/u;g[2]=-m[2]/u;g[3]=m[3]/u;g[4]=-m[4]/u;
g[5]=-m[5]/u;g[6]=-m[6]/u;g[7]=m[7]/u;return g},rga:function(g,m){g[0]=-m[0];g[1]=-m[1];g[2]=-m[2];g[3]=m[3];g[4]=-m[4];g[5]=-m[5];g[6]=-m[6];g[7]=m[7];return g},length:Va,Rx:Va,OD:Pa,ND:Pa,normalize:function(g,m){var u=Pa(m);if(0<u){u=Math.sqrt(u);var y=m[0]/u,B=m[1]/u,D=m[2]/u,F=m[3]/u,J=m[4],M=m[5],P=m[6];m=m[7];var S=y*J+B*M+D*P+F*m;g[0]=y;g[1]=B;g[2]=D;g[3]=F;g[4]=(J-y*S)/u;g[5]=(M-B*S)/u;g[6]=(P-D*S)/u;g[7]=(m-F*S)/u}return g},Im:function(g){return"quat2("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+
", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+")"},Rj:function(g,m){return g[0]===m[0]&&g[1]===m[1]&&g[2]===m[2]&&g[3]===m[3]&&g[4]===m[4]&&g[5]===m[5]&&g[6]===m[6]&&g[7]===m[7]},Tc:function(g,m){var u=g[0],y=g[1],B=g[2],D=g[3],F=g[4],J=g[5],M=g[6];g=g[7];var P=m[0],S=m[1],T=m[2],X=m[3],W=m[4],fa=m[5],da=m[6];m=m[7];return Math.abs(u-P)<=1E-6*Math.max(1,Math.abs(u),Math.abs(P))&&Math.abs(y-S)<=1E-6*Math.max(1,Math.abs(y),Math.abs(S))&&Math.abs(B-T)<=1E-6*Math.max(1,Math.abs(B),Math.abs(T))&&Math.abs(D-
X)<=1E-6*Math.max(1,Math.abs(D),Math.abs(X))&&Math.abs(F-W)<=1E-6*Math.max(1,Math.abs(F),Math.abs(W))&&Math.abs(J-fa)<=1E-6*Math.max(1,Math.abs(J),Math.abs(fa))&&Math.abs(M-da)<=1E-6*Math.max(1,Math.abs(M),Math.abs(da))&&Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))}});db=function(){var g=ib();return function(m,u,y,B,D,F){u||(u=2);y||(y=0);for(B=B?Math.min(B*u+y,m.length):m.length;y<B;y+=u)g[0]=m[y],g[1]=m[y+1],D(g,g,F),m[y]=g[0],m[y+1]=g[1];return m}}();db=Object.freeze({__proto__:null,
create:ib,clone:function(g){var m=new qa(2);m[0]=g[0];m[1]=g[1];return m},Qf:function(g,m){var u=new qa(2);u[0]=g;u[1]=m;return u},wa:function(g,m){g[0]=m[0];g[1]=m[1];return g},set:function(g,m,u){g[0]=m;g[1]=u;return g},add:function(g,m,u){g[0]=m[0]+u[0];g[1]=m[1]+u[1];return g},Jm:Sa,multiply:jb,al:kb,ceil:function(g,m){g[0]=Math.ceil(m[0]);g[1]=Math.ceil(m[1]);return g},floor:function(g,m){g[0]=Math.floor(m[0]);g[1]=Math.floor(m[1]);return g},min:function(g,m,u){g[0]=Math.min(m[0],u[0]);g[1]=
Math.min(m[1],u[1]);return g},max:function(g,m,u){g[0]=Math.max(m[0],u[0]);g[1]=Math.max(m[1],u[1]);return g},round:function(g,m){g[0]=Math.round(m[0]);g[1]=Math.round(m[1]);return g},scale:function(g,m,u){g[0]=m[0]*u;g[1]=m[1]*u;return g},gM:function(g,m,u,y){g[0]=m[0]+u[0]*y;g[1]=m[1]+u[1]*y;return g},Lx:Wa,lX:lb,length:Ma,OD:nb,UW:function(g,m){g[0]=-m[0];g[1]=-m[1];return g},inverse:function(g,m){g[0]=1/m[0];g[1]=1/m[1];return g},normalize:function(g,m){var u=m[0],y=m[1];u=u*u+y*y;0<u&&(u=1/Math.sqrt(u));
g[0]=m[0]*u;g[1]=m[1]*u;return g},to:function(g,m){return g[0]*m[0]+g[1]*m[1]},wL:function(g,m,u){m=m[0]*u[1]-m[1]*u[0];g[0]=g[1]=0;g[2]=m;return g},rd:function(g,m,u,y){var B=m[0];m=m[1];g[0]=B+y*(u[0]-B);g[1]=m+y*(u[1]-m);return g},random:function(g,m){m=m||1;var u=2*Ka()*Math.PI;g[0]=Math.cos(u)*m;g[1]=Math.sin(u)*m;return g},twa:function(g,m,u){var y=m[0];m=m[1];g[0]=u[0]*y+u[2]*m;g[1]=u[1]*y+u[3]*m;return g},uwa:function(g,m,u){var y=m[0];m=m[1];g[0]=u[0]*y+u[2]*m+u[4];g[1]=u[1]*y+u[3]*m+u[5];
return g},Uha:function(g,m,u){var y=m[0];m=m[1];g[0]=u[0]*y+u[3]*m+u[6];g[1]=u[1]*y+u[4]*m+u[7];return g},pM:function(g,m,u){var y=m[0];m=m[1];g[0]=u[0]*y+u[4]*m+u[12];g[1]=u[1]*y+u[5]*m+u[13];return g},rotate:function(g,m,u,y){var B=m[0]-u[0];m=m[1]-u[1];var D=Math.sin(y);y=Math.cos(y);g[0]=B*y-m*D+u[0];g[1]=B*D+m*y+u[1];return g},angle:function(g,m){var u=g[0];g=g[1];var y=m[0];m=m[1];var B=Math.sqrt(u*u+g*g)*Math.sqrt(y*y+m*m);return Math.acos(Math.min(Math.max(B&&(u*y+g*m)/B,-1),1))},yX:function(g){g[0]=
0;g[1]=0;return g},Im:function(g){return"vec2("+g[0]+", "+g[1]+")"},Rj:function(g,m){return g[0]===m[0]&&g[1]===m[1]},Tc:function(g,m){var u=g[0];g=g[1];var y=m[0];m=m[1];return Math.abs(u-y)<=1E-6*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(g-m)<=1E-6*Math.max(1,Math.abs(g),Math.abs(m))},Rx:Ma,sub:Sa,xo:jb,GW:kb,EW:Wa,kX:lb,ND:nb,forEach:db});d.cl=Ob;d.gva=Pb;d.hva=Qb;d.iva=Rb;d.wo=Sb;d.Cva=qb;d.Dva=rb;d.Bwa=db;d.SD=ob;d.ey=pb;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Xa(exports):"function"===typeof define&&define.uta?define(["exports"],Xa):(Ta=Ta||self,Xa(Ta.cl={}));
{"use strict";function d(t,w,x,z){var E=w[0]-t[0];w=w[1]-t[1];var G=z[0]-x[0],N=z[1]-x[1];if(0===G*w-N*E)return!1;z=(E*(x[1]-t[1])+w*(t[0]-x[0]))/(G*w-N*E);t=(G*(t[1]-x[1])+N*(x[0]-t[0]))/(N*E-G*w);return 0<=z&&1>=z&&0<=t&&1>=t}function a(t,w,x){return(w[0]-t[0])*(x[1]-t[1])-(x[0]-t[0])*(w[1]-t[1])}function b(t,w,x){return 0<a(t,w,x)}function e(t,w,x){return 0<=a(t,w,x)}function c(t,w,x){return 0>=a(t,w,x)}var Ya=[],Za=[];function f(t,w){var x=w[0]-t[0];t=w[1]-t[1];return x*x+t*t}function k(t,w){var x=
t.length;return t[0>w?w%x+x:w%x]}function h(t,w,x,z){for(;x<z;x++)t.push(w[x])}function l(t,w){var x=k(t,w-1),z=k(t,w);t=k(t,w+1);return 0>a(x,z,t)}var $a=[],sb=[];function n(t,w,x,z){z=z||[];z.length=0;if(w<x)for(var E=w;E<=x;E++)z.push(t[E]);else{for(E=0;E<=x;E++)z.push(t[E]);for(E=w;E<t.length;E++)z.push(t[E])}return z}function q(t){for(var w=[],x,z,E=[],G=Number.MAX_VALUE,N=0;N<t.length;++N)if(l(t,N))for(var C=0;C<t.length;++C){a:{z=t;var H=N,I=C;if(e(k(z,H+1),k(z,H),k(z,I))&&c(k(z,H-1),k(z,H),
k(z,I)))x=!1;else{x=f(k(z,H),k(z,I));for(var K=0;K!==z.length;++K)if((K+1)%z.length!==H&&K!==H&&e(k(z,H),k(z,I),k(z,K+1))&&c(k(z,H),k(z,I),k(z,K))){$a[0]=k(z,H);$a[1]=k(z,I);sb[0]=k(z,K);sb[1]=k(z,K+1);var Q=[0,0];var R=$a[1][1]-$a[0][1];var U=$a[0][0]-$a[1][0];var Z=R*$a[0][0]+U*$a[0][1];var ca=sb[1][1]-sb[0][1];var Y=sb[0][0]-sb[1][0];var ha=ca*sb[0][0]+Y*sb[0][1];var ka=R*Y-ca*U;0>=Math.abs(ka-0)||(Q[0]=(Y*Z-U*ha)/ka,Q[1]=(R*ha-ca*Z)/ka);ka=Q;if(f(k(z,H),ka)<x){x=!1;break a}}x=!0}}if(x){x=q(n(t,
N,C,E));z=q(n(t,C,N,E));for(H=0;H<z.length;H++)x.push(z[H]);x.length<G&&(w=x,G=x.length,w.push([k(t,N),k(t,C)]))}}return w}function r(t,w){if(0===w.length)return[t];if(w instanceof Array&&w.length&&w[0]instanceof Array&&2===w[0].length&&w[0][0]instanceof Array){t=[t];for(var x=0;x<w.length;x++)for(var z=w[x],E=0;E<t.length;E++){var G=r(t[E],z);if(G){t.splice(E,1);t.push(G[0],G[1]);break}}return t}z=w;x=t.indexOf(z[0]);E=t.indexOf(z[1]);return-1!==x&&-1!==E?[n(t,x,E),n(t,E,x)]:!1}function p(t,w,x,
z,E){var G=w[1]-t[1];w=t[0]-w[0];t=G*t[0]+w*t[1];var N=z[1]-x[1];z=x[0]-z[0];x=N*x[0]+z*x[1];var C=G*z-N*w;return Math.abs(C-0)<=(E||0)?[0,0]:[(z*t-w*x)/C,(G*x-N*t)/C]}function v(t,w,x,z,E,G,N){G=G||100;N=N||0;E=E||25;w="undefined"!==typeof w?w:[];x=x||[];z=z||[];var C=[0,0],H=[0,0],I=[0,0],K,Q=0,R=0,U=0,Z=[],ca=[];if(3>t.length)return w;N++;if(N>G)return console.warn("quickDecomp: max level ("+G+") reached."),w;for(var Y=0;Y<t.length;++Y)if(l(t,Y)){x.push(t[Y]);var ha=K=Number.MAX_VALUE;for(var ka=
0;ka<t.length;++ka){if(b(k(t,Y-1),k(t,Y),k(t,ka))&&c(k(t,Y-1),k(t,Y),k(t,ka-1))){I=p(k(t,Y-1),k(t,Y),k(t,ka),k(t,ka-1));var za=k(t,Y+1);var Oa=k(t,Y);0>a(za,Oa,I)&&(za=f(t[Y],I),za<K&&(K=za,H=I,R=ka))}b(k(t,Y+1),k(t,Y),k(t,ka+1))&&c(k(t,Y+1),k(t,Y),k(t,ka))&&(I=p(k(t,Y+1),k(t,Y),k(t,ka),k(t,ka+1)),b(k(t,Y-1),k(t,Y),I)&&(za=f(t[Y],I),za<ha&&(ha=za,C=I,Q=ka)))}if(R===(Q+1)%t.length)I[0]=(H[0]+C[0])/2,I[1]=(H[1]+C[1])/2,z.push(I),Y<Q?(h(Z,t,Y,Q+1),Z.push(I),ca.push(I),0!==R&&h(ca,t,R,t.length),h(ca,
t,0,Y+1)):(0!==Y&&h(Z,t,Y,t.length),h(Z,t,0,Q+1),Z.push(I),ca.push(I),h(ca,t,R,Y+1));else{R>Q&&(Q+=t.length);C=Number.MAX_VALUE;if(Q<R)return w;for(ka=R;ka<=Q;++ka)if(e(k(t,Y-1),k(t,Y),k(t,ka))&&c(k(t,Y+1),k(t,Y),k(t,ka))){za=f(k(t,Y),k(t,ka));if(R=za<C)a:{R=t;H=Y;I=ka;for(ha=0;ha!==R.length;++ha)if(ha!==H&&ha!==I&&(ha+1)%R.length!==H&&(ha+1)%R.length!==I&&d(k(R,H),k(R,I),k(R,ha),k(R,ha+1))){R=!1;break a}R=!0}R&&(C=za,U=ka%t.length)}Y<U?(h(Z,t,Y,U+1),0!==U&&h(ca,t,U,t.length),h(ca,t,0,Y+1)):(0!==
Y&&h(Z,t,Y,t.length),h(Z,t,0,U+1),h(ca,t,U,Y+1))}Z.length<ca.length?(v(Z,w,x,z,E,G,N),v(ca,w,x,z,E,G,N)):(v(ca,w,x,z,E,G,N),v(Z,w,x,z,E,G,N));return w}w.push(t);return w}self.yva={Qta:function(t){var w=q(t);return 0<w.length?r(t,w):[t]},Eva:v,Iua:function(t){var w;for(w=0;w<t.length-1;w++)for(var x=0;x<w-1;x++)if(d(t[w],t[w+1],t[x],t[x+1]))return!1;for(w=1;w<t.length-2;w++)if(d(t[0],t[t.length-1],t[w],t[w+1]))return!1;return!0},Jva:function(t,w){for(var x=0,z=t.length-1;3<t.length&&0<=z;--z){var E=
k(t,z-1);var G=k(t,z),N=k(t,z+1),C=w;C?(Ya[0]=G[0]-E[0],Ya[1]=G[1]-E[1],Za[0]=N[0]-G[0],Za[1]=N[1]-G[1],E=Math.acos((Ya[0]*Za[0]+Ya[1]*Za[1])/(Math.sqrt(Ya[0]*Ya[0]+Ya[1]*Ya[1])*Math.sqrt(Za[0]*Za[0]+Za[1]*Za[1])))<C):E=0===a(E,G,N);E&&(t.splice(z%t.length,1),x++)}return x},Kva:function(t,w){for(var x=t.length-1;1<=x;--x)for(var z=t[x],E=x-1;0<=E;--E){var G=z,N=t[E],C=w;Math.abs(G[0]-N[0])<=(C||0)&&Math.abs(G[1]-N[1])<=(C||0)&&t.splice(x,1)}},fva:function(t){for(var w=0,x=1;x<t.length;++x)if(t[x][1]<
t[w][1]||t[x][1]===t[w][1]&&t[x][0]>t[w][0])w=x;if(b(k(t,w-1),k(t,w),k(t,w+1)))return!1;w=[];x=t.length;for(var z=0;z!==x;z++)w.push(t.pop());for(z=0;z!==x;z++)t[z]=w[z];return!0}}}{"use strict";const d=self.A=class{constructor(){throw TypeError("static class can't be instantiated");}};d.Lt=!1;d.IL=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Ah={}}
{"use strict";const d=self.A;d.jP=class{constructor(a){this.Hfa=a;this.La=new Map;this.Rba()}Rba(){var a=this.Hfa;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.Sba(b)}Sba(a){if(a)if(a.includes("=")){var b=a.indexOf("="),e=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.La.set(e,a)}else this.La.set(a,null)}nz(a){return this.La.has(a)}fa(a){a=this.La.get(a);return"undefined"===typeof a?null:a}};d.PF=new d.jP(location.search);
d.dna=new d.jP(location.hash);d.PF.fa("mode")}
{"use strict";const d=self.A,a=navigator.userAgent;let b={hha:/linux|openbsd|freebsd|netbsd/i.test(a),oga:/CrOS/.test(a),TD:/trident|iemobile|msie|tizen/i.test(a),pua:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),vW:/bb10/i.test(a),Dga:/edge\//i.test(a),rX:/trident/i.test(a),webkit:/webkit/i.test(a),Hha:/safari\//i.test(a),nga:/chrome\//i.test(a),pga:/chromium\//i.test(a),sga:/crosswalk|xwalk/i.test(a),pva:/nwjs/i.test(a),bga:/amazonwebappplatform/i.test(a),$ha:/wv\)/.test(a),cga:/android/i.test(a),
pha:/nokiabrowser\/[0-9.]+/i.test(a)};var tb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Mb=/OPR\/[0-9.]+/.exec(a),Nb=/tizen\s+[0-9.]+/i.exec(a),Tb=/iphone\s+os\s+[0-9_]+/i.exec(a),Ub=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Vb=/windows\s+phone\s+[0-9.]+/i.exec(a),Wb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Xb=/chrome\/[0-9.]+/i.exec(a),Yb=/chromium\/[0-9.]+/i.exec(a),Zb=/nwjs\/[0-9.]+/i.exec(a),$b=/firefox\/[0-9.]+/i.exec(a),ac=/msie\s+[0-9.]+/i.exec(a),bc=/edge\/[0-9.]+/i.exec(a),
cc=/edg\/[0-9.]+/i.exec(a),dc=/silk\/[0-9.]+/i.exec(a);let e="(unknown)",c="(unknown)",f="(unknown)",k="(unknown)",h="(unknown)",l="browser",n=!1,q=!1,r=new Map;function p(t,w,x){!0===w?(x(),r.set(t,!0)):w&&w.length&&(x(w[0]),r.set(t,!0))}p("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),t=>{e="Windows";if(t=t.split(" ")[2])switch(t){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});p("isOSX",tb,t=>{e="Mac OS X";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isLinux",b.hha,()=>{e="Linux"});p("isChromeOS",b.oga,()=>{e="Chrome OS"});p("isAndroid",!b.TD&&Lb,t=>{e="Android";(t=t.split(" ")[1])&&(c=t)});p("isTizen",Nb,t=>{e="Tizen";(t=t.split(" ")[1])&&(c=t)});p("isIPhone",!b.TD&&Tb,t=>{e="iOS";(t=t.split(" ")[2])&&(c=t.replace("_","."))});p("isIPad",!b.TD&&Ub,t=>{e="iOS";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isWindowsPhone",Vb,t=>{e="Windows Phone";
(t=t.split(" ")[2])&&(c=t)});p("isWindowsPhoneOS",Wb,t=>{e="Windows Phone";(t=t.split(" ")[3])&&(c=t)});p("isBlackberry",b.vW,()=>{e="Blackberry";c="10";f="stock";h="webkit"});p("isChrome",!b.Dga&&!b.opera&&Xb,t=>{f="Chrome";h="Chromium";(t=t.split("/")[1])&&(k=t)});p("isOpera",Mb,t=>{f="Opera";h="Chromium";(t=t.split("/")[1])&&(k=t)});p("isChromium",Yb,t=>{h=f="Chromium";(t=t.split("/")[1])&&(k=t)});p("isFirefox",$b,t=>{f="Firefox";h="Gecko";(t=t.split("/")[1])&&(k=t)});p("isInternetExplorer",ac,
t=>{f="Internet Explorer";h="Trident";(t=t.split(" ")[1])&&(k=t)});p("isTrident","Internet Explorer"!==f&&b.rX,()=>{h="Trident";var t=/rv:[0-9.]+/i.exec(a);t&&t.length&&(f="Internet Explorer",(t=t[0].split(":")[1])&&(k=t))});p("isEdge",bc,t=>{h=f="Edge";(t=t.split("/")[1])&&(k=t)});p("isEdgeChromium",cc,t=>{f="Edge";h="Chromium";(t=t.split("/")[1])&&(k=t)});p("isSafari",b.Hha&&!b.pha&&!b.nga&&!b.pga&&!b.oua&&!b.vW,()=>{f="Safari";h="WebKit";var t=/version\/[0-9.]+/i.exec(a),w=/crios\/[0-9.]+/i.exec(a),
x=/fxios\/[0-9.]+/i.exec(a);t&&t.length&&(t=t[0].split("/")[1])&&(k=t);w&&w.length&&(f="Chrome for iOS",(w=w[0].split("/")[1])&&(k=w));x&&x.length&&(f="Firefox for iOS",(x=x[0].split("/")[1])&&(k=x))});p("isSilk",dc,t=>{f="Silk";(t=t.split("/")[1])&&(k=t)});p("isCrosswalk",b.sga,()=>l="crosswalk");p("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");p("isNWJS",Zb,t=>{l="nwjs";f="NW.js";h="Chromium";(t=t.split("/")[1])&&(k=t)});p("isAmazonWebApp",b.bga,()=>l="webapp");
p("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");p("isFalseSafari","Safari"===f&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>f="stock");p("isAndroidWebview","Chrome"===f&&"browser"===l&&b.$ha,()=>l="webview");p("isFirefoxOS","Firefox"===f&&"(unknown)"===e,()=>e="Firefox OS");p("isAndroidFallback","(unknown)"===e&&!b.TD&&b.cga,()=>e="Android");p("isTridentFallback",
"(unknown)"===e&&b.rX,()=>h="Trident");p("isWebkitFallback","(unknown)"===e&&b.webkit,()=>h="WebKit");p("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===l,()=>n=!0);q="nwjs"===l;const v="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;v&&(e="iOS",c=k,q=n=!1);d.Xc={Dr:e,Bna:c,jd:f,vja:k,gE:parseFloat(k),ky:h,lE:l,bma:n,xz:!n,cma:q,Yla:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Sla:"Mac OS X"===e||"iOS"===e,jma:v,kma:"Linux"===e}}"use strict";
{const d=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(v){return new Promise((t,w)=>{v.onsuccess=()=>t(v.result);v.onerror=()=>w(v.error)})}function c(v){return new Promise((t,w)=>{v.oncomplete=()=>t();v.onerror=()=>w(v.error);v.onabort=()=>w(v.error)})}function f(v,t){return h(v,t)}function k(v,t){return h(v,t,!0)}async function h(v,t,w=!1,
x=!0){const z=await l(v);try{const E=z.transaction(["keyvaluepairs"],w?"readwrite":"readonly");return t(E)}catch(E){if(x&&"InvalidStateError"===E.name)return d.delete(v),h(v,t,w,!1);throw E;}}function l(v){q(v);let t=d.get(v);t instanceof Promise||(t=n(v),d.set(v,t),t.catch(()=>d.delete(v)));return t}async function n(v){q(v);const t=indexedDB.open(v,2);t.addEventListener("upgradeneeded",w=>{try{w.target.result.createObjectStore("keyvaluepairs")}catch(x){console.error(`Failed to create objectstore for database ${v}`,
x)}});return e(t)}function q(v){if("string"!==typeof v)throw new TypeError("expected string");}function r(v,t){const w=v.objectStore("keyvaluepairs").openCursor();return new Promise(x=>{const z=[];w.onsuccess=E=>{if(E=E.target.result){switch(t){case "entries":z.push([E.key,E.value]);break;case "keys":z.push(E.key);break;case "values":z.push(E.value)}E.continue()}else x(z)}})}class p{constructor(v){q(v);this.name=v}async ready(){await l(this.name)}set(v,t){q(v);return k(this.name,async w=>{var x=w.objectStore("keyvaluepairs").put(t,
v);x=e(x);w=c(w);await Promise.all([w,x])})}get(v){q(v);return f(this.name,async t=>{var w=t.objectStore("keyvaluepairs").get(v);w=e(w);t=c(t);[,t]=await Promise.all([t,w]);return t})}delete(v){q(v);return k(this.name,async t=>{var w=t.objectStore("keyvaluepairs").delete(v);w=e(w);t=c(t);await Promise.all([t,w])})}clear(){return k(this.name,async v=>{var t=v.objectStore("keyvaluepairs").clear();t=e(t);v=c(v);await Promise.all([v,t])})}keys(){return f(this.name,async v=>{if(b){var t=v.objectStore("keyvaluepairs").getAllKeys();
t=e(t)}else t=r(v,"keys");v=c(v);[,v]=await Promise.all([v,t]);return v})}values(){return f(this.name,async v=>{if(a){var t=v.objectStore("keyvaluepairs").getAll();t=e(t)}else t=r(v,"values");v=c(v);[,v]=await Promise.all([v,t]);return v})}entries(){return f(this.name,async v=>{var t=r(v,"entries");v=c(v);[,t]=await Promise.all([v,t]);return t})}}self.R2=p}"use strict";
{const d=self.R2,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function f(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function k(l){return"object"===typeof l?new Promise(n=>{const {port1:q,port2:r}=new MessageChannel;r.onmessage=p=>n(p.data);q.postMessage(l)}):Promise.resolve(l)}class h{constructor(l){this.J=l;b.set(this,new Map)}zv(l){if(!e)for(const n of a)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);e=!0;break}}async iU(l){l=
b.get(this).get(l);l=await k(l);return"undefined"===typeof l?null:l}async PV(l,n){n=await k(n);b.get(this).set(l,n)}GV(l){b.get(this).delete(l)}HT(){b.get(this).clear()}OU(){return Array.from(b.get(this).keys())}async getItem(l,n){f(n);if(e)return await this.iU(l);let q;try{q=await this.J.get(l)}catch(r){this.zv(r);if(e)return await this.iU(l);console.error(`Error reading '${l}' from storage, returning null: `,r);return null}return"undefined"===typeof q?null:q}async setItem(l,n,q){f(q);"undefined"===
typeof n&&(n=null);if(e)await this.PV(l,n);else try{await this.J.set(l,n)}catch(r){if(this.zv(r),e)await this.PV(l,n);else throw r;}}async removeItem(l,n){f(n);if(e)this.GV(l);else try{await this.J.delete(l)}catch(q){this.zv(q),e?this.GV(l):console.error(`Error removing '${l}' from storage: `,q)}}async clear(l){f(l);if(e)this.HT();else try{await this.J.clear()}catch(n){this.zv(n),e?this.HT():console.error("Error clearing storage: ",n)}}async keys(l){f(l);if(e)return this.OU();l=[];try{l=await this.J.keys()}catch(n){this.zv(n);
if(e)return this.OU();console.error("Error getting storage keys: ",n)}return l}ready(l){f(l);return e?Promise.resolve(!0):this.J.ready()}vL(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new h(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new d("localforage"))}
{"use strict";const d=self.A;d.Ub={};d.Ub.Zsa=(()=>{try{if("Safari"===d.Xc.jd||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();d.Ub.Eka="undefined"!==typeof HTMLDialogElement;d.Ub.kpa=!!self.requestIdleCallback;d.Ub.ImageBitmap=!!self.createImageBitmap;d.Ub.ImageBitmapOptions=!1;if(d.Ub.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.Ub.ImageBitmapOptions=!0}).catch(()=>{d.Ub.ImageBitmapOptions=!1})}catch(a){d.Ub.ImageBitmapOptions=!1}d.Ub.Ija=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Xc.jd);d.Ub.$na=!(!navigator.permissions||!navigator.permissions.query);d.Ub.iP="undefined"!==typeof Proxy;d.Ub.Gka="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.Ub.bu="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.Ub.Tka="function"===typeof fetch;d.Ub.boa=!!(self.isSecureContext&&"Opera"!==d.Xc.jd&&navigator.storage&&navigator.storage.persist);d.Ub.asa=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var ec;if("undefined"===typeof document||"iOS"===d.Xc.Dr)ec=!1;else{var fc=document.documentElement;ec=!!(fc.requestFullscreen||fc.msRequestFullscreen||fc.mozRequestFullScreen||fc.webkitRequestFullscreen)}d.Ub.dla=ec;d.Ub.Fla="undefined"!==typeof self.ImageDecoder;d.Ub.wna=!!self.showOpenFilePicker;
d.Ub.xna=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.A;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(d.fu(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,e){return b.reduce((c,f)=>{0<e&&Array.isArray(f)?Array.prototype.push.apply(c,a(f,e-1)):c.push(f);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.ne||(Array.prototype.ne=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.ne||(String.prototype.ne=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>a({usage:e,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.A;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+d.Ly())}}
{"use strict";const d=self.A,a=self.Ah;d.Xm=function(e){return"number"===typeof e};d.Um=function(e){return d.Xm(e)&&isFinite(e)};d.$f=function(e){if(!d.Xm(e))throw new TypeError("expected number");};d.sP=function(){};d.Hpa=function(e,c,f){if(!d.Xm(e)||isNaN(e)||c>e||f<e)throw new RangeError("number outside of range");};d.tpa=function(...e){for(let c of e);};d.Vi=function(e){if(!d.Um(e))throw new TypeError("expected finite number");};d.pP=function(){};d.qpa=function(...e){for(let c of e);};d.Ri=function(e){return"string"===
typeof e};d.ue=function(e){if(!d.Ri(e))throw new TypeError("expected string");};d.uP=function(){};d.vpa=function(...e){for(let c of e);};d.sO=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};d.Upa=function(e){if(!d.sO(e))throw new TypeError("expected simple object");};d.Rpa=function(e){if(!d.te(e)&&!d.sO(e))throw new TypeError("expected simple object");};d.rO=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};d.nP=function(e){if(!d.rO(e))throw new TypeError("expected object");
};d.tP=function(){};d.upa=function(...e){for(let c of e);};d.uF=function(e){return d.Vm(e,Blob)&&"string"===typeof e.name};d.Fpa=function(e){if(!d.uF(e))throw new TypeError("expected file");};d.Ppa=function(){};d.Xo=function(e){return Array.isArray(e)};d.WF=function(e){if(!d.Xo(e))throw new TypeError("expected array");};d.oP=function(){};d.ppa=function(...e){for(let c of e);};d.p2=function(e){return d.Xo(e)?e.length?d.Xo(e[0])?!0:!1:!0:!1};d.opa=function(e){if(!d.p2(e))throw new TypeError("expected 2d array");
for(let c of e)if(!d.Xo(c))throw new TypeError("expected 2d array");};d.Ipa=function(){};d.vF=function(e){return"function"===typeof e};d.lk=function(e,c){if(!d.vF(e))throw new TypeError("expected function");if(!d.te(c)&&e!==c)throw new TypeError("expected same function reference");};d.qP=function(){};d.rpa=function(...e){for(let c of e);};d.xpa=function(e,...c){if(!d.vF(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let f of c)if(!d.te(f)&&
e===f)return;throw new TypeError("expected same function reference");};d.Jpa=function(...e){if(!d.te(e))for(let c of e);};d.Vm=function(e,c){return e instanceof c};d.qO=function(e,...c){for(let f of c)if(d.Vm(e,f))return!0;return!1};d.XF=function(e,c){if(!d.Vm(e,c))throw new TypeError("unexpected type");};d.rP=function(){};d.spa=function(e,...c){for(let f of c);};d.ypa=function(e,...c){if(!d.qO(e,...c))throw new TypeError("unexpected type");};d.zpa=function(e,...c){if(!d.te(e)&&!d.qO(e,...c))throw new TypeError("unexpected type");
};d.Tla=function(e,c){for(let f of e)if(!d.Vm(f,c))return!1;return!0};d.Ula=function(e){for(let c of e)if(!d.Um(c))return!1;return!0};d.Apa=function(e){for(let c of e);};d.Kpa=function(e){if(!d.te(e))for(let c of e);};d.Bpa=function(e){for(let c of e);};d.Lpa=function(e){if(!d.te(e))for(let c of e);};d.Zla=function(e,c){return d.te(e)||!d.Ri(e.nodeName)?!1:!c||d.xh(e.nodeName,c)};d.Cpa=function(e,c){if(d.te(e)||!d.Ri(e.nodeName))throw new TypeError("expected DOM node");if(c&&!d.xh(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.Mpa=function(){};d.xF=function(e,c){return d.te(e)||!d.Ri(e.tagName)?!1:!c||d.xh(e.tagName,c)};d.Gpa=function(e,c){if(d.te(e)||!d.Ri(e.tagName))throw new TypeError("expected HTML element");if(c&&!d.xh(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.Qpa=function(){};d.kO=function(e){return d.xF(e,"img")||d.xF(e,"canvas")||d.xF(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};d.Dpa=function(e){if(!d.kO(e))throw new TypeError("expected drawable");
};d.Npa=function(){};d.lO=function(e){return e instanceof ImageData?!0:d.kO(e)};d.Epa=function(e){if(!d.lO(e))throw new TypeError("expected drawable or image data");};d.Opa=function(e){if(!d.te(e)&&!d.lO(e))throw new TypeError("expected drawable or image data");};d.K2=function(e){return"string"===typeof e||e instanceof d.mF||e instanceof d.fl};d.Vpa=function(e){if(!d.K2(e))throw new TypeError("expected string-like");};d.Spa=function(){};d.wpa=function(...e){for(let c of e);};d.Tpa=function(){throw Error("must be overridden");
};d.Ana=function(){throw Error("not yet implemented");};d.ama=function(e,...c){if("undefined"===typeof e)return!1;for(let f of c){if("undefined"===typeof e[f])return!1;e=e[f]}return!0};d.te=function(e){return"undefined"===typeof e||null===e};d.cja=function(e){let c=e[0].constructor;for(let f of e)if(f.constructor!==c)return!1;return c};d.dja=function(e,c){for(let f of e)if(!(f instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);d.Gma=function(e){return d.Vm(e,b)};d.Wpa=function(){};
d.Ysa=function(e){d.L7(e,b)};d.Xsa=function(e,...c){if(!d.K7(e,...c))throw new TypeError("unexpected type");};d.K7=function(e,...c){for(const f of c)if(d.zQ(e,f))return!0;return!1};d.L7=function(e,c){if(!d.zQ(e,c))throw new TypeError("unexpected type");};d.zQ=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};a.$f=d.$f;a.sP=d.sP;a.Vi=d.Vi;a.pP=d.pP;a.ue=d.ue;a.uP=d.uP;a.nP=d.nP;a.tP=d.tP;a.WF=d.WF;a.oP=d.oP;a.lk=d.lk;a.qP=d.qP;a.XF=d.XF;a.rP=d.rP;a.te=
d.te}
{"use strict";const d=self.A,a=new Map;d.Xoa=function(r,...p){a.has(r)||a.set(r,-1);-1===a.get(r)&&a.set(r,requestAnimationFrame(()=>{console.log(`%c${r}`,"font-weight: bold",...p);a.set(r,-1)}))};d.Ly=function(){return Error().stack};d.Bka=function(){debugger};d.Hta=function(r,p){return r&&r instanceof p?r:null};d.bl=function(r){return"undefined"===typeof r?"undefined":null===r?"null":"boolean"===typeof r?"<boolean>":d.Xm(r)?"<number>":d.Ri(r)?"<string>":d.Xo(r)?"<array>":"symbol"===typeof r?"<"+
r.toString()+">":d.vF(r)?r.name&&"Function"!==r.name?r.name:"<anonymous function>":"object"===typeof r?r.constructor&&r.constructor.name&&"Object"!==r.constructor.name?r.constructor.name:"<anonymous object>":"<unknown>"};d.zD=function(r){return null===r?"null":Array.isArray(r)?"array":typeof r};d.range=function*(r,p){if(!isFinite(Math.abs(r-p)))throw Error("Invalid parameters");if(r>p)for(--r;r>=p;r--)yield r;else for(;r<p;r++)yield r};let b=new Map,e=new Map,c=new WeakMap,f=new WeakMap;d.er={};const k=
new Set(["then","splice"]);function h(r){console.warn("[Defence] "+r+" @",d.Ly())}d.er.get=function(r,p){p in r||"symbol"===typeof p||k.has(p)||h(`Accessed missing property '${p}' from defended object '${d.bl(r)}', returning undefined`);f.has(r)&&"symbol"!==typeof p&&!k.has(p)&&h(`Accessed property '${p}' on a released object '${d.bl(r)}'\nObject was originally released at: ${f.get(r)})\nCall stack at access: `);return r[p]};d.er.set=function(r,p,v){p in r||b.has(r)||h(`Set non-existent property '${p}' to '${v}' on defended object '${d.bl(r)}'`);
{var t=d.zD(r[p]);let w=d.zD(v);t="null"===t||"null"===w?!0:"undefined"===t||"undefined"===w?!1:t===w}t||b.has(r)||h(`Set '${d.zD(r[p])}' property '${p}' to type '${d.zD(v)}' on defended object '${d.bl(r)}'`);f.has(r)&&h(`Set property '${p}' on a released object '${d.bl(r)}'\nObject was originally released at: ${f.get(r)})\nCall stack at access: `);r[p]=v;return!0};d.er.deleteProperty=function(r,p){throw new ReferenceError(`Cannot delete property '${p}' from defended object '${d.bl(r)}'`);};d.er.defineProperty=
function(r,p){throw new ReferenceError(`Cannot define property '${p}' on defended object '${d.bl(r)}'`);};d.er.Uta=function(r){throw new ReferenceError(`Cannot enumerate defended object '${d.bl(r)}'`);};let l=-1;function n(){l=-1;if(0<b.size||0<e.size){let r=[...new Set([...b.keys()].map(p=>d.bl(p)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${r}`);b.clear();
e.clear()}}d.ja=class{constructor(){if(d.IL&&d.Ub.iP){var r=new.target;r=Object.create(r.prototype);var p=new Proxy(r,d.er);b.set(r,p);e.set(p,r);c.set(p,r);-1===l&&(l=requestAnimationFrame(n));return p}}};d.uga=function(r){if(d.IL&&d.Ub.iP&&r instanceof d.ja){if(!e.has(r))return r;let p=e.get(r);e.delete(r);b.delete(p);return r}return d.Lt?Object.seal(r):r};d.C=function(r,...p){let v;try{v=new r(...p)}catch(x){throw e.clear(),b.clear(),x;}if(d.IL){p=v;var t=new Set;for(w in p)t.add(w);var w=t;if(p=
q.get(r)){t=[];for(let x of p.values())w.has(x)?w.delete(x):t.push(x);d.Bm(t,[...w]);t.length&&console.warn(`[Defence] '${d.bl(r)}' constructor creates inconsistent properties: ${t.join(", ")}`)}else q.set(r,w)}return d.uga(v)};d.i=function(r){(r=c.get(r))&&f.set(r,d.Ly())};d.Zz=function(){let r=c.get(void 0);return r?!!f.get(r):!1};let q=new Map;d.Zna=class{constructor(r){this.Ia="";r&&this.start(r)}start(r){this.Ia=r;performance.mark(this.Ia+"-Start")}end(){performance.mark(this.Ia+"-End");performance.measure(this.Ia,
this.Ia+"-Start",this.Ia+"-End")}next(r){this.end();this.Ia=r;performance.mark(this.Ia+"-Start")}}}
{"use strict";const d=self.A,a=2*Math.PI,b=Math.PI/180,e=180/Math.PI;d.wrap=function(f,k,h){f=Math.floor(f);k=Math.floor(k);h=Math.floor(h);return f<k?(f=h-(k-f)%(h-k),f===h?0:f):k+(f-k)%(h-k)};d.kha=function(f,k,h,l){return(f-k)*(l-0)/(h-k)};d.normalize=function(f,k,h){return(f-k)/(h-k)};d.ba=function(f,k,h){return f<k?k:f>h?h:f};d.Xd=function(f){f%=a;0>f&&(f+=a);return f};d.Ea=function(f){return f*b};d.oe=function(f){return f*e};d.Dm=function(f,k,h,l){return Math.hypot(h-f,l-k)};d.FW=function(f,
k,h,l){f=h-f;k=l-k;return f*f+k*k};d.qo=function(f,k,h,l){return Math.atan2(l-k,h-f)};d.Ft=function(f,k){if(f===k)return 0;f=Math.sin(f)*Math.sin(k)+Math.cos(f)*Math.cos(k);return 1<=f?0:-1>=f?Math.PI:Math.acos(f)};d.qL=function(f,k,h){let l=Math.sin(f),n=Math.cos(f),q=Math.sin(k),r=Math.cos(k);return Math.acos(l*q+n*r)>h?0<n*q-l*r?d.Xd(f+h):d.Xd(f-h):d.Xd(k)};d.Ke=function(f,k){return 0>=Math.cos(f)*Math.sin(k)-Math.sin(f)*Math.cos(k)};d.pL=function(f,k,h,l=0){let n=d.Ft(f,k);l*=a;return d.Ke(k,
f)?d.Xd(f+(n+l)*h):d.Xd(f-(n+l)*h)};d.ega=function(f,k,h,l=0){const n=d.Ft(f,k);l*=a;return d.Ke(k,f)?d.Xd(f+(n+l)*h):d.Xd((a-n+l)*h)};d.dga=function(f,k,h,l=0){const n=d.Ft(f,k);l*=a;return d.Ke(k,f)?d.Xd((-a+n-l)*h):d.Xd(f-(n+l)*h)};d.rd=function(f,k,h){return f+h*(k-f)};d.RD=function(f,k,h){return f===k?0:(h-f)/(k-f)};d.Cha=function(f,k,h,l){return d.rd(0,l,d.RD(f,k,h))};d.ID=function(f,k,h,l){return d.rd(d.rd(f,k,l),d.rd(k,h,l),l)};d.DW=function(f,k,h,l,n){return d.rd(d.ID(f,k,h,n),d.ID(k,h,l,
n),n)};d.BW=function(f,k,h){return(f+k+(f-k)*Math.cos(h*Math.PI))/2};d.dl=function(f){return 0<f&&0===(f-1&f)};d.QL=function(f){--f;for(let k=1;32>k;k<<=1)f|=f>>k;return f+1};d.Wva=function(f,k){return Math.round(f*k)/k};d.aua=function(f,k){return Math.floor(f*k)/k};d.fX=function(f){return Math.round(1E6*f)/1E6};d.toFixed=function(f,k){f=f.toFixed(k);for(k=f.length-1;0<=k&&"0"===f.charAt(k);--k);0<=k&&"."===f.charAt(k)&&--k;return 0>k?f:f.substr(0,k+1)};d.y4=function(f,k,h){return d.ba(f,0,255)|d.ba(k,
0,255)<<8|d.ba(h,0,255)<<16};d.Hz=function(f,k,h,l){f=d.ba(Math.floor(1024*f),-8192,8191);k=d.ba(Math.floor(1024*k),-8192,8191);h=d.ba(Math.floor(1024*h),-8192,8191);l=d.ba(Math.floor(1023*l),0,1023);0>f&&(f+=16384);0>k&&(k+=16384);0>h&&(h+=16384);return-(274877906944*f+16777216*k+1024*h+l)};d.fP=function(f,k,h){return d.Hz(f,k,h,1)};d.$E=function(f){if(0<=f)return(f&255)/255;f=Math.floor(-f/274877906944);8191<f&&(f-=16384);return f/1024};d.PE=function(f){if(0<=f)return((f&65280)>>8)/255;f=Math.floor(-f%
274877906944/16777216);8191<f&&(f-=16384);return f/1024};d.DE=function(f){if(0<=f)return((f&16711680)>>16)/255;f=Math.floor(-f%16777216/1024);8191<f&&(f-=16384);return f/1024};d.J_=function(f){return 0===f&&0>1/f?0:0<=f?1:Math.floor(-f%1024)/1023};d.Nga=function(f,k){f=Math.floor(f);for(k=Math.floor(k);0!==k;){let h=k;k=f%k;f=h}return f};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.rua=function(f,k){f=Math.floor(f);k=Math.floor(k);if(f===k)return[1,1];for(var h of c){let l=
f/h[0]*h[1];if(1>Math.abs(k-l))return h.slice(0);l=f/h[1]*h[0];if(1>Math.abs(k-l))return[h[1],h[0]]}h=d.Nga(f,k);return[f/h,k/h]};d.bwa=function(f,k,h,l,n,q,r,p){var v=Math.min(f,h),t=Math.max(n,r);if(Math.max(f,h)<Math.min(n,r)||v>t)return!1;v=Math.min(k,l);t=Math.max(q,p);if(Math.max(k,l)<Math.min(q,p)||v>t)return!1;v=n-f+r-h;t=q-k+p-l;f=h-f;k=l-k;n=r-n;q=p-q;p=Math.abs(k*n-q*f);return Math.abs(n*t-q*v)>p?!1:Math.abs(f*t-k*v)<=p};d.Hm=function(f,k,h,l,n,q,r,p,v,t,w,x){const z=Math.max(v,w);if(q<
Math.min(v,w)||n>z)return!1;n=Math.max(t,x);if(p<Math.min(t,x)||r>n)return!1;r=v-f+w-h;p=t-k+x-l;f=h-f;k=l-k;v=w-v;t=x-t;x=Math.abs(k*v-t*f);return Math.abs(v*p-t*r)>x?!1:Math.abs(f*p-k*r)<=x};d.JD=function(f,k,h,l,n){const q=Math.min(f,h),r=Math.max(f,h),p=Math.min(k,l),v=Math.max(k,l),t=n.Nb,w=n.Ob,x=n.nc,z=n.oc,E=n.uc,G=n.vc,N=n.ic;n=n.jc;return d.Hm(f,k,h,l,q,r,p,v,t,w,x,z)||d.Hm(f,k,h,l,q,r,p,v,x,z,E,G)||d.Hm(f,k,h,l,q,r,p,v,E,G,N,n)||d.Hm(f,k,h,l,q,r,p,v,N,n,t,w)};d.awa=function(f,k,h,l,n){const q=
Math.min(f,h),r=Math.max(f,h),p=Math.min(k,l),v=Math.max(k,l);let t=0;for(let w=n.length-4;t<=w;t+=2)if(d.Hm(f,k,h,l,q,r,p,v,n[t],n[t+1],n[t+2],n[t+3]))return!0;return d.Hm(f,k,h,l,q,r,p,v,n[t],n[t+1],n[0],n[1])};d.Bha=function(f,k,h,l,n,q,r,p){h-=f;q=p-q;const v=h*q-(l-k)*(r-n);if(0===v)return 2;l=((k-l)*(r-f)+h*(p-k))/v;return 0<l&&1.000001>l?(q*(r-f)+(n-r)*(p-k))/v:2};d.Xx=function(f,k,h,l,n,q,r,p,v){const t=(r-n)*v;v*=p-q;return d.Bha(f,k,h,l,n-t,q-v,r+t,p+v)};d.$ga=function(f,k,h,l,n,q,r,p){n-=
h;q-=l;r-=h;p-=l;f-=h;h=k-l;k=n*n+q*q;l=n*r+q*p;n=n*f+q*h;q=r*r+p*p;r=r*f+p*h;p=1/(k*q-l*l);q=(q*n-l*r)*p;n=(k*r-l*n)*p;return 0<=q&&0<=n&&1>=q+n};d.Yha=function(f,k,h,l,n,q,r,p){n-=h;q-=l;r-=h;p-=l;f-=h;const v=k-l;k=n*n+q*q;l=n*r+q*p;h=r*r+p*p;n=f*n+v*q;q=f*r+v*p;r=k*h-l*l;p=(h*n-l*q)/r;n=(k*q-l*n)/r;return[1-p-n,p,n]};d.Xha=function(f,k,h,l,n,q,r,p,v){return[f*l+k*q+h*p,f*n+k*r+h*v]}}
{"use strict";const d=self.A;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}d.jla=function(){return b};d.EE=function(){if(!a)return"";const l=a.location;return d.N0(l.origin+l.pathname)+b};d.N0=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};d.nla=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};d.i0=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};d.Ty=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};d.q3=function(l){return l.replace(/\\/g,"/")};d.ema=function(l,n){return n===(l?d.i0(l).slice(1):"")};d.Uka=function(l,n){let q,r;d.uF(l)&&(q=d.Ty(l.name));d.Ri(l)&&(q=
d.Ty(l));d.uF(n)&&(r=d.Ty(n.name));d.Ri(n)&&(r=d.Ty(n));return q===r};d.Wna=function(l){l=d.q3(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var q=l.lastIndexOf("/")+1;let r="",p=l,v="";0<q&&(r=l.slice(0,q),p=l.slice(q));l=p;q=p.lastIndexOf(".");0<q&&(v=p.slice(q),l=p.slice(0,-v.length));return{dir:r,Ata:p,name:l,root:n,ext:v,mua:n+r+p}};d.HG=function(l,n){return new Promise(q=>{self.setTimeout(q,
l,n)})};d.lwa=function(l){try{l()}catch(n){d.Lt&&console.warn("Swallowed exception: ",n)}};d.nva=function(){};d.xh=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};d.Vta=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};d.Zha=function(l,n){var q=0;l[q++]=n[0];l[q++]=n[1];l[q++]=n[2];l[q++]=n[3];l[q++]=n[4];l[q++]=n[5];l[q++]=n[6];l[q++]=n[7];l[q++]=n[8];l[q++]=n[9];
l[q++]=n[10];l[q++]=n[11];l[q++]=n[12];l[q++]=n[13];l[q++]=n[14];l[q]=n[15]};d.pe=function(l,n){l.length=n};d.D=function(l){l&&0!==l.length&&d.pe(l,0)};d.qga=function(l){if(l){for(let n=0;n<l.length;n++)d.pe(l[n],0);d.pe(l,0)}};d.xD=function(l,n,q){n|=0;var r=l.length;if(!(n<=r))for(;r<n;++r)l.push(q)};d.eX=function(l){var n=4;const q=l.length;n<q?d.pe(l,n):n>q&&d.xD(l,n,"0")};d.td=function(l,n){d.D(l);d.Bm(l,n)};d.Bm=function(l,n){if(1E4>n.length)l.push(...n);else for(let q=0,r=n.length;q<r;++q)l.push(n[q])};
d.hga=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var q=l.length-1;n<q;++n)l[n]=l[n+1];d.pe(l,q)}};d.Sq=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};d.zta=function(l,n){let q=l.length;if(n.length!==q)return!1;for(let r=0;r<q;++r)if(l[r]!==n[r])return!1;return!0};d.gga=function(l,n){let q=[],r=0;for(let p=0,v=l.length;p<v;++p){let t=l[p];n(t)?q.push(t):(l[r]=t,++r)}d.pe(l,r);return q};d.wh=function(l,n){const q=l.length;let r=0;for(let p=0,v=l.length;p<v;++p){let t=l[p];n.has(t)||
(l[r++]=t)}d.pe(l,r);return q-r};d.Vga=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};d.Awa=function(l,n){if(!d.Vga(l,n))throw new RangeError("array index out of bounds");};d.sD=function(l){return l.slice()};d.vga=function(l,n){let q=[];for(let r of l)if(d.rO(r)){l=n(r);if(!l)throw Error("missing clone");if(l.constructor!==r.constructor)throw Error("object is not a clone");q.push(l)}else d.Xo(r)?q.push(d.vga(r,n)):q.push(r);return q};d.Ita=function(l){let n=[];for(let q of l)n.push(q.slice());
return n};d.jva=function(l,n){return new Set([...l,...n])};d.kva=function(l,n){for(const q of n)l.add(q);return l};d.first=function(l){for(let n of l)return n;return null};d.xor=function(l,n){return!l!==!n};d.compare=function(l,n,q){switch(n){case 0:return l===q;case 1:return l!==q;case 2:return l<q;case 3:return l<=q;case 4:return l>q;case 5:return l>=q;default:return!1}};d.Aua=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};d.J4=function(l,n){return l.length?new Promise((q,
r)=>{const p=[];let v=0,t=!1;for(let w=0,x=l.length;w<x;++w)p.push(void 0),l[w].then(z=>{t||(p[w]=z,++v,v===l.length?q(p):n(v,l.length))}).catch(z=>{t=!0;r(z)})}):Promise.resolve([])};let e=[];d.xia=function(l){e.push(l)};d.mla=function(){let l=0;for(let n of e){let q=n();l+=q}return Math.floor(l)};let c=1;const f=new Map,k=new MessageChannel;k.port2.onmessage=function(l){l=l.data;const n=f.get(l);f.delete(l);n&&n(performance.now())};d.VF=function(l){const n=c++;f.set(n,l);k.port1.postMessage(n);
return n};d.tY=function(l){f.delete(l)};d.E4=d.VF;d.I7=function(){return new Promise(l=>d.E4(l))};const h=new Set;d.npa=function(l){const n=self.requestAnimationFrame(async q=>{await d.I7();h.has(n)&&(h.delete(n),l(q))});h.add(n);return n};d.zja=function(l){h.has(l)&&(self.cancelAnimationFrame(l),h.delete(l))}}
{"use strict";const d=self.A;d.rF=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.DF=function(a){return!d.rF(a)};d.n7=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};d.Hy=function(a){return fetch(a,void 0).then(b=>{d.n7(b);return b})};d.iu=function(a){return d.Hy(a).then(b=>b.text())};d.bN=function(a){return d.Hy(a).then(b=>b.json())};d.il=function(a){return d.Hy(a).then(b=>b.blob())};d.hu=function(a){return d.Hy(a).then(b=>
b.arrayBuffer())};d.B_=function(a){return new Promise((b,e)=>{const c=new Image;c.onload=()=>b(c);c.onerror=f=>e(f);c.src=a})};d.iY=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(a)})};d.yM=function(a){return"function"===typeof a.text?a.text():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsText(a)})};d.sja=function(a){return d.yM(a).then(b=>
JSON.parse(b))};d.xM=async function(a,b){a=URL.createObjectURL(a);try{const e=await d.B_(a);URL.revokeObjectURL(a);a="";b&&"function"===typeof e.decode&&await e.decode();return e}finally{a&&URL.revokeObjectURL(a)}};d.ug=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=a;e.height=b;return e}return new OffscreenCanvas(a,b)};d.bu=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.ba(e,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,e)):a.convertToBlob?a.convertToBlob({type:b,quality:e}):d.el(()=>d.GM(a,b,e))};d.GM=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.ba(e,0,1);return d.ZY(a.toDataURL(b,e))};d.ZY=function(a){a=d.z4(a);return d.hY(a.data,a.lha)};d.z4=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var e=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];e="base64"===b[1]||"base64"===c?atob(e):decodeURIComponent(e);return{lha:a,data:e}};d.hY=function(a,b){var e=a.length;let c=e>>2,f=new Uint8Array(e),k=new Uint32Array(f.buffer,0,c),h,l;for(l=h=0;h<c;++h)k[h]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(e&=3;e--;)f[l]=a.charCodeAt(l),++l;return b?new Blob([f],{type:b}):new Blob([f])};d.WM=function(a){const b=d.ug(a.width,a.height);b.getContext("2d").drawImage(a,0,0);return d.bu(b,void 0,void 0)};d.Ela=
function(a,b,e){const c=d.ug(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.GM(c,b,e)};d.G1=function(a){if(d.Ub.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(b=>d.WM(b));if(d.Ub.ImageBitmap)return createImageBitmap(a).then(b=>d.WM(b));{const b=d.ug(a.width,a.height);b.getContext("2d").putImageData(a,0,0);return d.bu(b,void 0,void 0)}};d.PY=function(a,b){a.clear();for(const e of b)a.add(e)};d.hna=function(a){const b=Object.create(null);for(const [e,
c]of a.entries())b[e]=c;return b};d.Cna=function(a,b){b.clear();for(const [e,c]of Object.entries(a))b.set(e,c)};d.FG=function e(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>e(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [f,k]of Object.entries(b))c[f]=e(k);return c}}return b};d.AE=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(f=>
c(f)));if("map"===e._c3type_)return new Map(e.data.map(f=>[f[0],c(f[1])]));{const f=Object.create(null);for(const [k,h]of Object.entries(e))f[k]=c(h);return f}}return e};d.lY=function(e){let c="",f=!1;for(const k of e)"-"===k?f=!0:f?(c+=k.toUpperCase(),f=!1):c+=k;return c};d.Wm=function(e){return"object"===typeof e&&"function"===typeof e.next};d.i3=function(e){const c=[];for(let f=0;f<e;++f)c.push(0);return c}}
{"use strict";const d=self.A,a=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?/i,b=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?,([0-9.])/i;function e(c,f,k){0>k&&(k+=1);1<k&&--k;return k<1/6?c+6*(f-c)*k:.5>k?f:k<2/3?c+(f-c)*(2/3-k)*6:c}d.jb=class{constructor(c,f,k,h){this.Xa=this.ab=this.hb=this.cb=0;c instanceof d.jb?this.set(c):this.Bo(c||0,f||0,k||0,h||0)}MD(c,f,k){this.cb=+c;this.hb=+f;this.ab=+k;this.ba()}Bo(c,f,k,h){this.cb=+c;this.hb=+f;this.ab=+k;this.Xa=+h;this.ba()}set(c){this.cb=c.cb;this.hb=c.hb;this.ab=c.ab;
this.Xa=c.Xa;return this}wa(c){return this.set(c)}add(c){this.cb+=c.cb;this.hb+=c.hb;this.ab+=c.ab;this.Xa+=c.Xa;this.ba()}rW(c,f,k){this.cb+=+c;this.hb+=+f;this.ab+=+k;this.Xa+=0;this.ba()}Cm(c){this.cb=c.cb;this.hb=c.hb;this.ab=c.ab}Vq(c){this.cb=d.ba(+c,0,1)}Rt(c){this.hb=d.ba(+c,0,1)}Uq(c){this.ab=d.ba(+c,0,1)}yh(c){this.Xa=d.ba(+c,0,1)}clone(){return d.C(d.jb,this.cb,this.hb,this.ab,this.Xa)}toArray(){return[this.cb,this.hb,this.ab,this.Xa]}zh(c,f){c[f++]=this.cb;c[f++]=this.hb;c[f++]=this.ab;
c[f]=this.Xa}Tc(c){return this.cb===c.cb&&this.hb===c.hb&&this.ab===c.ab&&this.Xa===c.Xa}uo(c){return this.cb===c.cb&&this.hb===c.hb&&this.ab===c.ab}Mx(c,f,k,h){return this.cb===c&&this.hb===f&&this.ab===k&&this.Xa===h}multiply(c){this.cb*=c.cb;this.hb*=c.hb;this.ab*=c.ab;this.Xa*=c.Xa}HD(){this.cb*=this.Xa;this.hb*=this.Xa;this.ab*=this.Xa}ba(){this.cb=d.ba(this.cb,0,1);this.hb=d.ba(this.hb,0,1);this.ab=d.ba(this.ab,0,1);this.Xa=d.ba(this.Xa,0,1);return this}ay(c){this.cb=d.$E(c);this.hb=d.PE(c);
this.ab=d.DE(c);this.Xa=d.J_(c)}Jga(){return`rgb(${100*(d.Um(void 0)?NaN:this.cb)}%, ${100*(d.Um(void 0)?NaN:this.hb)}%, ${100*(d.Um(void 0)?NaN:this.ab)}%)`}vha(c){if("string"===typeof c){c=c.trim();"#"===c.charAt(0)&&(c=c.substr(1));if(3===c.length){var f=parseInt(c[0],16)/15;var k=parseInt(c[1],16)/15;c=parseInt(c[2],16)/15}else if(6===c.length)f=parseInt(c.substr(0,2),16)/255,k=parseInt(c.substr(2,2),16)/255,c=parseInt(c.substr(4,2),16)/255;else return;isFinite(f)&&this.Vq(f);isFinite(k)&&this.Rt(k);
isFinite(c)&&this.Uq(c);this.yh(1)}}FD(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/255;var k=parseInt(f[1].trim(),10)/255;f=parseInt(f[2].trim(),10)/255;isFinite(c)&&this.Vq(c);isFinite(k)&&this.Rt(k);isFinite(f)&&this.Uq(f);this.yh(1)}}}XW(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/100;var k=parseInt(f[1].trim(),10)/100;f=parseInt(f[2].trim(),
10)/100;isFinite(c)&&this.Vq(c);isFinite(k)&&this.Rt(k);isFinite(f)&&this.Uq(f);this.yh(1)}}}ZW(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=parseInt(f[0].trim(),10)/255;var k=parseInt(f[1].trim(),10)/255,h=parseInt(f[2].trim(),10)/255;f=parseFloat(f[3].trim());isFinite(c)&&this.Vq(c);isFinite(k)&&this.Rt(k);isFinite(h)&&this.Uq(h);isFinite(f)&&this.yh(f)}}}YW(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=
parseInt(f[0].trim(),10)/100;var k=parseInt(f[1].trim(),10)/100,h=parseInt(f[2].trim(),10)/100;f=parseFloat(f[3].trim());isFinite(c)&&this.Vq(c);isFinite(k)&&this.Rt(k);isFinite(h)&&this.Uq(h);isFinite(f)&&this.yh(f)}}}$W(c){if("string"===typeof c){c=c.replace(/\s+/,"");if(c.includes(",")){if(c.startsWith("rgb(")){c.includes("%")?this.XW(c):this.FD(c);return}if(c.startsWith("rgba(")){c.includes("%")?this.YW(c):this.ZW(c);return}if(c.startsWith("hsl(")||c.startsWith("hsla(")){this.uha(c);return}{const f=
c.split(",");if(c.includes("%")){if(3===f.length){this.XW(c);return}4===f.length&&this.YW(c)}else{if(3===f.length){this.FD(c);return}4===f.length&&this.ZW(c)}return}}this.vha(c)}}toJSON(){return[this.cb,this.hb,this.ab,this.Xa]}hX(c,f,k,h){c%=360;f=d.ba(f,0,100);k=d.ba(k,0,100);h=d.ba(h,0,1);c/=360;f/=100;k/=100;if(0===f)k=f=c=k;else{const l=.5>k?k*(1+f):k+f-k*f,n=2*k-l;k=e(n,l,c+1/3);f=e(n,l,c);c=e(n,l,c-1/3)}this.Vq(k);this.Rt(f);this.Uq(c);this.yh(h)}uha(c){var f=c.replace(/ |hsl|hsla|\(|\)|;/gi,
"");c=a.exec(f);f=b.exec(f);c&&4===c.length?this.hX(+c[1],+c[2],+c[3],1):f&&5===f.length&&this.hX(+c[1],+c[2],+c[3],+c[4])}Ao(c){!Array.isArray(c)||3>c.length||(this.cb=c[0],this.hb=c[1],this.ab=c[2],this.Xa=4<=c.length?c[3]:1)}set r(c){this.Vq(c)}get r(){return this.cb}set jga(c){this.Uq(c)}get jga(){return this.ab}set po(c){this.yh(c)}get po(){return this.Xa}static tE(c,f){return d.ba(Math.max(c,f)-Math.min(c,f),0,1)}};d.jb.cta=Object.freeze(d.C(d.jb,1,1,1,1));d.jb.rja=Object.freeze(d.C(d.jb,0,
0,0,1));d.jb.Asa=Object.freeze(d.C(d.jb,0,0,0,0))}
{"use strict";const d=self.A;d.jv=class{constructor(a,b){this.T=this.Y=0;a instanceof d.jv?this.wa(a):this.set(a||0,b||0)}set(a,b){this.Y=+a;this.T=+b}wa(a){this.Y=a.Y;this.T=a.T}Tc(a){return this.Y===a.Y&&this.T===a.T}toArray(){return[this.Y,this.T]}zh(a,b){a[b++]=this.Y;a[b]=this.T}offset(a,b){this.Y+=+a;this.T+=+b}scale(a,b){this.Y*=a;this.T*=b}al(a,b){this.Y/=a;this.T/=b}round(){this.Y=Math.round(this.Y);this.T=Math.round(this.T)}floor(){this.Y=Math.floor(this.Y);this.T=Math.floor(this.T)}ceil(){this.Y=
Math.ceil(this.Y);this.T=Math.ceil(this.T)}angle(){return d.qo(0,0,this.Y,this.T)}fha(){return this.Y*this.Y+this.T*this.T}length(){return Math.sqrt(this.fha())}Fha(a,b){const e=this.Y*b-this.T*a;this.T=this.T*b+this.Y*a;this.Y=e}rotate(a){0!==a&&this.Fha(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.Y+=Math.cos(a)*b,this.T+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.Y/=a,this.T/=a)}ba(a,b){this.Y=d.ba(this.Y,a,b);this.T=d.ba(this.T,a,b)}}}
{"use strict";const d=self.A;d.Rect=class{constructor(a,b,e,c){this.V=this.X=this.N=this.S=0;a instanceof d.Rect?this.wa(a):this.set(a||0,b||0,e||0,c||0)}set(a,b,e,c){this.S=+a;this.N=+b;this.X=+e;this.V=+c}Di(a,b,e,c){a=+a;b=+b;this.S=a;this.N=b;this.X=a+ +e;this.V=b+ +c}wa(a){this.S=+a.S;this.N=+a.N;this.X=+a.X;this.V=+a.V}clone(){return new d.Rect(this.S,this.N,this.X,this.V)}Tc(a){return this.S===a.S&&this.N===a.N&&this.X===a.X&&this.V===a.V}Lha(a){this.X=+a}toArray(){return[this.S,this.N,this.X,
this.V]}Sha(){new DOMRect(this.S,this.N,this.width(),this.height())}zh(a,b){a[b++]=this.S;a[b++]=this.N;a[b++]=this.X;a[b]=this.V}aia(a,b){a[b++]=this.S;a[b++]=this.N;a[b++]=this.X;a[b++]=this.N;a[b++]=this.X;a[b++]=this.V;a[b++]=this.S;a[b]=this.V}width(){return this.X-this.S}height(){return this.V-this.N}Ai(){return(this.S+this.X)/2}Bi(){return(this.N+this.V)/2}offset(a,b){a=+a;b=+b;this.S+=a;this.N+=b;this.X+=a;this.V+=b}offsetLeft(a){this.S+=+a}offsetTop(a){this.N+=+a}rha(a){this.X+=+a}qha(a){this.V+=
+a}AD(a,b){a=+a;b=+b;this.S-=a;this.N-=b;this.X+=a;this.V+=b}multiply(a,b){this.S*=a;this.N*=b;this.X*=a;this.V*=b}al(a,b){this.S/=a;this.N/=b;this.X/=a;this.V/=b}Qha(){const a=this.S;this.S=this.X;this.X=a}Wq(){const a=this.N;this.N=this.V;this.V=a}jM(a){const b=this.N;this.N=+a-this.V;this.V=+a-b}round(){this.S=Math.round(this.S);this.N=Math.round(this.N);this.X=Math.round(this.X);this.V=Math.round(this.V)}Gha(){this.S=Math.floor(this.S);this.N=Math.floor(this.N);this.X=Math.ceil(this.X);this.V=
Math.ceil(this.V)}floor(){this.S=Math.floor(this.S);this.N=Math.floor(this.N);this.X=Math.floor(this.X);this.V=Math.floor(this.V)}ceil(){this.S=Math.ceil(this.S);this.N=Math.ceil(this.N);this.X=Math.ceil(this.X);this.V=Math.ceil(this.V)}ba(a,b,e,c){this.S<a&&(this.S=+a);this.N<b&&(this.N=+b);this.X>e&&(this.X=+e);this.V>c&&(this.V=+c)}AW(){0>this.S&&(this.S=0);1<this.N&&(this.N=1);1<this.X&&(this.X=1);0>this.V&&(this.V=0)}normalize(){this.S>this.X&&this.Qha();this.N>this.V&&this.Wq()}BD(a){return!(a.X<
this.S||a.V<this.N||a.S>this.X||a.N>this.V)}Uga(a,b,e){return!(a.X+b<this.S||a.V+e<this.N||a.S+b>this.X||a.N+e>this.V)}Of(a,b){return a>=this.S&&a<=this.X&&b>=this.N&&b<=this.V}gha(a){this.S=d.rd(a.S,a.X,this.S);this.N=d.rd(a.N,a.V,this.N);this.X=d.rd(a.S,a.X,this.X);this.V=d.rd(a.N,a.V,this.V)}}}
{"use strict";const d=self.A;d.xd=class{constructor(a,b,e,c,f,k,h,l){this.jc=this.ic=this.vc=this.uc=this.oc=this.nc=this.Ob=this.Nb=0;a instanceof d.xd?this.wa(a):this.set(a||0,b||0,e||0,c||0,f||0,k||0,h||0,l||0)}set(a,b,e,c,f,k,h,l){this.Nb=+a;this.Ob=+b;this.nc=+e;this.oc=+c;this.uc=+f;this.vc=+k;this.ic=+h;this.jc=+l}iX(a,b,e,c){this.set(a,b,e,b,e,c,a,c)}wa(a){this.Nb=a.Nb;this.Ob=a.Ob;this.nc=a.nc;this.oc=a.oc;this.uc=a.uc;this.vc=a.vc;this.ic=a.ic;this.jc=a.jc}Tc(a){return this.Nb===a.Nb&&this.Ob===
a.Ob&&this.nc===a.nc&&this.oc===a.oc&&this.uc===a.uc&&this.vc===a.vc&&this.ic===a.ic&&this.jc===a.jc}toArray(){return[this.Nb,this.Ob,this.nc,this.oc,this.uc,this.vc,this.ic,this.jc]}zh(a,b){a[b++]=this.Nb;a[b++]=this.Ob;a[b++]=this.nc;a[b++]=this.oc;a[b++]=this.uc;a[b++]=this.vc;a[b++]=this.ic;a[b]=this.jc}bia(a,b,e){a[b++]=this.Nb;a[b++]=this.Ob;a[b++]=e;a[b++]=this.nc;a[b++]=this.oc;a[b++]=e;a[b++]=this.uc;a[b++]=this.vc;a[b++]=e;a[b++]=this.ic;a[b++]=this.jc;a[b]=e}offset(a,b){a=+a;b=+b;this.Nb+=
a;this.Ob+=b;this.nc+=a;this.oc+=b;this.uc+=a;this.vc+=b;this.ic+=a;this.jc+=b}round(){this.Nb=Math.round(this.Nb);this.Ob=Math.round(this.Ob);this.nc=Math.round(this.nc);this.oc=Math.round(this.oc);this.uc=Math.round(this.uc);this.vc=Math.round(this.vc);this.ic=Math.round(this.ic);this.jc=Math.round(this.jc)}floor(){this.Nb=Math.floor(this.Nb);this.Ob=Math.floor(this.Ob);this.nc=Math.floor(this.nc);this.oc=Math.floor(this.oc);this.uc=Math.floor(this.uc);this.vc=Math.floor(this.vc);this.ic=Math.floor(this.ic);
this.jc=Math.floor(this.jc)}ceil(){this.Nb=Math.ceil(this.Nb);this.Ob=Math.ceil(this.Ob);this.nc=Math.ceil(this.nc);this.oc=Math.ceil(this.oc);this.uc=Math.ceil(this.uc);this.vc=Math.ceil(this.vc);this.ic=Math.ceil(this.ic);this.jc=Math.ceil(this.jc)}Sj(a){this.Nb=a.S;this.Ob=a.N;this.nc=a.X;this.oc=a.N;this.uc=a.X;this.vc=a.V;this.ic=a.S;this.jc=a.V}Kha(a,b){0===b?this.Sj(a):this.KD(a,Math.sin(b),Math.cos(b))}KD(a,b,e){const c=a.S*b,f=a.N*b,k=a.X*b;b*=a.V;const h=a.S*e,l=a.N*e,n=a.X*e;a=a.V*e;this.Nb=
h-f;this.Ob=l+c;this.nc=n-f;this.oc=l+k;this.uc=n-b;this.vc=a+k;this.ic=h-b;this.jc=a+c}DL(a){a.set(Math.min(this.Nb,this.nc,this.uc,this.ic),Math.min(this.Ob,this.oc,this.vc,this.jc),Math.max(this.Nb,this.nc,this.uc,this.ic),Math.max(this.Ob,this.oc,this.vc,this.jc))}Of(a,b){var e=this.nc-this.Nb,c=this.oc-this.Ob;const f=this.uc-this.Nb,k=this.vc-this.Ob;a-=this.Nb;b-=this.Ob;var h=e*e+c*c;let l=e*f+c*k;c=e*a+c*b;const n=f*f+k*k,q=f*a+k*b;let r=1/(h*n-l*l);e=(n*c-l*q)*r;h=(h*q-l*c)*r;if(0<=e&&0<
h&&1>e+h)return!0;e=this.ic-this.Nb;c=this.jc-this.Ob;h=e*e+c*c;l=e*f+c*k;c=e*a+c*b;r=1/(h*n-l*l);e=(n*c-l*q)*r;h=(h*q-l*c)*r;return 0<=e&&0<h&&1>e+h}Ai(){return(this.Nb+this.nc+this.uc+this.ic)/4}Bi(){return(this.Ob+this.oc+this.vc+this.jc)/4}GL(a){var b=a.Ai(),e=a.Bi();if(this.Of(b,e))return!0;b=this.Ai();e=this.Bi();if(a.Of(b,e))return!0;b=this.Nb;e=this.Ob;const c=this.nc,f=this.oc,k=this.uc,h=this.vc,l=this.ic,n=this.jc;return d.JD(b,e,c,f,a)||d.JD(c,f,k,h,a)||d.JD(k,h,l,n,a)||d.JD(l,n,b,e,a)}Eha(){const a=
this.Nb,b=this.Ob;this.Nb=this.nc;this.Ob=this.oc;this.nc=this.uc;this.oc=this.vc;this.uc=this.ic;this.vc=this.jc;this.ic=a;this.jc=b}}}
{"use strict";const d=self.A,a=[0,0,1,0,1,1,0,1],b=d.C(d.xd);d.Fo=class extends d.ja{constructor(e,c=!0){super();e||(e=a);this.Bd=Float64Array.from(e);this.UA=new d.Rect;this.cq=!0;this.bh=c}i(){}XL(){return this.Bd.length/2}LD(e){this.Bd.length===e.length?this.Bd.set(e):this.Bd=Float64Array.from(e);this.cq=!0}Jha(){this.LD(a)}wa(e){this.LD(e.Bd)}hM(){this.cq=!0}Ufa(){if(this.cq){var e=this.Bd,c=e[0],f=e[1],k=c,h=f;for(let l=0,n=e.length;l<n;l+=2){const q=e[l],r=e[l+1];q<c&&(c=q);q>k&&(k=q);r<f&&
(f=r);r>h&&(h=r)}this.UA.set(c,f,k,h);this.cq=!1}}Sj(e){let c=this.Bd;8!==c.length&&(this.Bd=c=new Float64Array(8));c[0]=e.S-NaN;c[1]=e.N-NaN;c[2]=e.X-NaN;c[3]=e.N-NaN;c[4]=e.X-NaN;c[5]=e.V-NaN;c[6]=e.S-NaN;c[7]=e.V-NaN;this.UA.wa(e);this.UA.offset(NaN,NaN);this.cq=!1}iM(e,c,f){b.wa(e);b.offset(c,f);this.LD(b.toArray());this.cq=!0}transform(e,c,f){let k=0,h=1;0!==f&&(k=Math.sin(f),h=Math.cos(f));this.qM(e,c,k,h)}qM(e,c,f,k){const h=this.Bd;for(let l=0,n=h.length;l<n;l+=2){const q=l+1,r=h[l]*e,p=h[q]*
c;h[l]=r*k-p*f;h[q]=p*k+r*f}this.cq=!0}offset(e,c){const f=this.Bd;for(let k=0,h=f.length;k<h;k+=2)f[k]+=e,f[k+1]+=c}Of(e,c){const f=this.Bd;if(e===f[0]&&c===f[1])return!0;this.Ufa();var k=this.UA;const h=k.S-110,l=k.N-101,n=k.X+131;k=k.V+120;let q,r,p,v,t,w,x,z;h<e?(q=h,p=e):(q=e,p=h);l<c?(r=l,v=c):(r=c,v=l);n<e?(t=n,x=e):(t=e,x=n);k<c?(w=k,z=c):(w=c,z=k);let E=0,G=0;for(let C=0,H=f.length;C<H;C+=2){var N=(C+2)%H;const I=f[C],K=f[C+1],Q=f[N];N=f[N+1];d.Hm(h,l,e,c,q,p,r,v,I,K,Q,N)&&++E;d.Hm(n,k,e,
c,t,x,w,z,I,K,Q,N)&&++G}return 1===E%2||1===G%2}Px(e,c,f){const k=e.Bd,h=this.Bd;if(this.Of(k[0]+c,k[1]+f)||e.Of(h[0]-c,h[1]-f))return!0;for(let n=0,q=h.length;n<q;n+=2){var l=(n+2)%q;e=h[n];const r=h[n+1],p=h[l];l=h[l+1];let v,t,w,x;e<p?(v=e,w=p):(v=p,w=e);r<l?(t=r,x=l):(t=l,x=r);for(let z=0,E=k.length;z<E;z+=2){const G=(z+2)%E;if(d.Hm(e,r,p,l,v,w,t,x,k[z]+c,k[z+1]+f,k[G]+c,k[G+1]+f))return!0}}return!1}Hg(){return this.bh}}}
{"use strict";const d=self.A;d.Mu=class extends d.ja{constructor(a){super();this.Hk=new Map;if(a)for(const [b,e,c]of a)this.Set(b,e,c)}i(){this.Hc();this.Hk=null}Hc(){const a=this.Hk;for(const b of a.values())b.clear();a.clear()}Set(a,b,e){const c=this.Hk;let f=c.get(a);f||(f=new Map,c.set(a,f));f.set(b,e)}fa(a,b){return(a=this.Hk.get(a))?a.get(b):a}nz(a){return(a=this.Hk.get(a))?a.has(void 0):!1}Ho(a,b){const e=this.Hk,c=e.get(a);c&&c.delete(b)&&0===c.size&&e.delete(a)}VM(a){const b=this.Hk,e=b.get(a);
e&&(e.clear(),b.delete(a));for(const [c,f]of b.entries())f.delete(a)&&0===f.size&&b.delete(c)}Rm(){let a=0;for(const b of this.Hk.values())a+=b.size;return a}*values(){for(const a of this.Hk.values())yield*a.values()}*entries(){for(const [a,b]of this.Hk.entries())for(const [e,c]of b.entries())yield[a,e,c]}}}
{"use strict";const d=self.A;d.dE=class extends d.ja{constructor(){super();this.$n=new Set;this.SA=[];this.Sw=!1}i(){this.Hc()}Hc(){this.$n.clear();d.D(this.SA);this.Sw=!1}yc(a){this.$n.has(a)||(this.$n.add(a),this.Sw||this.SA.push(a))}nz(a){return this.$n.has(a)}Ho(a){this.$n.delete(a)&&(this.Sw=!0)}Rm(){return this.$n.size}$o(){return 0===this.$n.size}CE(){this.Sw&&(this.$ba(),this.Sw=!1);return this.SA}$ba(){const a=this.SA;d.D(a);for(const b of this.$n)a.push(b)}}}
{"use strict";const d=new Map,a=new Map,b=new Map,e=new Map,c=new Map,f=new Map;f.set("linear","noease");f.set("default","noease");self.eu=class k{constructor(){}static A2(h){this.SG();return[...a.keys()].includes(h)}static G$(h){const l=f.get(h);if(l)return d.get(l);if(k.A2(h))return d.get(h);if(c.has(h))return c.get(h)}static Po(h){this.SG();const l=k.G$(h);return l?l:e.get(h)}static SG(){0===d.size&&(this.Fb("default",()=>{}),this.Fb("noease",this.p3),this.Fb("easeinsine",this.f_),this.Fb("easeoutsine",
this.o_),this.Fb("easeinoutsine",this.b_),this.Fb("easeinelastic",this.RZ),this.Fb("easeoutelastic",this.j_),this.Fb("easeinoutelastic",this.XZ),this.Fb("easeinback",this.OZ),this.Fb("easeoutback",this.g_),this.Fb("easeinoutback",this.TZ),this.Fb("easeinbounce",this.XM),this.Fb("easeoutbounce",this.vE),this.Fb("easeinoutbounce",this.UZ),this.Fb("easeincubic",this.QZ),this.Fb("easeoutcubic",this.i_),this.Fb("easeinoutcubic",this.WZ),this.Fb("easeinquad",this.c_),this.Fb("easeoutquad",this.l_),this.Fb("easeinoutquad",
this.ZZ),this.Fb("easeinquart",this.d_),this.Fb("easeoutquart",this.m_),this.Fb("easeinoutquart",this.$Z),this.Fb("easeinquint",this.e_),this.Fb("easeoutquint",this.n_),this.Fb("easeinoutquint",this.a_),this.Fb("easeincirc",this.PZ),this.Fb("easeoutcirc",this.h_),this.Fb("easeinoutcirc",this.VZ),this.Fb("easeinexpo",this.SZ),this.Fb("easeoutexpo",this.k_),this.Fb("easeinoutexpo",this.YZ),this.GQ("cubicbezier",this.NZ),this.GQ("spline",this.p_))}static Fb(h,l){k.JG(h,l,"predefined")}static GQ(h,l){k.JG(h,
l,"private")}static EX(h,l){this.SG();k.JG(h,l,"custom",void 0)}static JG(h,l,n,q){switch(n){case "predefined":d.set(h,l);a.set(h,l);break;case "custom":q?(b.has(q)||b.set(q,new Map),b.get(q).set(h,l)):e.set(h,l);break;case "private":d.set(h,l);c.set(h,l);break;default:throw Error("unexpected ease mode");}}static p3(h,l,n,q){return n*h/q+l}static c_(h,l,n,q){return n*(h/=q)*h+l}static l_(h,l,n,q){return-n*(h/=q)*(h-2)+l}static ZZ(h,l,n,q){return 1>(h/=q/2)?n/2*h*h+l:-n/2*(--h*(h-2)-1)+l}static QZ(h,
l,n,q){return n*(h/=q)*h*h+l}static i_(h,l,n,q){return n*((h=h/q-1)*h*h+1)+l}static WZ(h,l,n,q){return 1>(h/=q/2)?n/2*h*h*h+l:n/2*((h-=2)*h*h+2)+l}static d_(h,l,n,q){return n*(h/=q)*h*h*h+l}static m_(h,l,n,q){return-n*((h=h/q-1)*h*h*h-1)+l}static $Z(h,l,n,q){return 1>(h/=q/2)?n/2*h*h*h*h+l:-n/2*((h-=2)*h*h*h-2)+l}static e_(h,l,n,q){return n*(h/=q)*h*h*h*h+l}static n_(h,l,n,q){return n*((h=h/q-1)*h*h*h*h+1)+l}static a_(h,l,n,q){return 1>(h/=q/2)?n/2*h*h*h*h*h+l:n/2*((h-=2)*h*h*h*h+2)+l}static f_(h,
l,n,q){return-n*Math.cos(h/q*(Math.PI/2))+n+l}static o_(h,l,n,q){return n*Math.sin(h/q*(Math.PI/2))+l}static b_(h,l,n,q){return-n/2*(Math.cos(Math.PI*h/q)-1)+l}static SZ(h,l,n,q){return 0===h?l:n*Math.pow(2,10*(h/q-1))+l}static k_(h,l,n,q){return h===q?l+n:n*(-Math.pow(2,-10*h/q)+1)+l}static YZ(h,l,n,q){return 0===h?l:h===q?l+n:1>(h/=q/2)?n/2*Math.pow(2,10*(h-1))+l:n/2*(-Math.pow(2,-10*--h)+2)+l}static PZ(h,l,n,q){return-n*(Math.sqrt(1-(h/=q)*h)-1)+l}static h_(h,l,n,q){return n*Math.sqrt(1-(h=h/q-
1)*h)+l}static VZ(h,l,n,q){return 1>(h/=q/2)?-n/2*(Math.sqrt(1-h*h)-1)+l:n/2*(Math.sqrt(1-(h-=2)*h)+1)+l}static RZ(h,l,n,q){let r=0,p=n;if(0===h)return l;if(1===(h/=q))return l+n;r||(r=.3*q);p<Math.abs(n)?(p=n,n=r/4):n=r/(2*Math.PI)*Math.asin(n/p);return-(p*Math.pow(2,10*--h)*Math.sin(2*(h*q-n)*Math.PI/r))+l}static j_(h,l,n,q){let r,p=0,v=n;if(0===h)return l;if(1===(h/=q))return l+n;p||(p=.3*q);v<Math.abs(n)?(v=n,r=p/4):r=p/(2*Math.PI)*Math.asin(n/v);return v*Math.pow(2,-10*h)*Math.sin(2*(h*q-r)*
Math.PI/p)+n+l}static XZ(h,l,n,q){let r,p=0,v=n;if(0===h)return l;if(2===(h/=q/2))return l+n;p||(p=.3*q*1.5);v<Math.abs(n)?(v=n,r=p/4):r=p/(2*Math.PI)*Math.asin(n/v);return 1>h?-.5*v*Math.pow(2,10*--h)*Math.sin(2*(h*q-r)*Math.PI/p)+l:v*Math.pow(2,-10*--h)*Math.sin(2*(h*q-r)*Math.PI/p)*.5+n+l}static OZ(h,l,n,q,r){void 0===r&&(r=1.70158);return n*(h/=q)*h*((r+1)*h-r)+l}static g_(h,l,n,q,r){void 0===r&&(r=1.70158);return n*((h=h/q-1)*h*((r+1)*h+r)+1)+l}static TZ(h,l,n,q,r){void 0===r&&(r=1.70158);return 1>
(h/=q/2)?n/2*h*h*(((r*=1.525)+1)*h-r)+l:n/2*((h-=2)*h*(((r*=1.525)+1)*h+r)+2)+l}static XM(h,l,n,q){return n-k.vE(q-h,0,n,q)+l}static vE(h,l,n,q){return(h/=q)<1/2.75?7.5625*n*h*h+l:h<2/2.75?n*(7.5625*(h-=1.5/2.75)*h+.75)+l:h<2.5/2.75?n*(7.5625*(h-=2.25/2.75)*h+.9375)+l:n*(7.5625*(h-=2.625/2.75)*h+.984375)+l}static UZ(h,l,n,q){return h<q/2?.5*k.XM(2*h,0,n,q)+l:.5*k.vE(2*h-q,0,n,q)+.5*n+l}static NZ(h,l,n,q,r){return l+3*h*(n-l)+3*h**2*(l+q-2*n)+h**3*(r-l+3*n-3*q)}static p_(h,l,n,q,r,p,v,t,w,x){if(q===
r&&p===v)return h;if(1==h)h=1;else{for(var z=0,E=1,G=x[E];10!=E&&G<=h;)E++,G=x[E],z+=.1;E--;G=x[E];x=z+(h-G)/(x[E+1]-G)*.1;t=t-3*p+3*q-l;p=3*p-6*q+3*l;l=3*(q-l);q=3*t*x*x+2*p*x+l;if(0!==q)if(.02<=q)for(z=0;4>z;++z)x-=(((t*x+p)*x+l)*x-h)/(3*t*x*x+2*p*x+l);else{q=z;z+=.1;E=0;let N;do x=q+(z-q)/2,G=((t*x+p)*x+l)*x-h,0<G?z=x:q=x,G=1E-7<Math.abs(G),N=10>++E;while(G&&N)}h=x}return(((w-3*v+3*r-n)*h+(3*v-6*r+3*n))*h+3*(r-n))*h}static Q_(h,l,n,q){const r=[];q=q-3*n+3*l-h;n=3*n-6*l+3*h;h=3*(l-h);for(let p=
0;11>p;++p)l=.1*p,r.push(((q*l+n)*l+h)*l);return r}}}{"use strict";const d=self.A;d.Roa=class{constructor(){this.LU=[]}i(){this.Hc();this.LU=null}Hc(){d.qga(this.LU)}}}"use strict";
self.A.Event=class{constructor(d,a){this.type=d;this.cancelable=!!a;this.Wga=this.aM=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Wga)throw Error(`cannot stop async event '${this.type}' propagation`);this.aM=!0}};
{"use strict";const d=self.A;d.Event.e1=class extends d.ja{constructor(a){super();this.Ba=a;this.Cf=[];this.ss=new Set;this.Gf=[];this.Us=new Set;this.aw=0;this.jt=[]}i(){0<this.aw||(d.D(this.Cf),this.ss.clear(),d.D(this.Gf),this.Us.clear(),d.D(this.jt),d.i(this))}EQ(a,b){this.$R()?this.jt.push({UL:"add",yi:a,capture:b}):b?this.ss.has(a)||(this.Cf.push(a),this.ss.add(a)):this.Us.has(a)||(this.Gf.push(a),this.Us.add(a))}pca(a,b){this.$R()?this.jt.push({UL:"remove",yi:a,capture:b}):b?this.ss.has(a)&&
(this.ss.delete(a),d.Sq(this.Cf,a)):this.Us.has(a)&&(this.Us.delete(a),d.Sq(this.Gf,a))}qaa(){return!this.Cf.length&&!this.Gf.length}$R(){return 0<this.aw}Xba(){const a=new Set,b=new Set;for(const e of this.jt)if("add"===e.UL)this.EQ(e.yi,e.capture),e.capture?b.delete(e.yi):a.delete(e.yi);else if("remove"===e.UL)e.capture?(this.ss.delete(e.yi),b.add(e.yi)):(this.Us.delete(e.yi),a.add(e.yi));else throw Error("invalid op");d.wh(this.Gf,a);d.wh(this.Cf,b);d.D(this.jt)}r$(a){this.hs();let b=!1;for(let e=
0,c=this.Cf.length;e<c;++e)if(this.Cf[e](a),a.aM){b=!0;break}if(!b)for(let e=0,c=this.Gf.length;e<c&&(this.Gf[e](a),!a.aM);++e);this.ds();return!a.defaultPrevented}t$(a){this.hs();for(let b=0,e=this.Cf.length;b<e;++b)this.Cf[b](a);for(let b=0,e=this.Gf.length;b<e;++b)this.Gf[b](a);this.ds();return!0}hs(){this.aw++}ds(){this.aw--;0===this.aw&&0<this.jt.length&&this.Xba()}Mr(a){a?this.hs():this.ds()}lR(a){const b=[];this.hs();for(let c=0,f=this.Cf.length;c<f;++c){var e=this.Cf[c](a);e instanceof Promise&&
b.push(e)}for(let c=0,f=this.Gf.length;c<f;++c)e=this.Gf[c](a),e instanceof Promise&&b.push(e);this.ds();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async o$(a){return await this.lR(a)}async p$(a){this.hs();for(let e=0,c=this.Cf.length;e<c;++e){var b=this.Cf[e](a);b instanceof Promise&&await b}for(let e=0,c=this.Gf.length;e<c;++e)b=this.Gf[e](a),b instanceof Promise&&await b;this.ds();return!a.defaultPrevented}*q$(a){this.hs();for(let e=0,c=this.Cf.length;e<c;++e){var b=
this.Cf[e](a);d.Wm(b)&&(yield*b)}for(let e=0,c=this.Gf.length;e<c;++e)b=this.Gf[e](a),d.Wm(b)&&(yield*b);this.ds()}}}
{"use strict";const d=self.A;d.Event.Db=class extends d.ja{constructor(){super();this.Sp=new Map;this.DI=!1}i(){if(this.DI)throw Error("already released");this.zY();this.DI=!0;d.i(this)}Zz(){return this.DI}zY(){for(let a of this.Sp.values())a.i();this.Sp.clear()}vp(a,b){let e=this.Sp.get(a);return e?e:b?(e=d.C(d.Event.e1,a),this.Sp.set(a,e),e):null}hF(a){return this.Sp.has(a)}addEventListener(a,b,e){this.vp(a,!0).EQ(b,!!e)}removeEventListener(a,b,e){let c=this.vp(a,!1);c&&(c.pca(b,!!e),c.qaa()&&this.Sp.delete(a))}dispatchEvent(a){const b=
this.vp(a.type,!1);return b?a.cancelable?b.r$(a):b.t$(a):!0}async yL(a){const b=this.vp(a.type,!1);return b?await b.o$(a):!0}Bga(a){const b=this.vp(a.type,!1);return b?b.lR(a):!0}async Aga(a){const b=this.vp(a.type,!1);b&&await b.p$(a)}Cga(a){const b=this.vp(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.q$(a)}Mr(a){for(const b of this.Sp.values())b.Mr(a)}}}
{"use strict";const d=self.A,a="undefined"!==typeof requestIdleCallback;let b=[],e=-1,c=0;function f(n){e=a&&0===c?requestIdleCallback(k,{timeout:35}):setTimeout(k,0<c?1:n)}function k(n){e=-1;if(b.length){var q=performance.now(),r=0;do{h(b.shift());var p=performance.now();++r;var v=(p-q)/r*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof n?v<n.timeRemaining():12>p-q+v));-1===e&&b.length&&f(Math.max(16-(p-q),4))}}function h(n){let q;try{q=n.yi()}catch(r){n.reject(r);return}n.resolve(q)}let l=d.PF.nz("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.el=function(n){let q=null;d.Lt&&(q=d.Ly());return new Promise((r,p)=>{b.push({yi:n,resolve:r,reject:p,stack:q});l?h(b.pop()):-1===e&&f(16)})};d.el.PP=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.A;let a=-1;function b(){a=-1}d.Gy=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let e=-1,c=-1,f=new Set;function k(){c=e=-1;let h=Date.now();for(let l of f)if(l.H8(h)){let n=l.Op;if(-1===c||n<c)c=n}else f.delete(l);-1!==c&&(e=self.setTimeout(k,Math.max(c-h+100,1E3)))}d.F1=class{constructor(h,l){this.rs=h;this.dD=1E3*l;this.Op=0;this.Lb=!1}Gd(){let h=d.Gy();this.Op=h+this.dD;this.Lb||(f.add(this),this.Lb=!0);-1===e?(c=this.Op,e=self.setTimeout(k,this.dD+
100)):this.Op<c&&c>h+1E3&&(self.clearTimeout(e),c=this.Op,e=self.setTimeout(k,this.dD+100))}H8(h){return h>=this.Op?this.rs()?(this.Op=h+this.dD,!0):this.Lb=!1:!0}sY(){this.Lb&&(f.delete(this),this.Lb=!1,0===f.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}i(){this.sY();this.rs=null}}}
{"use strict";const d=self.A;d.Ib=class a{constructor(b){this.Es=!1;this.FI=b}Dy(){this.Es||(this.Es=!0,this.FI&&(this.FI(),this.FI=null))}i(){this.Dy()}static i(b){return new a(()=>b.i())}static fc(b,e,c){if("undefined"===typeof f||null===f)var f=!1;else if("boolean"!==typeof f&&"object"!==typeof f)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const k=new d.Go;for(let h of e)b.addEventListener(h,c,f),k.yc(d.C(d.Ib,()=>b.removeEventListener(h,c,f)));return k}b.addEventListener(e,
c,f);return d.C(d.Ib,()=>b.removeEventListener(e,c,f))}};d.isa=class extends d.Ib{};d.Go=class extends d.Ib{constructor(...a){super();this.Sd=new Set;for(let b of a)this.yc(b)}yc(...a){if(this.Es)throw Error("already disposed");for(let b of a)this.Sd.add(b)}Kh(a){if(this.Es)throw Error("already disposed");this.Sd.delete(a)}Dy(){if(this.Es)throw Error("already disposed");this.Es=!0;for(let a of this.Sd)a.Dy();this.Sd.clear();this.Sd=null}i(){this.Dy()}}}
{"use strict";const d=self.A;d.Ju=class extends d.ja{constructor(){super();this.qt=this.ox=this.T=this.XA=0}yc(a){this.T=+a-this.XA;this.ox=this.qt+this.T;this.XA=this.ox-this.qt-this.T;this.qt=this.ox}fa(){return this.qt}Gd(){this.qt=this.ox=this.T=this.XA=0}Set(a){this.ox=this.T=this.XA=0;this.qt=+a}i(){}}}
{"use strict";const d=self.A,a={RF:function(b){this.qX=b;this.left=this.right=this.qX.ub;this.parent=null;this.color=!1;this.key=null},gp:function(b){this.size=0;this.ub=new a.RF(this);this.ub.color=!1;this.root=this.ub;this.root.parent=this.ub;this.compare=b||this.wga}};ya=a.gp.prototype;ya.wga=function(b,e){return b<e?-1:e<b?1:0};ya.clone=function(){var b=new a.gp(this.compare);b.Rga(this);return b};ya.clear=function(){this.size=0;this.ub=new a.RF(this);this.ub.color=!1;this.root=this.ub;this.root.parent=
this.ub};ya.Qx=function(b){var e=b.right;b.right=e.left;e.left!=this.ub&&(e.left.parent=b);e.parent=b.parent;b.parent==this.ub?this.root=e:b==b.parent.left?b.parent.left=e:b.parent.right=e;e.left=b;b.parent=e};ya.Zx=function(b){var e=b.left;b.left=e.right;e.right!=this.ub&&(e.right.parent=b);e.parent=b.parent;b.parent==this.ub?this.root=e:b==b.parent.right?b.parent.right=e:b.parent.left=e;e.right=b;b.parent=e};ya.It=function(b){if(this.contains(b))this.Nx(b).key=b;else{var e=new a.RF(this);e.key=
b;b=this.ub;for(var c=this.root;c!=this.ub;)b=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=b;b==this.ub?this.root=e:0>this.compare(e.key,b.key)?b.left=e:b.right=e;e.left=this.ub;e.right=this.ub;e.color=!0;this.Sga(e);this.size++}};ya.Sga=function(b){for(;b!=this.ub&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var e=b.parent.parent.right;1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.Qx(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.ub&&this.Zx(b.parent.parent))}else e=b.parent.parent.left,1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.Zx(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.ub&&this.Qx(b.parent.parent));this.root.color=!1};ya.yga=function(b){var e=b.left==this.ub||b.right==this.ub?b:this.Do(b);var c=e.left!=this.ub?e.left:e.right;c.parent=e.parent;e.parent==
this.ub?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=b&&(b.key=e.key);0==e.color&&this.xga(c);this.size--};ya.xga=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var e=b.parent.right;1==e.color&&(e.color=!1,b.parent.color=!0,this.Qx(b.parent),e=b.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,b=b.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.Zx(e),e=b.parent.right),e.color=b.parent.color,b.parent.color=!1,e.right.color=!1,this.Qx(b.parent),
b=this.root)}else e=b.parent.left,1==e.color&&(e.color=!1,b.parent.color=!0,this.Zx(b.parent),e=b.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,b=b.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.Qx(e),e=b.parent.left),e.color=b.parent.color,b.parent.color=!1,e.left.color=!1,this.Zx(b.parent),b=this.root);b.color=!1};ya.remove=function(b){b=this.Nx(b);if(b!=this.ub){var e=b.key;this.yga(b);return e}return null};ya.min=function(b){for(;b.left!=this.ub;)b=b.left;return b};ya.max=
function(b){for(;b.right!=this.ub;)b=b.right;return b};ya.Do=function(b){if(b.right!=this.ub)return this.min(b.right);for(var e=b.parent;e!=this.ub&&b==e.right;)b=e,e=e.parent;return e};ya.Nx=function(b){for(var e=this.root;e!=this.ub&&0!=this.compare(e.key,b);)e=0>this.compare(b,e.key)?e.left:e.right;return e};ya.contains=function(b){return null!=this.Nx(b).key};ya.EL=function(){var b=[];this.forEach(function(e){b.push(e)});return b};ya.Rga=function(b){if("array"==a.rM(b))for(var e=0;e<b.length;e++)this.It(b[e]);
else if("function"==a.rM(b.forEach))b.forEach(this.It,this);else if("function"==a.rM(b.EL))for(b=b.EL(),e=0;e<b.length;e++)this.It(b[e]);else if("object"==a.rM(b))for(e in b)this.It(b[e])};ya.range=function(b,e){var c=[];this.Wha(function(f){c.push(f)},b,e);return c};ya.Wha=function(b,e,c){if(!this.Mt())for(e=this.Nx(e),c=this.Nx(c);e!=c&&!b.call(void 0,e.key,this);)e=this.Do(e)};ya.forEach=function(b,e){if(!this.Mt())for(var c=this.min(this.root);c!=this.ub;c=this.Do(c))b.call(e,c.key,c.key,this)};
ya.some=function(b,e){if(this.Mt())return!1;for(var c=this.min(this.root);c!=this.ub;c=this.Do(c))if(b.call(e,c.key,c.key,this))return!0;return!1};ya.every=function(b,e){if(this.Mt())return!1;for(var c=this.min(this.root);c!=this.ub;c=this.Do(c))if(!b.call(e,c.key,c.key,this))return!1;return!0};ya.map=function(b,e){var c=[];if(this.Mt())return c;for(var f=this.min(this.root);f!=this.ub;f=this.Do(f))c.push(b.call(e,f.key,f.key,this));return c};ya.filter=function(b,e){var c=[];if(this.Mt())return c;
for(var f=this.min(this.root);f!=this.ub;f=this.Do(f))b.call(e,f.key,f.key,this)&&c.push(f.key);return c};ya.Mt=function(){return 0==this.size};d.gp=class extends d.ja{constructor(b){super();this.ki=new a.gp(b);this.Gs=!1;this.Aq=new Set;this.Bq=new Set}yc(b){this.Gs?this.ki.contains(b)?this.Bq.delete(b):this.Aq.add(b):this.ki.It(b)}Kh(b){this.Gs?this.ki.contains(b)?this.Bq.add(b):this.Aq.delete(b):this.ki.remove(b)}nz(b){return this.Gs?this.Aq.has(b)?!0:!this.Bq.has(b)&&this.ki.contains(b):this.ki.contains(b)}Hc(){this.ki.clear();
this.Aq.clear();this.Bq.clear()}toArray(){if(this.Gs)throw Error("cannot be used in queueing mode");return this.ki.EL()}Rm(){return this.ki.size+this.Aq.size-this.Bq.size}$o(){return 0===this.Rm()}Lh(b){b=!!b;if(this.Gs!==b&&(this.Gs=b,!b)){for(const e of this.Bq)this.ki.remove(e);this.Bq.clear();for(const e of this.Aq)this.ki.It(e);this.Aq.clear()}}*values(){if(!this.$o()){var b=this.ki;for(let e=b.min(b.root);e!=b.ub;e=b.Do(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.A;d.OF=class{constructor(a=d.hardwareConcurrency){this.tfa=a;this.xK=[];this.YH=0}yc(a){return new Promise((b,e)=>{this.xK.push({yi:a,resolve:b,reject:e});this.lS()})}async lS(){if(this.xK.length&&!(this.YH>=this.tfa)){this.YH++;var a=this.xK.shift();try{const b=await a.yi();a.resolve(b)}catch(b){a.reject(b)}this.YH--;this.lS()}}}}
{"use strict";const d=self.A;d.R4=class{constructor(a,b,e){this.rs=a;this.cfa=b;this.dfa=e||2*b;this.xt=-1;this.kC=-Infinity;this.fW=()=>this.Kba();this.Mea=this.eJ=!1;this.Sv=null}L$(){return"undefined"!==typeof d.fY&&d.fY.pma()?this.dfa:this.cfa}rY(){var a=[];if(-1===this.xt){this.Sv=a;a=d.Gy();var b=a-this.kC,e=this.L$();b>=e&&this.Mea?(this.kC=a,this.GS()):this.xt=self.setTimeout(this.fW,Math.max(e-b,4))}}GS(){this.eJ=!0;const a=this.Sv;this.Sv=null;a?this.rs(...a):this.rs();this.eJ=!1}Gd(){this.eJ||
(this.LQ(),this.Sv=null,this.kC=d.Gy())}Kba(){this.xt=-1;this.kC=d.Gy();this.GS()}LQ(){-1!==this.xt&&(self.clearTimeout(this.xt),this.xt=-1)}i(){this.LQ();this.fW=this.Sv=this.rs=null}}}"use strict";function gc(d,a){if(!d.hU)throw Error("no get base size callback set");return d.hU(a)}function hc(d){if(!d.CV)throw Error("no redraw callback set");d.CV()}self.A.jqa=class{constructor(){this.$ea=new Map;this.CV=this.FV=this.hU=null}};"use strict";
self.A.iqa=class{constructor(d,a){this.Zs=d;this.Pea=a;this.Rc=0;gc(this.Zs,a).then(()=>{hc(this.Zs)}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);hc(this.Zs)});this.yK=null}i(){if(0>=this.Rc)throw Error("already released");this.Rc--;0===this.Rc&&this.Dv()}Dv(){if(this.yK){var d=this.Zs;if(!d.FV)throw Error("no release result callback set");d.FV(this.yK);this.yK=null}this.Zs.$ea.delete(this.Pea);this.Zs=null}};
{"use strict";const d=self.A;d.Fsa="\ufeff";const a=new Set([..."0123456789"]);d.B2=function(n){return a.has(n)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.Az=function(n){return b.has(n)};d.Vka=function(n){return[...n].filter(q=>!d.Az(q)).join("")};d.zz=function(n){for(const q of n)if(!d.Az(q))return!1;return!0};d.O2=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.D_=function(n){return[...n].filter(q=>
!d.O2(q)).join("")};const e=new Set([..."0123456789.+-e"]);d.Ema=function(n){n=n.trim();if(!n.length)return!1;let q=n.charAt(0);if("-"!==q&&!a.has(q))return!1;for(let r of n)if(!e.has(r))return!1;return!0};d.c5=function(n){let q=n.length;for(;0<q&&d.B2(n.charAt(q-1));)--q;return n.substr(0,q)};d.Lla=function(n){let q=d.c5(n);n=(n=n.substr(q.length))?(parseInt(n,10)+1).toString():"2";return q+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function f(n){return c.get(n)}
const k=/[&<>"']/g;d.t_=function(n){return n.replace(k,f)};d.Nka=function(n){n=d.Ui(n,"\\","\\\\");n=d.Ui(n,'"','\\"');n=d.Ui(n,"\t","\\t");n=d.Ui(n,"\r","");return d.Ui(n,"\n","\\n")};d.Oka=function(n){n=d.Ui(n,"&","&amp;");n=d.Ui(n,"<","&lt;");n=d.Ui(n,">","&gt;");return d.Ui(n,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;d.fu=function(n){return n.replace(h,"\\$&")};d.Wka=function(n,q,r=!1){if(!q)return[];r||(n=n.toLowerCase(),q=q.toLowerCase());r=q.length;var p=0;let v=[];for(;-1<(p=n.indexOf(q,
p));)v.push(p),p+=r;return v};d.Ui=function(n,q,r){return n.replaceAll(q,()=>r)};d.ipa=function(n,q,r){return n.replace(new RegExp(d.fu(q),"gi"),()=>r)};d.Rqa=function(n,q){"string"===typeof q?n.textContent=q:q.HU?n.textContent=q.toString():(n.innerHTML=q.nM(),q instanceof d.fl&&q.iga(n))};d.dsa=function(n,q){return n instanceof d.mF||n instanceof d.fl?n.Tc(q):q instanceof d.mF||q instanceof d.fl?q.Tc(n):n===q};d.esa=function(n,...q){let r=n;for(let p=0,v=q.length;p<v;++p){const t=`{${p}}`;if(!n.includes(t))throw Error(`missing placeholder '${t}' in string substitution`);
r=r.replace(t,q[p].toString())}return r};d.fsa=function(n,...q){let r=n,p=-1,v=-1;for(let t=0,w=q.length;t<w;++t){const x=`{${t}}`;n.includes(x)?(v=t,r=r.replace(x,q[t].toString())):-1===p&&(p=t)}if(0<=p&&0<=v&&p<v)throw Error(`missing placeholder '${p}' in string substitution`);return r};d.gsa=function(n,q){for(let [r,p]of Object.entries(q))n=n.replaceAll(r,p.toString());return n};d.Pra=function(n,q){n=n.toLowerCase();q=q.toLowerCase();return n>q?1:n<q?-1:0};d.ala=function(n,q){q="common."+(q?"dataRates":
"dataSizes")+".";const r=self.Kua;if(1024>n)return r(q+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return r(q+"terabytes",n)};const l={fga:!1,tga:!0,Qga:!0,mha:!0,gX:!0};d.bla=function(n,q){q=Object.assign({},
l,q);d.S2.Uoa("common.time");const r=[],p=self.lang,v=self.Jua;if(q.tga){var t=Math.floor(n/86400);0<t&&(n-=86400*t,r.push(v(".days",null,t)))}q.Qga&&(t=Math.floor(n/3600),0<t||r.length)&&(n-=3600*t,r.push(v(".hours",null,t)));q.mha&&(t=Math.floor(n/60),0<t||r.length||!q.gX)&&(n-=60*t,r.push(v(".minutes",null,t)));q.gX&&r.push(v(".seconds",null,Math.floor(n%60)));n=(q.fga?p(".approx-prefix"):"")+r.join(p(".separator"));d.S2.Hoa();return n};d.rta=function(n,q){let r=0>n?"-":"";n=Math.abs(n);n=n.toString();
q-=n.length;for(let p=0;p<q;++p)r+="0";return r+n};d.hsa=function(n){return n.toLowerCase().replace(/\b\w/g,q=>q.toUpperCase())};d.dka=function(n,q){n=n.split(".").map(r=>r.trim());q=q.split(".").map(r=>r.trim());d.eX(n);d.eX(q);n=n.map(r=>parseInt(r,10));q=q.map(r=>parseInt(r,10));for(let r=0;4>r;++r){const p=n[r]-q[r];if(0!==p)return 0>p?-1:1}return 0};d.tka=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const q=Math.floor(16*Math.random());return("x"===n?q:q&3|8).toString(16)})};
d.bsa=function(n,q){if(n.length!==q.length)throw Error("strings must be same length");let r=0;for(let p=0,v=n.length;p<v;++p)n.charAt(p)!==q.charAt(p)&&++r;return r};d.csa=function(n,q){if(0===n.length)return q.length;if(0===q.length)return n.length;let r,p,v,t;if(n.length>q.length){var w=n;n=q;q=w}t=Array(n.length+1);for(w=0;w<=n.length;w++)t[w]=w;for(w=1;w<=q.length;w++){p=w;for(r=1;r<=n.length;r++)v=q[w-1]===n[r-1]?t[r-1]:Math.min(t[r-1]+1,Math.min(p+1,t[r]+1)),t[r-1]=p,p=v;t[n.length]=p}return t[n.length]}}
{"use strict";const d=self.A,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[]*?)\]/g;let c=null,f=0;function k(l,n,q){var r=a.get(q);if(r){if("string"===typeof r){if("a"!==r||n)return"<"+n+r+">";n=parseInt(q.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");r=c[n];if("string"===typeof r)return`<a href="${c[n]}">`;if("function"===typeof r)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(r))return l=r[0],r=r[1],n?"</"+l+">":`<${l} class="${r}">`}else return"class"===q?n?"</span>":
`<span class="bbclass${f++}">`:l}const h=/\n/g;d.fl=class{constructor(l,n){this.Th=n&&n.VW?l:d.t_(l);this.dJ="";this.JT=!1;this.Kw=[];if(n&&(this.JT=!!n.Jta,n.links)){if(9<n.links.length)throw Error("too many links");this.Kw=n.links}this.mU=this.Th.includes("[");this.mV=this.JT&&this.Th.includes("\n");this.HU=!this.mU&&!this.mV&&!this.Th.includes("&");this.qU=!1;this.bw=[]}toString(){return this.Th}valueOf(){return this.Th}nM(){if(this.HU)return this.Th;if(!this.dJ&&this.Th){let l=this.Th;this.mU&&
(f=0,c=this.Kw,l=l.replace(b,k),c=null);this.mV&&(l=l.replace(h,"<br>"));this.dJ=l}return this.dJ}iga(l){if(this.Kw.length)for(let n=0,q=this.Kw.length;n<q;++n){const r=this.Kw[n];if("function"!==typeof r)continue;const p=l.querySelector(".bblink"+n);if(!p)throw Error("unable to attach BBString link handler");p.onclick=r}}Tc(l){return l instanceof d.mF?this.nM()===l.nM():l instanceof d.fl?this.Th===l.Th:this.Th===l}mX(){if(this.qU)return this.bw;const l=this.Th,n=[];let q=e.lastIndex=0;for(var r;null!==
(r=e.exec(l));){var p=r.index;if(0<p&&"\\"===l.charAt(p-1))continue;var v=r[1],t=r[2];const w=l.substring(q,p);q=p+r[0].length;w&&this.bw.push({text:w,hd:n.slice(0)});if(t)if(v)for(t=t.toLowerCase(),r=n.length-1;0<=r;--r){if(n[r].tag===t){n.splice(r,1);break}}else r=t,p=null,v=t.indexOf("="),-1!==v?(r=t.substring(0,v).toLowerCase(),p=t.substring(v+1)):r=r.toLowerCase(),n.push({tag:r,gd:p})}q<l.length&&this.bw.push({text:l.substring(q),hd:n.slice(0)});for(const w of this.bw)w.text=this.Wba(w.text);
this.qU=!0;return this.bw}Wba(l){l=d.Ui(l,"\\[","[");return d.Ui(l,"\\\\","\\")}static lQ(l){return l.replace(e,"")}}}
{"use strict";const d=self.A;d.lv=class{constructor(){this.Ok=[]}nS(a,b){let e=0,c=0,f=0,k=0,h=0;for(const l of a)-1===l.width&&(a=b(l.text,l.hd),l.width=a.width,l.height=a.height,l.rg=a.rg||0,l.Pf=a.Pf||0,l.Rf=a.Rf||0),e+=l.width,c=Math.max(c,l.height),f=Math.max(f,l.rg),k=Math.max(k,l.Pf),h=Math.max(h,l.Rf);return{width:e,height:c,rg:f,Pf:k,Rf:h}}cA(a,b,e,c,f,k){this.Ok.push({zL:a,width:b,height:e,rg:c,Pf:f,Rf:k})}lv(a,b,e,c,f){"string"===typeof a&&(a=[{text:a,hd:[]}]);d.D(this.Ok);if(!(!a.length||
1===a.length&&!a[0].text.length||2>e)){if(1===a.length){var k=a[0];const h=k.text;k=k.hd;if(100>=h.length&&!h.includes("\n")){let {width:l,height:n,rg:q,Pf:r,Rf:p}=b(h,k);l+=f;q=q||0;r=r||0;p=p||0;if(l<=e){this.cA([{text:h,hd:k,width:l,height:n,rg:q,Pf:r,Rf:p}],l,n,q,r,p);return}}}if("word"===c)c=this.Zda(a);else{c=[];for(const h of a)d.Bm(c,[...h.text].map(l=>[{text:l,hd:h.hd}]))}this.tea(c,b,e,f)}}Zda(a){const b=[];let e=[],c=!1;for(const k of a){var f=k.text;a=k.hd;for(const h of f)"\n"===h?(0<
e.length&&b.push(e),b.push([{text:"\n",hd:a}]),e=[]):0===e.length?(e.push({text:h,hd:a}),c=d.Az(h)):(f=d.Az(h),f===c?(f=e.ne(-1),f.hd===a?f.text+=h:e.push({text:h,hd:a})):(b.push(e),e=[],e.push({text:h,hd:a}),c=f))}0<e.length&&b.push(e);return b}K8(a){return a.map(b=>({text:b.text,hd:b.hd,width:b.width,height:b.height,rg:b.rg,Pf:b.Pf,Rf:b.Rf}))}JQ(a,b){var e=a.length?a.ne(-1):null;let c=0;e&&b[0].hd===e.hd&&(e.text+=b[0].text,e.width=-1,e.height=-1,e.rg=-1,e.Pf=-1,e.Rf=-1,c=1);for(e=b.length;c<e;++c){const f=
b[c];a.push({text:f.text,hd:f.hd,width:-1,height:-1,rg:-1,Pf:-1,Rf:-1})}}tea(a,b,e,c){let f=[],k=0,h=0,l=0,n=0;var q=0;for(const r of a){if(1===r.length&&"\n"===r[0].text){0===h&&(q=b(" ",r[0].hd),h=q.height,l=q.rg||0,n=q.Pf||0,q=q.Rf||0);this.cA(f,k,h,l,n,q);f=[];q=n=l=h=k=0;continue}a=this.K8(f);this.JQ(a,r);const p=this.nS(a,b),v=p.width;v>=e?(0<f.length&&this.cA(f,k,h,l,n,q),f=[],d.zz(r[0].text)?q=n=l=h=k=0:(this.JQ(f,r),q=this.nS(f,b),k=q.width,h=q.height,l=q.rg,n=q.Pf,q=q.Rf)):(f=a,k=v,h=p.height,
l=p.rg,n=p.Pf,q=p.Rf)}0<f.length&&this.cA(f,k,h,l,n,q);this.bea(b,c)}bea(a,b){for(const c of this.Ok){const f=c.zL;if(!f.length)continue;let k=f.ne(-1);var e=k.text;const h=e.trimEnd();if(!h)c.width-=k.width,f.pop();else if(h.length<e.length){e=a(h,k.hd).width;const l=k.width-e;k.width=e;k.text=h;c.width-=l}0!==b&&0<f.length&&(k=f.ne(-1),k.width+=b,c.width+=b)}}Hc(){d.D(this.Ok)}yN(){return this.Ok.reduce((a,b)=>Math.max(a,b.width),0)}W0(){return this.Ok.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const d=self.A,a=self.cl,b=a.SD,e=a.ey,c=a.wo,f=b.create(),k=b.create(),h=b.create(),l=e.create(),n=c.create(),q=b.create(),r=b.create(),p=b.create(),v=b.create(),t=b.create(),w=b.create(),x=b.create(),z=b.create(),E=e.Qf(0,0,1,1);d.aa={I4(H,I,K,Q,R,U,Z){const ca=Q[0]*H+Q[4]*I+Q[8]*K+Q[12],Y=Q[1]*H+Q[5]*I+Q[9]*K+Q[13],ha=Q[2]*H+Q[6]*I+Q[10]*K+Q[14];Q=Q[3]*H+Q[7]*I+Q[11]*K+Q[15];H=R[0]*ca+R[4]*Y+R[8]*ha+R[12]*Q;I=R[1]*ca+R[5]*Y+R[9]*ha+R[13]*Q;K=R[2]*ca+R[6]*Y+R[10]*ha+R[14]*Q;R=R[3]*
ca+R[7]*Y+R[11]*ha+R[15]*Q;if(0===R)return!1;R=1/R;Z[0]=(H*R*.5+.5)*U[2]+U[0];Z[1]=(I*R*.5+.5)*U[3]+U[1];Z[2]=.5*(1+K*R);return!0},tk(H,I,K,Q,R,U,Z){c.multiply(n,R,Q);if(null===c.Kt(n,n))return!1;l[0]=(H-U[0])/U[2]*2-1;l[1]=(I-U[1])/U[3]*2-1;l[2]=2*K-1;l[3]=1;e.pM(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];Z[0]=l[0]*l[3];Z[1]=l[1]*l[3];Z[2]=l[2]*l[3];return!0},x7(H,I,K,Q,R,U,Z){if(!d.aa.tk(H,I,0,Q,R,U,f)||!d.aa.tk(H,I,1,Q,R,U,k))return!1;b.Jm(k,k,f);b.set(h,0,0,1);H=-K;I=b.to(h,k);K=0;if(0===I){if(0!==
b.to(h,f)+H)return!1}else if(K=-(b.to(f,h)+H)/I,0>K)return!1;b.gM(Z,f,k,K);return!0}};function G(H,I,K,Q){b.Jm(f,K,I);b.Jm(k,H,I);b.wL(h,f,k);b.normalize(h,h);Q.set(h[0],h[1],h[2],b.to(H,h))}function N(H,I,K,Q,R,U,Z){const ca=Z.x,Y=Z.y,ha=Z.z,ka=Z.w,za=Z.vX,Oa=Z.wX;Z=Z.xX;const ab=1-za,Ua=1-Oa,bb=1-Z;return ca*H*za+ca*Q*ab+Y*I*Oa+Y*R*Ua+ha*K*Z+ha*U*bb>=ka?!0:ca*Q*za+ca*H*ab+Y*R*Oa+Y*I*Ua+ha*U*Z+ha*K*bb>ka}class C{constructor(){this.xX=this.wX=this.vX=this.w=this.z=this.y=this.x=NaN}set(H,I,K,Q){this.x=
H;this.y=I;this.z=K;this.w=Q;this.vX=0<H?1:0;this.wX=0<I?1:0;this.xX=0<K?1:0}}d.aa.G7=class{constructor(){this.ZU=new C;this.gW=new C;this.IV=new C;this.DT=new C;this.lV=new C;this.$T=new C}nY(H,I){d.aa.tk(0,1,0,H,I,E,q);d.aa.tk(1,1,0,H,I,E,r);d.aa.tk(0,0,0,H,I,E,p);d.aa.tk(1,0,0,H,I,E,v);d.aa.tk(0,1,1,H,I,E,t);d.aa.tk(1,1,1,H,I,E,w);d.aa.tk(0,0,1,H,I,E,x);d.aa.tk(1,0,1,H,I,E,z);G(p,q,t,this.ZU);G(q,r,w,this.gW);G(r,v,z,this.IV);G(v,p,x,this.DT);G(x,t,w,this.$T);G(v,r,q,this.lV)}NY(H,I,K,Q,R,U){return N(H,
I,K,Q,R,U,this.ZU)&&N(H,I,K,Q,R,U,this.gW)&&N(H,I,K,Q,R,U,this.IV)&&N(H,I,K,Q,R,U,this.DT)&&N(H,I,K,Q,R,U,this.lV)&&N(H,I,K,Q,R,U,this.$T)}}}
{"use strict";const d=self.A,a=self.cl,b=a.SD,e=a.ey,c=a.wo,f=c.create(),k=b.Qf(0,0,0),h=b.Qf(0,0,0),l=b.Qf(0,0,0),n=b.Qf(0,1,0);e.Qf(0,0,0,0);new d.xd;new d.Rect;const q=new d.xd(0,0,1,0,1,1,0,1);d.aa.f5=class{constructor(){this.R=this.U=0;this.Xea=d.Ea(45);this.SK=Math.tan(this.Xea/2);this.xC=c.create();this.VJ=c.create();this.Ep=[];this.QC=new Map;this.IK=this.VC=this.WC=null;this.nx=new Map;this.qj=null;this.pI=[];this.kV=new Map;this.Zv=this.Pv=0;this.pfa=this.qfa=1;this.QJ=.5;this.bi=0;this.Fs=
!0;this.bJ=!1}C_(r){let p=0,v=r.length,t=0;for(;p<v;)r[p++]=t,r[p++]=t+1,r[p++]=t+2,r[p++]=t,r[p++]=t+2,r[p++]=t+3,t+=4}NQ(){this.Zv=this.Pv=0;this.IK=this.VC=this.WC=null;this.I8()}sz(){this.NQ();this.qj=null}L3(){for(const r of this.Ep)r.i();this.NQ()}P(){return this.U}O(){return this.R}au(r,p,v=.5,t=.5){v=1-v;const w=1*this.SK;p*=w;c.Iga(r,(2*v-2)*p,2*v*p,(2*t-2)*w,2*t*w,1,1E4)}mY(r,p,v){const t=self.devicePixelRatio,w=200*t*this.SK/v;p=p*w/(2*t);v=v*w/(2*t);c.tha(r,-p,p,-v,v,1,1E4)}CM(r,p,v,t,
w=this.aF()){w=200*self.devicePixelRatio*this.SK/w;b.set(l,w,-w,1);b.multiply(k,p,l);b.multiply(h,v,l);c.jha(r,k,h,t||n);c.scale(r,r,l)}$t(r,p,v,t,w,x){b.set(k,r,p,v);b.set(h,t,w,0);this.CM(f,k,h,n,x);return f}h8(r){this.Ep.push(r);this.QC.set(r.Da(),r)}rca(r){const p=this.Ep.indexOf(r);-1!==p&&this.Ep.splice(p,1);this.QC.delete(r.Da())}I8(){d.D(this.Ep);this.QC.clear()}ON(r){return this.QC.get(r)||null}Mh(){this.ln(this.WC)}jG(){this.ln(this.IK)}lda(r){this.qj=r}BX(r,p,v,t){const w=d.aa.CG.BO(r,
p,v,t);let x=this.nx.get(w);x||(x=d.C(d.aa.CG,this,r,p,v,t),this.nx.set(w,x));x.PX();return x}lP(r){r.gZ();0===r.Rc&&(this.qj===r&&(this.qj=null),this.nx.delete(r.A0()),r.i())}aaa(r){d.D(this.pI);this.kV.clear();for(const p of r){r=p[0];const v=p[1],t=p[2];this.pI.push([v,t]);this.kV.set(r,{kwa:v,Rta:t})}}C$(r){return this.pI[r]}Su(r){this.Pv=r}fn(r){this.Zv=r;this.qj=null}Dz(r,p,v,t,w,x){var z=this.QJ;r=r+z-x;p=p+z-w;v=v+z+x;t=t+z+w;z=2*x;const E=2*w;this.Jz(r+w,p-x,0,v+w,t-x,0,v-w-z,t+x-E,0,r-w+
z,p+x+E,0,q)}Cz(r,p,v,t,w,x){const z=this.QJ;r=r+z-x;p=p+z-w;v=v+z+x;t=t+z+w;this.Jz(r+w,p-x,0,v+w,t-x,0,v-w,t+x,0,r-w,p+x,0,q)}Bz(r,p,v,t,w,x){const z=this.QJ;r+=z;p+=z;v+=z;t+=z;this.Jz(r+w,p-x,0,v+w,t-x,0,v-w,t+x,0,r-w,p+x,0,q)}U2(r,p,v,t){const w=.5*this.qfa,x=this.pfa;2===x?this.yaa(r,p,v,t,w):1===x?this.xaa(r,p,v,t,w):this.waa(r,p,v,t,w)}yaa(r,p,v,t,w){this.Dz(r,p,v,p,0,w);this.Dz(v,p,v,t,w,0);this.Dz(v,t,r,t,0,-w);this.Dz(r,t,r,p,-w,0)}xaa(r,p,v,t,w){this.Cz(r,p,v,p,0,w);this.Cz(v,p,v,t,w,
0);this.Cz(v,t,r,t,0,-w);this.Cz(r,t,r,p,-w,0)}waa(r,p,v,t,w){this.Bz(r,p,v,p,0,w);this.Bz(v,p,v,t,w,0);this.Bz(v,t,r,t,0,-w);this.Bz(r,t,r,p,-w,0)}vO(r){this.U2(r.S,r.N,r.X,r.V)}ju(){this.Ii();this.bi++}J1(){this.bi++}mG(r){this.Fs=!!r}b6(r){this.bJ=!!r}Iu(){return!1}}}
{"use strict";const d=self.A;d.aa.CG=class{constructor(a,b,e,c,f){this.ya=a;this.Rc=0;this.nb=null;this.hx="";this.xn=e;this.wb=d.C(d.jb);this.wb.set(c);this.ed=f;"string"===typeof b?this.hx=b:(this.nb=b,this.hx=this.nb.Da())}i(){if(0<this.Rc)throw Error("releasing state group still in use");this.nb=this.ya=null;this.hx=""}XX(){const a=this.ya;a.ln(this.nb);a.ag(this.xn);a.nk(this.wb);a.fn(this.ed);a.lda(this)}A0(){return d.aa.CG.BO(this.hx,this.xn,this.wb,this.ed)}PX(){++this.Rc}gZ(){--this.Rc}yl(){this.nb=
null}LF(a){this.nb=a.ON(this.hx);if(!this.nb)throw Error("failed to restore shader program");}static BO(a,b,e,c){return("string"===typeof a?a:a.Da())+","+b+","+e.cb+","+e.hb+","+e.ab+","+e.Xa+","+c}}}
{"use strict";const d=self.A,a=d.C(d.xd);function b(e,c,f){const k=f.Nb,h=f.Ob;return[k+(f.nc-k)*e+(f.ic-k)*c,h+(f.oc-h)*e+(f.jc-h)*c]}d.aa.n3=class{constructor(e){this.ZJ=e;this.vh=this.th=this.ed=this.T=this.Y=0}dj(e,c,f,k){this.Y=e;this.T=c;this.th=f;this.vh=k}K(){return this.Y}Qg(e){this.Y!==e&&(this.Y=e,this.ZJ.JH())}L(){return this.T}Rg(e){this.T!==e&&(this.T=e,this.ZJ.JH())}Ua(){return this.ed}Ve(e){this.ed!==e&&(this.ed=Math.max(e,0),this.ZJ.JH())}tG(e){this.th=e}uG(e){this.vh=e}naa(e,c,f){[this.Y,
this.T]=b(e.Y,e.T,c);this.ed=e.ed;this.th=d.rd(f.S,f.X,e.th);this.vh=d.rd(f.N,f.V,e.vh)}maa(e,c,f){[this.Y,this.T]=b(e.Y,e.T,c);this.ed=e.ed;[this.th,this.vh]=b(e.th,e.vh,f)}md(){return{x:this.K(),y:this.L(),z:this.Ua(),u:this.th,v:this.vh}}Wc(e){this.Qg(e.x);this.Rg(e.y);e.hasOwnProperty("z")&&this.Ve(e.z);this.tG(e.u);this.uG(e.v)}};d.aa.EO=class{constructor(e,c,f){if(2>e||2>c)throw Error("invalid mesh size");this.Ik=e;this.Vk=c;this.lc=f||null;this.Zn=[];this.hV=this.gV=0;this.dV=this.cV=1;this.eV=
0;this.qK=!1;f=e-1;const k=c-1;for(let h=0;h<c;++h){const l=[];for(let n=0;n<e;++n){const q=d.C(d.aa.n3,this,n,h),r=n/f,p=h/k;q.dj(r,p,r,p);l.push(q)}this.Zn.push(l)}}i(){d.D(this.Zn)}JH(){this.qK=!0}xv(){if(this.qK){var e=Infinity,c=Infinity,f=-Infinity,k=-Infinity,h=0;for(const l of this.Zn)for(const n of l){const q=n.K(),r=n.L();e=Math.min(e,q);c=Math.min(c,r);f=Math.max(f,q);k=Math.max(k,r);h=Math.max(h,n.Ua())}this.gV=e;this.hV=c;this.cV=f;this.dV=k;this.eV=h;this.qK=!1}}K0(){this.xv();return this.gV}L0(){this.xv();
return this.hV}H0(){this.xv();return this.cV}I0(){this.xv();return this.dV}J0(){this.xv();return this.eV}mr(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.Ik||0>c||c>=this.Vk?null:this.Zn[c][e]}pY(e,c,f){const k=f instanceof d.Rect;if(e.Ik!==this.Ik||e.Vk!==this.Vk)throw Error("source mesh wrong size");e=e.Zn;const h=this.Zn;for(let l=0,n=h.length;l<n;++l){const q=e[l],r=h[l];for(let p=0,v=r.length;p<v;++p){const t=q[p],w=r[p];k?w.naa(t,c,f):w.maa(t,c,f)}}}qf(e){const c=this.Zn;let f=c[0];
for(let k=1,h=c.length;k<h;++k){const l=c[k];let n=f[0],q=l[0];for(let r=1,p=l.length;r<p;++r){const v=f[r],t=l[r];a.set(n.th,n.vh,v.th,v.vh,t.th,t.vh,q.th,q.vh);e.Jz(n.K(),n.L(),n.Ua(),v.K(),v.L(),v.Ua(),t.K(),t.L(),t.Ua(),q.K(),q.L(),q.Ua(),a);n=v;q=t}f=l}}m2(e){e=e.Bd;const c=[],f=this.Ik-1,k=this.Vk-1,h=1/f,l=1/k,n=f-1,q=k-1;let r=e[0],p=e[1],v=d.ba(Math.floor(r*f),0,n),t=d.ba(Math.floor(p*k),0,q),w=0,x=0,z=0;var E=-1;const G=()=>{r=d.ba(d.rd(r,w,z),0,1);p=d.ba(d.rd(p,x,z),0,1);c.push(r,p)};for(let N=
0,C=e.length;N<C;N+=2)for(r=e[N],p=e[N+1],c.push(r,p),v=d.ba(Math.floor(r*f),0,n),t=d.ba(Math.floor(p*k),0,q),E=(N+2)%C,w=e[E],x=e[E+1],E=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const H=v*h,I=t*l,K=(v+1)*h,Q=(t+1)*l;if(0!==E&&(z=d.Xx(r,p,w,x,H,I,K,Q,-.001),0<=z&&.99999999>=z)){G();E=0;continue}if(0<t&&2!==E&&(z=d.Xx(r,p,w,x,H,I,K,I,.001),0<=z&&.99999999>=z)){G();t--;E=4;continue}if(v<n&&3!==E&&(z=d.Xx(r,p,w,x,K,I,K,Q,.001),0<=z&&.99999999>=z)){G();v++;E=1;continue}if(0<v&&1!==
E&&(z=d.Xx(r,p,w,x,H,I,H,Q,.001),0<=z&&.99999999>=z)){G();v--;E=3;continue}if(t<q&&4!==E&&(z=d.Xx(r,p,w,x,H,Q,K,Q,.001),0<=z&&.99999999>=z)){G();t++;E=2;continue}break}return d.C(d.Fo,c)}s7(e,c){e=this.$da(e);this.Rda(e);c.LD(e)}$da(e){const c=[];e=e.Bd;for(let f=0,k=e.length;f<k;f+=2){const [h,l]=this.qQ(e[f],e[f+1]);c.push(h,l)}return c}qQ(e,c){var f=this.Ik-1,k=this.Vk-1;const h=1/f,l=1/k;f=d.ba(Math.floor(e*f),0,f-1);const n=d.ba(Math.floor(c*k),0,k-1);k=f*h;const q=n*l,r=(f+1)*h,p=(n+1)*l,v=
this.mr(f,n),t=this.mr(f+1,n+1),w=d.$ga(e,c,k,q,r,q,r,p);f=this.mr(f+(w?1:0),n+(w?0:1));const [x,z,E]=d.Yha(e,c,k,q,w?k+h:k,w?q:q+l,r,p);return d.Xha(x,z,E,v.K(),v.L(),f.K(),f.L(),t.K(),t.L())}Rda(e){const c=[];let f=e[0],k=e[1],h=f-e.ne(-2),l=k-e.ne(-1);for(let q=0,r=e.length;q<r;q+=2){var n=(q+2)%r;const p=e[n];n=e[n+1];const v=p-f,t=n-k,w=1E-7>Math.abs(t)&&1E-7>Math.abs(l)&&Math.sign(v)===Math.sign(h);(!(1E-7>Math.abs(v)&&1E-7>Math.abs(h)&&Math.sign(t)===Math.sign(l)||w)&&1E-7<Math.abs(v/h-t/l)||
0==v&&0===t)&&c.push(f,k);f=p;k=n;h=v;l=t}6<=c.length&&c.length<e.length&&d.td(e,c)}md(){return{cols:this.Ik,rows:this.Vk,points:this.Zn.map(e=>e.map(c=>c.md()))}}Wc(e){const c=this.Ik,f=this.Vk;if(e.cols!==c||e.rows!==f)throw Error("mesh data wrong size");e=e.points;for(let k=0;k<f;++k){const h=e[k];for(let l=0;l<c;++l)this.mr(l,k).Wc(h[l])}}}}
{"use strict";const d=self.A,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function f(n,q){let r,p;switch(n){case "rgba8":n=q.RGBA8;p=r=q.RGBA;q=q.UNSIGNED_BYTE;break;case "rgb8":n=q.RGB8;p=r=q.RGB;q=q.UNSIGNED_BYTE;break;case "rgba4":n=q.RGBA4;p=r=q.RGBA;q=q.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=q.RGB5_A1;p=r=q.RGBA;q=q.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=q.RGB565;p=r=q.RGB;q=q.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{kM:n,Jt:r,format:p,type:q}}const k={UD:"clamp-to-edge",VD:"clamp-to-edge",Ci:"trilinear",uW:0,WL:"rgba8",DD:!0,Ux:"default",premultiplyAlpha:!0,QW:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},l=new Set;d.aa.$z=class{constructor(n){this.ya=n;this.zb=null;this.R=this.U=0;this.di=!0;this.Et=this.Dt="clamp-to-edge";this.nd="trilinear";this.eI=0;this.Wn="rgba8";this.Wl=!1;this.pq=
"default";this.Rc=0}g9(n,q){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");q=Object.assign({},k,q);if(this.zb)throw Error("already created texture");this.Dt=q.UD;this.Et=q.VD;
this.nd=q.Ci;this.eI=q.uW;this.Wn=q.WL;this.Wl=!!q.DD&&this.ya.Fs;this.pq=q.Ux;if(!c.has(this.Dt)||!c.has(this.Et))throw Error("invalid wrap mode");if(!b.has(this.nd))throw Error("invalid sampling");if(!a.has(this.Wn))throw Error("invalid pixel format");if(!e.has(this.pq))throw Error("invalid mipmap quality");this.di=!0;if(n instanceof ArrayBuffer||null===n||q.QW){if(this.U=q.width,this.R=q.height,n instanceof ArrayBuffer&&n.byteLength!==this.U*this.R*4)throw Error("ArrayBuffer wrong size");}else this.U=
n.width,this.R=n.height;if(0>=this.U||0>=this.R)throw Error("invalid texture data size");if(q.QW){var r=d.ug(this.U,this.R);r.getContext("2d").drawImage(n,0,0,this.U,this.R);n=r}var p=d.dl(this.U)&&d.dl(this.R);r=this.ya.yC;if(this.U>r||this.R>r)throw Error("texture data exceeds maximum texture size");r=this.ya.Z;var v=this.ya.Md;this.zb=r.createTexture();r.bindTexture(r.TEXTURE_2D,this.zb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);
q=f(this.Wn,r);if(this.ya.rp()||p||!this.lH())2<=v?(r.texStorage2D(r.TEXTURE_2D,this.Wl?Math.floor(Math.log2(Math.max(this.U,this.R))+1):1,q.kM,this.U,this.R),n instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.U,this.R,q.format,q.type,new Uint8Array(n)):null!==n&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,q.format,q.type,n)):n instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,q.Jt,this.U,this.R,0,q.format,q.type,new Uint8Array(n)):null===n?r.texImage2D(r.TEXTURE_2D,0,q.Jt,this.U,this.R,0,q.format,
q.type,null):r.texImage2D(r.TEXTURE_2D,0,q.Jt,q.format,q.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.U,this.R));n instanceof ImageData&&(p=d.ug(this.U,this.R),p.getContext("2d").putImageData(n,0,0),n=p);p=d.ug(d.QL(this.U),d.QL(this.R));v=p.getContext("2d");v.imageSmoothingEnabled="nearest"!==this.nd;v.drawImage(n,0,0,this.U,this.R,0,0,p.width,p.height);
r.texImage2D(r.TEXTURE_2D,0,q.Jt,q.format,q.type,p)}null!==n&&this.bT(r);r.bindTexture(r.TEXTURE_2D,null);this.ya.BH();this.Rc=1;l.add(this)}O8(n,q,r){r=Object.assign({},k,r);if(this.zb)throw Error("already created texture");this.Dt=r.UD;this.Et=r.VD;this.nd=r.Ci;this.Wn=r.WL;this.Wl=!!r.DD&&this.ya.Fs;this.pq=r.Ux;if(!c.has(this.Dt)||!c.has(this.Et))throw Error("invalid wrap mode");if(!b.has(this.nd))throw Error("invalid sampling");if(!a.has(this.Wn))throw Error("invalid pixel format");if(!e.has(this.pq))throw Error("invalid mipmap quality");
this.di=!1;this.U=Math.floor(n);this.R=Math.floor(q);n=d.dl(this.U)&&d.dl(this.R);q=this.ya.yC;if(0>=this.U||0>=this.R)throw Error("invalid texture size");if(this.U>q||this.R>q)throw Error("texture exceeds maximum texture size");if(!this.ya.rp()&&this.lH()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.ya.Z;q=this.ya.Md;this.zb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.zb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);r=f(this.Wn,n);n.texImage2D(n.TEXTURE_2D,0,2<=q?r.kM:r.Jt,this.U,this.R,0,r.format,r.type,null);this.bT(n);n.bindTexture(n.TEXTURE_2D,null);this.ya.BH();this.Rc=1;l.add(this)}jH(n){if("default"===this.pq)return this.di?n.NICEST:n.FASTEST;if("low"===this.pq)return n.FASTEST;if("high"===this.pq)return n.NICEST;throw Error("invalid mipmap quality");}lH(){return"clamp-to-edge"!==this.Dt||"clamp-to-edge"!==this.Et}MR(n,q){if("clamp-to-edge"===q)return n.CLAMP_TO_EDGE;if("repeat"===q)return n.REPEAT;
if("mirror-repeat"===q)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}bT(n){var q=d.dl(this.U)&&d.dl(this.R);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.MR(n,this.Dt));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.MR(n,this.Et));"nearest"===this.nd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.Wl=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(q||this.ya.rp())&&this.Wl?(n.hint(n.GENERATE_MIPMAP_HINT,
this.jH(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.nd||this.ya.bJ?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.Wl=!1));(q=this.ya.Lv)&&0<this.eI&&"nearest"!==this.nd&&n.texParameterf(n.TEXTURE_2D,q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.eI,this.ya.XJ))}nT(n,q){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.zb||0>=this.Rc)throw Error("texture not created");if(this.di)throw Error("cannot update static texture");q=Object.assign({},h,q);const r=n.width||n.videoWidth,p=n.height||n.videoHeight;var v=this.ya.Md;
const t=this.ya.Z;t.bindTexture(t.TEXTURE_2D,this.zb);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!q.flipY);q=f(this.Wn,t);v=2<=v?q.kM:q.Jt;try{if(this.U===r&&this.R===p){const w=d.dl(this.U)&&d.dl(this.R);t.texSubImage2D(t.TEXTURE_2D,0,0,0,q.format,q.type,n);(w||this.ya.rp())&&this.Wl&&(t.hint(t.GENERATE_MIPMAP_HINT,this.jH(t)),t.generateMipmap(t.TEXTURE_2D))}else{this.U=r;this.R=p;const w=d.dl(this.U)&&d.dl(this.R);if(!this.ya.rp()&&this.lH()&&
!w)throw Error("non-power-of-two tiled textures not supported");t.texImage2D(t.TEXTURE_2D,0,v,q.format,q.type,n);(w||this.ya.rp())&&this.Wl&&(t.hint(t.GENERATE_MIPMAP_HINT,this.jH(t)),t.generateMipmap(t.TEXTURE_2D))}}catch(w){console.error("Error updating WebGL texture: ",w)}t.bindTexture(t.TEXTURE_2D,null);this.ya.BH()}ZG(){if(0<this.Rc)throw Error("texture still has references");if(!this.zb)throw Error("already deleted texture");l.delete(this);this.ya.Z.deleteTexture(this.zb);this.zb=null}Cb(){return this.ya}m7(){if(0>=
this.Rc)throw Error("no more references");this.Rc--}P(){return this.U}O(){return this.R}KE(){let n=this.U*this.R;switch(this.Wn){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.Wl&&(n+=Math.floor(n/3));return n}static yl(){l.clear()}static aga(){return l.values()}}}
{"use strict";const d=self.A,a=self.cl.wo,b=new Set(["nearest","bilinear","trilinear"]),e={Ci:"trilinear",alpha:!0,depth:!1,JL:!0,OW:!0,nha:0},c=new Set;d.aa.IG=class{constructor(f){this.ya=f;this.km=this.zb=this.xj=null;this.R=this.U=0;this.vw=!0;this.nd="trilinear";this.qs=!0;this.cf=!1;this.zw=!0;this.dm=0;this.vq=a.create()}L8(f,k,h){h=Object.assign({},e,h);const l=this.ya.Md;if(this.zb||this.km)throw Error("already created render target");this.nd=h.Ci;this.qs=!!h.alpha;this.cf=!!h.depth;this.zw=
!!h.JL;this.vw=!!h.OW;this.dm=h.nha;if(!b.has(this.nd))throw Error("invalid sampling");if(0<this.dm&&(2>l||this.zw))throw Error("invalid use of multisampling");2>l&&(this.zw=!0);this.U=f;this.R=k;if(0>=this.U||0>=this.R)throw Error("invalid render target size");this.KQ();f=this.ya.Z;this.xj=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.xj);this.zw?(this.zb=this.ya.QM(this.U,this.R,{Ci:this.nd,WL:this.qs?"rgba8":"rgb8",DD:!1}),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,
this.zb.zb,0)):(this.km=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.km),k=this.qs?f.RGBA8:f.RGB8,0<this.dm&&((h=f.getInternalformatParameter(f.RENDERBUFFER,k,f.SAMPLES))&&h[0]?(h=h[0],this.dm>h&&(this.dm=h)):this.dm=0),0===this.dm?f.renderbufferStorage(f.RENDERBUFFER,k,this.U,this.R):f.renderbufferStorageMultisample(f.RENDERBUFFER,this.dm,k,this.U,this.R),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,this.km),f.bindRenderbuffer(f.RENDERBUFFER,null));
k=this.ya.Qp;this.cf&&k&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,k);f.bindFramebuffer(f.FRAMEBUFFER,null);c.add(this)}CS(f,k){if(this.U!==f||this.R!==k)this.U=f,this.R=k,this.KQ(),f=this.ya.Z,f.bindFramebuffer(f.FRAMEBUFFER,this.xj),this.zb?this.zb.nT(new ImageData(this.U,this.R)):(f.bindRenderbuffer(f.RENDERBUFFER,this.km),f.renderbufferStorage(f.RENDERBUFFER,this.qs?f.RGBA8:f.RGB8,this.U,this.R),f.bindRenderbuffer(f.RENDERBUFFER,null)),k=this.ya.Qp,this.cf&&
k&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,k),f.bindFramebuffer(f.FRAMEBUFFER,null)}ZG(){if(!this.zb&&!this.km)throw Error("already deleted render target");c.delete(this);const f=this.ya.Z;f.bindFramebuffer(f.FRAMEBUFFER,this.xj);this.zb?(f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,null,0),this.ya.Uj(this.zb),this.zb=null):this.km&&(f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,null),f.deleteRenderbuffer(this.km),
this.km=null);f.bindFramebuffer(f.FRAMEBUFFER,null);2<=this.ya.Md&&(f.bindFramebuffer(f.READ_FRAMEBUFFER,null),f.bindFramebuffer(f.DRAW_FRAMEBUFFER,null));f.deleteFramebuffer(this.xj);this.xj=this.ya.Dc.ro=null}KQ(){this.ya.au(this.vq,this.U/this.R)}Cb(){return this.ya}se(){return this.zb}AF(){return"nearest"!==this.nd}P(){return this.U}O(){return this.R}t2(f){f=Object.assign({},e,f);return"nearest"!==f.Ci!==this.AF()||!!f.alpha!==this.qs||!!f.depth!==this.cf||2<=this.ya.Md&&!!f.JL!==this.zw?!1:"number"===
typeof f.width||"number"===typeof f.height?!this.vw&&this.P()===f.width&&this.O()===f.height:this.vw}KE(){return this.zb?this.zb.KE():this.U*this.R*(this.qs?4:3)}static async $Y(f,k){f=await f.S4(k);return await d.G1(f)}static yl(){c.clear()}}}
{"use strict";const d=self.A;d.aa.kv=class{static async KY(a,b,e,c){const f=a.Z,k=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(k,b);f.compileShader(k);b=f.createShader(f.VERTEX_SHADER);f.shaderSource(b,e);f.compileShader(b);const h=f.createProgram();f.attachShader(h,k);f.attachShader(h,b);f.bindAttribLocation(h,0,"aPos");f.bindAttribLocation(h,1,"aTex");f.bindAttribLocation(h,2,"aPoints");f.linkProgram(h);const l=a.nK;l?await a.pea(()=>f.getProgramParameter(h,l.COMPLETION_STATUS_KHR)):await d.HG(5);
if(!f.getShaderParameter(k,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(k),f.deleteShader(k),f.deleteShader(b),f.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!f.getShaderParameter(b,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(b),f.deleteShader(k),f.deleteShader(b),f.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!f.getProgramParameter(h,f.LINK_STATUS))throw c=f.getProgramInfoLog(h),f.deleteShader(k),f.deleteShader(b),f.deleteProgram(h),Error("Error linking shader program: "+
c);(a=d.D_(f.getProgramInfoLog(h)||"").trim())&&!d.zz(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);f.deleteShader(k);f.deleteShader(b);return h}static async Ta(a,b,e,c){e=await d.aa.kv.KY(a,b.src,e,c);return new d.aa.kv(a,e,b,c)}constructor(a,b,e,c){const f=a.Z;var k=a.Dc;a.Ii();f.useProgram(b);this.Z=f;this.ya=a;this.Ia=c;this.nb=b;this.SB="<default-device-transform>"===c;c=f.getAttribLocation(b,"aPos");const h=f.getAttribLocation(b,"aTex");this.TJ=f.getAttribLocation(b,
"aPoints");-1!==c&&(f.bindBuffer(f.ARRAY_BUFFER,a.oD),f.vertexAttribPointer(c,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(c));-1!==h&&(f.bindBuffer(f.ARRAY_BUFFER,a.bD),f.vertexAttribPointer(h,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(h));-1!==this.TJ&&(f.bindBuffer(f.ARRAY_BUFFER,a.HC),f.vertexAttribPointer(this.TJ,4,f.FLOAT,!1,0,0),f.enableVertexAttribArray(this.TJ));f.bindBuffer(f.ARRAY_BUFFER,null);this.$K=new d.aa.Cc(this,"matP","mat4");this.ZK=new d.aa.Cc(this,"matMV","mat4");this.Pq=new d.aa.Cc(this,
"color","vec4");this.Tfa=new d.aa.Cc(this,"samplerFront","sampler");this.cL=new d.aa.Cc(this,"pointTexStart","vec2");this.bL=new d.aa.Cc(this,"pointTexEnd","vec2");this.fL=new d.aa.Cc(this,"zElevation","float");this.dL=new d.aa.Cc(this,"tileSize","vec2");this.eL=new d.aa.Cc(this,"tileSpacing","vec2");this.YK=new d.aa.Cc(this,"color2_","vec4");this.aL=new d.aa.Cc(this,"outlineThickness","float");this.Bt=new d.aa.Cc(this,"samplerBack","sampler");this.vm=new d.aa.Cc(this,"destStart","vec2");this.um=
new d.aa.Cc(this,"destEnd","vec2");this.Oj=new d.aa.Cc(this,"srcStart","vec2");this.wm=new d.aa.Cc(this,"srcEnd","vec2");this.ym=new d.aa.Cc(this,"srcOriginStart","vec2");this.xm=new d.aa.Cc(this,"srcOriginEnd","vec2");this.uh=new d.aa.Cc(this,"pixelSize","vec2");this.mo=new d.aa.Cc(this,"seconds","float");this.jo=new d.aa.Cc(this,"layerScale","float");this.io=new d.aa.Cc(this,"layerAngle","float");this.lo=new d.aa.Cc(this,"layoutStart","vec2");this.ko=new d.aa.Cc(this,"layoutEnd","vec2");this.nU=
!!(this.uh.ea||this.mo.ea||this.Bt.ea||this.vm.ea||this.um.ea||this.Oj.ea||this.wm.ea||this.ym.ea||this.xm.ea||this.jo.ea||this.io.ea||this.lo.ea||this.ko.ea);this.XT=e.Wta||0;this.YT=e.Xta||0;this.zI=!!e.Lta;this.vfa=!!e.lva;this.it=!!e.zva;this.OA=!!e.yta;a=e.parameters||[];this.Qq=[];this.Cx=this.vm.ea||this.um.ea;this.Wfa=this.uh.ea||this.Oj.ea||this.wm.ea||this.ym.ea||this.xm.ea;this.xfa=this.zI||this.Cx||0!==this.XT||0!==this.YT;this.ZI=this.$I=!1;this.Pq.eO();this.YK.eO();this.Tfa.dO(0);this.Bt.dO(1);
this.cL.Eg(0,0);this.bL.Eg(1,1);this.fL.ur(0);this.dL.Eg(0,0);this.eL.Eg(0,0);this.vm.Eg(0,0);this.um.Eg(1,1);this.Oj.Eg(0,0);this.wm.Eg(0,0);this.ym.Eg(0,0);this.xm.Eg(0,0);this.uh.Eg(0,0);this.jo.ur(1);this.io.ur(0);this.mo.ur(0);this.lo.Eg(0,0);this.ko.Eg(0,0);this.aL.ur(1);for(const l of a)a=l[2],b=new d.aa.Cc(this,l[0],a),"color"===a?b.K1():b.ur(0),this.Qq.push(b);this.SB?this.sT(k.Jx):(this.Xz(k.Jx,!0),this.Wz(k.vD,!0));k=k.wi;f.useProgram(k?k.nb:null)}i(){this.Z.deleteProgram(this.nb);this.nb=
null;this.ya.rca(this);this.ya=this.Z=null}Da(){return this.Ia}$m(){return this.vfa}$y(a){return this.Qq[a].fk()}ZX(a){for(let b=0,e=a.length;b<e;++b)if(!this.Qq[b].H2(a[b]))return!1;return!0}K5(a){for(let b=0,e=a.length;b<e;++b)this.Qq[b].E5(a[b])}$X(a,b,e,c,f,k,h,l,n){return this.Bt.ea||this.uh.ea&&!this.uh.ul(f,k)||this.vm.ea&&!this.vm.ul(a.S,a.N)||this.um.ea&&!this.um.ul(a.X,a.V)||this.jo.ea&&!this.jo.EF(h)||this.io.ea&&!this.io.EF(l)||this.Oj.ea&&!this.Oj.ul(b.S,b.N)||this.wm.ea&&!this.wm.ul(b.X,
b.V)||this.ym.ea&&!this.ym.ul(e.S,e.N)||this.xm.ea&&!this.xm.ul(e.X,e.V)||this.lo.ea&&!this.lo.ul(c.S,c.N)||this.ko.ea&&!this.ko.ul(c.N,c.V)||this.mo.ea&&!this.mo.EF(n)?!1:!0}o6(a,b,e,c,f,k,h,l,n){this.Bt.ea||(this.uh.ea&&this.uh.Bl(f,k),this.vm.ea&&this.vm.Bl(a.S,a.N),this.um.ea&&this.um.Bl(a.X,a.V),this.jo.ea&&this.jo.gG(h),this.io.ea&&this.io.gG(l),this.Oj.ea&&this.Oj.Bl(b.S,b.N),this.wm.ea&&this.wm.Bl(b.X,b.V),this.ym.ea&&this.ym.Bl(e.S,e.N),this.xm.ea&&this.xm.Bl(e.X,e.V),this.lo.ea&&this.lo.Bl(c.S,
c.N),this.ko.ea&&this.ko.Bl(c.N,c.V),this.mo.ea&&this.mo.gG(n))}Xz(a,b){this.$I&&!b||this.SB||(this.$K.ea&&this.$K.Yz(a),this.$I=!0)}m6(){this.$I=!1}Wz(a,b){this.ZI&&!b||this.SB||(this.ZK.ea&&this.ZK.Yz(a),this.ZI=!0)}l6(){this.ZI=!1}sT(a){if(!this.SB)throw Error("not device transform shader");this.$K.Yz(a);a=this.ya;const b=a.P()/2,e=a.O()/2;a=a.$t(b,e,100*self.devicePixelRatio,b,e);this.ZK.Yz(a)}A7(a){this.Pq.ea&&this.Pq.Vz(a[0],a[1],a[2],a[3])}static Ry(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.A,a=self.cl.wo,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.aa.Cc=class{constructor(e,c,f){if(!b.has(f))throw Error("invalid uniform type");this.lc=e;this.Z=this.lc.Z;this.Ia=c;this.Ba=f;this.pJ="color"===this.Ba;this.gi=this.Z.getUniformLocation(this.lc.nb,c);this.ea=!!this.gi;e=b.get(f);this.kb=new Float32Array(e);this.Fj=new Float32Array(e)}i(){this.gi=this.Z=this.lc=null}fk(){return this.Ba}ur(e){this.ea&&
(this.kb[0]=e,this.Fj.set(this.kb),this.Z.uniform1f(this.gi,e))}dO(e){this.ea&&(this.kb[0]=e,this.Fj.set(this.kb),this.Z.uniform1i(this.gi,e))}Eg(e,c){this.ea&&(this.kb[0]=e,this.kb[1]=c,this.Fj.set(this.kb),this.Z.uniform2f(this.gi,e,c))}K1(){this.ea&&(this.kb[0]=0,this.kb[1]=0,this.kb[2]=0,this.Fj.set(this.kb),this.Z.uniform3f(this.gi,0,0,0))}eO(){this.ea&&(this.kb[0]=1,this.kb[1]=1,this.kb[2]=1,this.kb[3]=1,this.Fj.set(this.kb),this.Z.uniform4f(this.gi,1,1,1,1))}Zr(e){e=Math.fround(e);const c=
this.kb;c[0]!==e&&(c[0]=e,this.Z.uniform1f(this.gi,e))}We(e,c){e=Math.fround(e);c=Math.fround(c);const f=this.kb;if(f[0]!==e||f[1]!==c)f[0]=e,f[1]=c,this.Z.uniform2f(this.gi,e,c)}y7(e,c,f){e=Math.fround(e);c=Math.fround(c);f=Math.fround(f);const k=this.kb;if(k[0]!==e||k[1]!==c||k[2]!==f)k[0]=e,k[1]=c,k[2]=f,this.Z.uniform3f(this.gi,e,c,f)}Vz(e,c,f,k){e=Math.fround(e);c=Math.fround(c);f=Math.fround(f);k=Math.fround(k);const h=this.kb;if(h[0]!==e||h[1]!==c||h[2]!==f||h[3]!==k)h[0]=e,h[1]=c,h[2]=f,h[3]=
k,this.Z.uniform4f(this.gi,e,c,f,k)}Yz(e){const c=this.kb;a.Rj(c,e)||(d.Zha(c,e),this.Z.uniformMatrix4fv(this.gi,!1,e))}H2(e){const c=this.Fj;return this.pJ?c[0]===Math.fround(e.cb)&&c[1]===Math.fround(e.hb)&&c[2]===Math.fround(e.ab):c[0]===Math.fround(e)}E5(e){const c=this.Fj;this.pJ?(c[0]=e.cb,c[1]=e.hb,c[2]=e.ab):c[0]=e}EF(e){return this.Fj[0]===Math.fround(e)}ul(e,c){const f=this.Fj;return f[0]===Math.fround(e)&&f[1]===Math.fround(c)}gG(e){this.Fj[0]=e}Bl(e,c){const f=this.Fj;f[0]=e;f[1]=c}}}
{"use strict";const d=self.A,a=self.cl,b=a.ey,e=a.wo;d.aa.eY=class{constructor(c){this.pf=c;this.vD=e.create();this.Jx=e.create();this.ro=null;this.uD=b.Qf(1,1,1,1);this.wi=null;this.YL=new d.Rect;this.clearColor=d.C(d.jb,0,0,0,0)}};d.aa.M7=class{constructor(c){const f=new ArrayBuffer(96);this.Ba=0;this.Dc=c;this.Z=c.pf.Z;this.Zp=this.ph=0;this.hf=null;this.Ee=new Float32Array(f,0,16);this.Mp=new Float32Array(f,64,4);this.XV=new Float32Array(f,80,4);this.PC=[]}Z1(c){this.Ba=1;this.ph=c;this.Zp=6}xZ(){const c=
this.Z;c.drawElements(c.TRIANGLES,this.Zp,c.UNSIGNED_SHORT,this.ph)}h2(c){this.Ba=2;this.hf=c}JZ(){const c=this.Z,f=this.hf;c.bindTexture(c.TEXTURE_2D,f?f.zb:null)}oF(c){this.Ba=3;c.zh(this.Mp,0)}zZ(){const c=this.Mp,f=this.Dc;b.wa(f.uD,c);f.wi.A7(c)}CZ(){const c=this.Mp,f=this.Dc.wi;f.YK.ea&&f.YK.Vz(c[0],c[1],c[2],c[3])}a2(c,f){this.Ba=4;this.ph=c;this.Zp=f}yZ(){this.Z.blendFunc(this.ph,this.Zp)}i2(c,f){this.Ba=5;const k=this.Mp;k[0]=0;k[1]=0;k[2]=c;k[3]=f}LZ(){const c=this.Mp;this.Z.viewport(c[0],
c[1],c[2],c[3])}f2(c){this.Ba=6;e.wa(this.Ee,c)}HZ(){const c=this.Dc,f=c.pf.Ep,k=c.wi,h=this.Ee;for(let l=0,n=f.length;l<n;++l){const q=f[l];q===k?q.Xz(h,!0):q.m6()}e.wa(c.Jx,h)}c2(c){this.Ba=7;e.wa(this.Ee,c)}DZ(){const c=this.Dc,f=c.pf.Ep,k=c.wi,h=this.Ee;for(let l=0,n=f.length;l<n;++l){const q=f[l];q===k?q.Wz(h,!0):q.l6()}e.wa(c.vD,h)}g2(c){this.Ba=8;this.hf=c}IZ(){const c=this.Z;var f=this.hf;const k=this.Dc;f?(f=f.xj,k.ro=f,c.bindFramebuffer(c.FRAMEBUFFER,f)):(k.ro=null,c.bindFramebuffer(c.FRAMEBUFFER,
null))}P1(c){this.Ba=9;c.zh(this.Ee,0)}Q1(){this.Ba=9;const c=this.Ee;c[0]=0;c[1]=0;c[2]=0;c[3]=0}qZ(){const c=this.Z;var f=this.Ee,k=this.Dc;const h=k.clearColor;(k=k.pf.hq&&d.Lt)&&c.disable(c.SCISSOR_TEST);const l=f[0],n=f[1],q=f[2];f=f[3];h.Mx(l,n,q,f)||(c.clearColor(l,n,q,f),h.Bo(l,n,q,f));c.clear(c.COLOR_BUFFER_BIT);k&&c.enable(c.SCISSOR_TEST)}O1(c,f,k,h){this.Ba=10;const l=this.Ee;l[0]=c;l[1]=f;l[2]=k;l[3]=h;l[4]=0;l[5]=0;l[6]=0;l[7]=0}pZ(){const c=this.Z;var f=this.Ee,k=this.Dc;const h=k.pf;
k=k.clearColor;h.hq||c.enable(c.SCISSOR_TEST);c.scissor(f[0],f[1],f[2],f[3]);const l=f[4],n=f[5],q=f[6];f=f[7];k.Mx(l,n,q,f)||(c.clearColor(l,n,q,f),k.Bo(l,n,q,f));c.clear(c.COLOR_BUFFER_BIT);h.hq?c.scissor(0,0,h.Gx,h.Fx):c.disable(c.SCISSOR_TEST)}EZ(){const c=this.Ee;this.Dc.YL.set(c[0],c[1],c[2],c[3])}wZ(){const c=this.Z,f=this.Dc,k=f.pf.VC;c.useProgram(k.nb);k.Xz(f.Jx,!1);k.Wz(f.vD,!1);var h=f.YL;k.cL.ea&&k.cL.We(h.S,h.N);k.bL.ea&&k.bL.We(h.X,h.V);h=this.Ee[0];k.fL.ea&&k.fL.Zr(h);k.Pq.ea&&(h=f.uD,
k.Pq.Vz(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.ph/4,this.Zp);c.useProgram(f.wi.nb)}d2(c){this.Ba=12;this.hf=c}FZ(){var c=this.Z;const f=this.Dc,k=this.hf;f.wi=k;c.useProgram(k.nb);k.Xz(f.Jx,!1);k.Wz(f.vD,!1);k.Pq.ea&&(c=f.uD,k.Pq.Vz(c[0],c[1],c[2],c[3]))}e2(){this.Ba=13}GZ(){const c=this.Dc.wi;c.nU&&this.N9(c);c.Qq.length&&this.O9(c)}N9(c){const f=this.Z,k=this.Ee,h=this.Mp,l=this.XV;if(c.Bt.ea){const n=this.Dc.pf,q=this.hf;n.Nn!==q&&(f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,
q?q.zb:null),n.Nn=q,f.activeTexture(f.TEXTURE0))}c.uh.ea&&c.uh.We(k[0],k[1]);c.vm.ea&&c.vm.We(k[2],k[3]);c.um.ea&&c.um.We(k[4],k[5]);c.jo.ea&&c.jo.Zr(k[6]);c.io.ea&&c.io.Zr(k[7]);c.Oj.ea&&c.Oj.We(k[12],k[13]);c.wm.ea&&c.wm.We(k[14],k[15]);c.ym.ea&&c.ym.We(l[0],l[1]);c.xm.ea&&c.xm.We(l[2],l[3]);c.lo.ea&&c.lo.We(h[0],h[1]);c.ko.ea&&c.ko.We(h[2],h[3]);c.mo.ea&&c.mo.Zr(this.ph)}O9(c){c=c.Qq;const f=this.PC;for(let k=0,h=c.length;k<h;++k){const l=c[k],n=f[k];l.pJ?l.y7(n.cb,n.hb,n.ab):l.Zr(n)}}V1(c){this.Ba=
14;this.hf=c}vZ(){const c=this.Z,f=this.hf,k=this.Dc.ro;f!==k&&c.bindFramebuffer(c.FRAMEBUFFER,f);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);f!==k&&c.bindFramebuffer(c.FRAMEBUFFER,k)}L1(c,f){this.Ba=17;var k=this.Ee;const h=this.Dc.pf;k[0]=c.P();k[1]=c.O();k[2]=f?f.P():h.P();k[3]=f?f.O():h.O();k[4]=c.AF()?1:0;k[5]=!0;k=this.PC;d.D(k);k.push(c.xj);k.push(f?f.xj:null)}nZ(){var c=this.Ee,f=this.PC;const k=this.Z;var h=c[0],l=c[1],n=c[2];const q=c[3],r=0!==c[4];c=0!==c[5];const p=f[1];
k.bindFramebuffer(k.READ_FRAMEBUFFER,f[0]);k.bindFramebuffer(k.DRAW_FRAMEBUFFER,p);c?k.blitFramebuffer(0,0,h,l,0,0,n,q,k.COLOR_BUFFER_BIT,r?k.LINEAR:k.NEAREST):(f=Math.min(h,n),h=Math.min(l,q),n=Math.max(l-q,0),l=Math.max(q-l,0),k.blitFramebuffer(0,n,f,h+n,0,l,f,h+l,k.COLOR_BUFFER_BIT,k.NEAREST))}k2(c){this.Ba=18;this.hf=c}MZ(){this.hf.eE();this.hf=null}U1(c){this.Ba=19;this.hf=c}uZ(){this.hf.xE();this.hf=null}BZ(){const c=this.Dc.wi,f=this.Ee;c.uh.ea&&c.uh.We(f[0],f[1]);c.aL.ea&&c.aL.Zr(f[2])}KZ(){const c=
this.Dc.wi,f=this.Ee;c.Oj.ea&&c.Oj.We(f[0],f[1]);c.uh.ea&&c.uh.We(f[4],f[5]);c.dL.ea&&c.dL.We(f[6],f[7]);c.eL.ea&&c.eL.We(f[8],f[9])}N1(){this.Ba=22}oZ(){const c=this.Z;c.clear(c.DEPTH_BUFFER_BIT)}b2(c){this.Ba=23;this.ph=c?1:0}AZ(){const c=this.Z;0===this.ph?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}T1(){this.Ba=24}tZ(){const c=this.Z;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,
!1,!1,!1)}S1(){this.Ba=25}sZ(){const c=this.Z;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}R1(){this.Ba=26}rZ(){const c=this.Z;c.disable(c.STENCIL_TEST)}ta(){switch(this.Ba){case 1:this.xZ();break;case 2:this.JZ();break;case 3:this.zZ();break;case 4:this.yZ();break;case 5:this.LZ();break;case 6:this.HZ();break;case 7:this.DZ();break;case 8:this.IZ();break;case 9:this.qZ();break;case 10:this.pZ();break;case 11:this.wZ();break;case 12:this.FZ();break;case 13:this.GZ();
break;case 14:this.vZ();break;case 15:this.EZ();break;case 16:this.KZ();break;case 17:this.nZ();break;case 18:this.MZ();break;case 19:this.uZ();break;case 20:this.BZ();break;case 21:this.CZ();break;case 22:this.oZ();break;case 23:this.AZ();break;case 24:this.tZ();break;case 25:this.sZ();break;case 26:this.rZ()}}}}
{"use strict";const d=self.A,a={timeout:60},b=new d.jb(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),f=new Set(["word","character"]),k=new Set;d.G_&&d.G_.addEventListener("fontload",q=>{q=q.font.Da();for(const r of k)(r.Be||d.xh(r.yB,q))&&r.Ap()});function h(q,r,p,v,t,w){r?"Gecko"===d.Xc.ky?q.strokeText(p,v,t,w):q.strokeText(p,v,t):"Gecko"===d.Xc.ky?q.fillText(p,v,t,w):q.fillText(p,v,t)}let l=!1,n=!1;d.aa.mP=class{constructor(q,r){r=Object.assign({},a,r);this.ya=
q;this.yB="Arial";this.zB=16;this.bU=1;this.xc=0;this.kfa=this.ffa=!1;this.cB="black";this.Be=!1;this.SL=null;this.dI=new Set;this.fe="left";this.Wd="top";this.dc="";this.ij=null;this.nf=d.C(d.lv);this.Rq="word";this.CJ=this.cD=!1;this.rw=!0;this.ah=-1;this.R=this.U=this.Ql=this.$e=this.$g=0;this.vi=1;this.wI=!1;this.Pw=this.cm=this.le=this.Jq=null;this.PU=this.QU=-1;this.mC=this.SU=this.IJ="";this.JJ=this.KJ=1;this.Qw=(p,v)=>this.Av(p,v);this.zb=null;this.qx=this.tx=0;this.ng=new d.Rect;this.cx=
1;this.eK=!1;this.TK=new d.F1(()=>{this.Jh();this.aT(8,8)},r.timeout);this.TL=null;this.Hx=!1;k.add(this)}i(){this.SL=null;this.dI.clear();this.Qw=this.Pw=this.cm=this.le=this.Jq=this.ij=null;this.TK.i();this.TL=null;this.Jh();this.nf.Hc();this.ya=this.nf=null;this.Hx=!0;k.delete(this)}zp(){this.wI=!0}Ap(){this.zp();this.nf.Hc();this.cD=!0}h6(){this.rw=!1}Fg(){return this.rw}FP(q){q=!!q;this.Be!==q&&(q=(this.Be=q)?"alphabetic":"top",this.le&&(this.le.textBaseline=q),this.cm&&(this.cm.textBaseline=
q),this.Ap())}V5(){"Arial"!==this.yB&&(this.yB="Arial",this.Ap())}W5(){var q=16;.1>q&&(q=.1);this.zB!==q&&(this.zB=q,this.Ap())}Tz(q){this.xc!==q&&(this.xc=q,this.zp())}Qz(q){q=Math.floor(q);this.ah!==q&&(this.ah=q,this.zp())}Mc(q,r){for(let p=q.length-1;0<=p;--p){const v=q[p];if(v.tag===r)return v}return null}pn(q,r){return!!this.Mc(q,r)}AR(q,r){let p=[];(this.ffa||this.pn(r,"b"))&&p.push("bold");(this.kfa||this.pn(r,"i"))&&p.push("italic");var v=this.Mc(r,"size");v=(v?parseFloat(v.gd):this.zB)*
this.bU;q?p.push(v+"pt"):p.push(v*this.cx*this.vi*self.devicePixelRatio+"pt");q=this.yB;(r=this.Mc(r,"font"))&&r.gd&&(q=r.gd,this.SL&&!this.dI.has(q)&&(this.SL(q),this.dI.add(q)));q&&p.push('"'+q+'"');return p.join(" ")}nk(q){q instanceof d.jb&&(q=q.Jga());this.cB!==q&&(this.cB=q,this.zp())}GP(q,r,p){b.MD(q,r,p);this.nk(b)}d6(){if(!e.has("center"))throw Error("invalid horizontal alignment");"center"!==this.fe&&(this.fe="center",this.zp())}S6(){if(!c.has("center"))throw Error("invalid vertical alignment");
"center"!==this.Wd&&(this.Wd="center",this.zp())}hQ(q){if(!f.has(q))throw Error("invalid word wrap mode");this.Rq!==q&&(this.Rq=q,this.Ap())}Vr(q){this.dc!==q&&(this.dc=q,this.Ap())}Bc(q,r,p){"undefined"===typeof p&&(p=1);if(!(0>=q||0>=q||this.$e===q&&this.Ql===r&&this.vi===p)){1===this.vi!==(1===p)&&(this.eK=!0);var v=this.$e,t=this.vi;this.$e=q;this.Ql=r;this.vi=p;q=self.devicePixelRatio;this.U=this.$e*this.vi*q;this.R=this.Ql*this.vi*q;q=Math.max(this.U,this.R);r=Math.min(this.ya.yC,2048);p=1;
q>r&&(p=r/q,this.U=Math.min(this.U*p,r),this.R=Math.min(this.R*p,r));this.cx=p;0<this.tx&&0<this.qx&&this.vi===t&&this.ng.set(0,0,this.U/this.tx,this.R/this.qx);this.$e!==v?this.Ap():this.zp()}}P(){return this.U}O(){return this.R}UN(){this.wp();return this.nf.yN()}TN(){this.wp();return this.nf.W0()+this.nf.Ok.length*(this.xc+4)-this.xc}se(){this.TK.Gd();this.cba();return this.zb}cba(){this.zb&&!this.wI&&!this.cD||this.CJ||0>=this.U||0>=this.R||(this.wI=!1,this.CJ=!0,this.rw?d.el(()=>this.eR()):this.eR())}eR(){this.Hx||
(this.aT(Math.ceil(this.U),Math.ceil(this.R)),this.wp(),this.i$(),this.kea(),this.TK.Gd(),this.CJ=!1)}aT(q,r){this.Jq||(this.Jq=d.ug(16,16));let p=!1;if(this.QU!==q||this.PU!==r)this.QU=q,this.PU=r,this.Jq.width=q,this.Jq.height=r,p=!0;this.le||(this.le=this.Jq.getContext("2d"),p=!0);p?(this.le.textBaseline=this.Be?"alphabetic":"top",this.le.font=this.IJ,this.le.fillStyle=this.mC,this.le.strokeStyle=this.mC,this.le.globalAlpha=this.KJ,this.le.lineWidth=this.JJ):this.le.clearRect(0,0,q,r)}hS(){this.cm||
(this.cm=d.ug(16,16).getContext("2d"),this.Pw=d.ug(16,16).getContext("2d"),this.cm.textBaseline=this.Be?"alphabetic":"top",this.Pw.textBaseline="top")}Ada(q){this.SU!==q&&(this.SU=q,this.cm.font=q,this.Pw.font=q)}kT(){if(!l){l=!0;this.hS();const q=this.cm.measureText("test");n="number"===typeof q.fontBoundingBoxAscent&&"number"===typeof q.fontBoundingBoxDescent}return n}wp(){this.cD&&(this.hS(),!this.Be||this.ij&&this.ij.toString()===this.dc||(this.ij=new d.fl(this.dc,{VW:!0})),this.nf.lv(this.Be?
this.ij.mX():this.dc,this.Qw,this.$e,this.Rq,0),this.cD=!1)}Av(q,r){this.Ada(this.AR(!0,r));r=this.Mc(r,"size");r=(r?parseFloat(r.gd):this.zB)*this.bU;const p=this.cm.measureText(q);let v=0;this.Be&&this.kT()&&(v=p.fontBoundingBoxAscent-this.Pw.measureText(q).fontBoundingBoxAscent);return{width:p.width,height:4/3*r,rg:p.fontBoundingBoxAscent||0,Pf:p.fontBoundingBoxDescent||0,Rf:v}}oda(q){this.IJ!==q&&(this.IJ=q,this.le.font=q)}BA(q){this.mC!==q&&(this.mC=q,this.le.fillStyle=q,this.le.strokeStyle=
q)}nda(q){this.KJ!==q&&(this.KJ=q,this.le.globalAlpha=q)}SS(q){this.JJ!==q&&(this.JJ=q,this.le.lineWidth=q)}i$(){this.$g=0;const q=this.cx*this.vi*self.devicePixelRatio,r=(4+this.xc)*q;var p=0;const v=this.nf.Ok;if(0!==v.length){var t=this.Be&&this.kT(),w=v[0].height*q;"center"===this.Wd?(p=v.reduce((x,z)=>x+z.height*q+r,0)-r,p=Math.max(this.R/2-p/2,0),t&&(w=v[0].Rf*q)):"bottom"===this.Wd&&(p=v.reduce((x,z)=>x+z.height*q+r,0)-this.xc*q,p=this.R-p-(t?v.ne(-1).Pf*q:0)-2);for(let x=0,z=v.length;x<z;++x){t=
v[x];const E=t.height*q,G=p;if(this.Be){if(p+=0===x?w:E,0<x&&p>this.R-4*q)break}else if(0<x&&p>=this.R-E)break;0<=G&&this.h$(t,p,q);this.Be||(p+=E);p+=r}}}h$(q,r,p){let v=0;"center"===this.fe?v=(this.U-q.width*p)/2:"right"===this.fe&&(v=this.U-q.width*p);for(const t of q.zL)this.g$(t,v,r,p,q.height),v+=t.width*p}g$(q,r,p,v,t){const w=this.le;var x=t/16;t=q.width*v;const z=q.height*v,E=q.height/16;var G=(4+this.xc)*v,N=q.hd,C=q.text;if(-1!==this.ah){if(this.$g>=this.ah)return;this.$g+C.length>this.ah&&
(C=C.substr(0,this.ah-this.$g),t=this.Av(C,N).width*v);this.$g+=C.length}var H=this.Mc(N,"background"),I=this.pn(N,"u");q=this.pn(N,"s");if((!d.zz(C)||H||I||q)&&!this.pn(N,"hide")){var K=this.Mc(N,"offsetx");r+=K?parseFloat(K.gd)*v:0;K=this.Mc(N,"offsety");p+=K?parseFloat(K.gd)*v:0;H&&(this.BA(H.gd),w.fillRect(r,p-z,t,z+G));K=this.Mc(N,"color");this.BA(K?K.gd:this.cB);G=this.Mc(N,"opacity");this.nda(G?parseFloat(G.gd)/100:1);G=(G=this.Mc(N,"linethickness"))?parseFloat(G.gd):1;(H=this.pn(N,"stroke"))&&
this.SS(.5*E*G*this.cx*this.vi*self.devicePixelRatio);this.oda(this.AR(!1,N));h(w,H,C,r,p,t);!H&&(this.SS(.5*E*G*this.cx*this.vi*self.devicePixelRatio),N=this.Mc(N,"outline"))&&(this.BA(N.gd),h(w,!0,C,r,p,t));this.BA(K?K.gd:this.cB);I&&(N=r,C=p+v*x,I=t,x=v*x*G,H?w.strokeRect(N,C,I,x):w.fillRect(N,C,I,x));q&&(v*=E,w.fillRect(r,p-z/4+v/2-v*G/2,t,v*G))}}kea(){this.ya.Yo()||(this.tx=Math.ceil(this.U),this.qx=Math.ceil(this.R),this.ng.set(0,0,this.U/this.tx,this.R/this.qx),this.eK&&(this.Jh(),this.eK=
!1),this.zb||(this.zb=this.ya.QM(this.tx,this.qx,{DD:1===this.vi,Ux:"high"})),this.ya.E7(this.Jq,this.zb),this.TL&&this.TL())}Gh(){return this.ng}Jh(){this.zb&&(this.ya.Yo()||this.ya.Uj(this.zb),this.zb=null)}static yl(){for(const q of k)q.Jh()}}}
{"use strict";const d=self.A;class a{constructor(b){this.Z=b.Z;this.Md=b.Md;this.Ld=b.Ld;this.ji=null;this.hw=this.Lb=!1;this.NC=0;this.ji=1===this.Md?this.Ld.createQueryEXT():this.Z.createQuery()}i(){this.WQ();this.Ld=this.Z=null;this.hw=!1}WQ(){this.ji&&(1===this.Md?this.Ld.deleteQueryEXT(this.ji):this.Z.deleteQuery(this.ji),this.ji=null)}eE(){if(this.Lb)throw Error("query already active");1===this.Md?this.Ld.beginQueryEXT(this.Ld.TIME_ELAPSED_EXT,this.ji):this.Z.beginQuery(this.Ld.TIME_ELAPSED_EXT,
this.ji);this.Lb=!0}xE(){if(!this.Lb)throw Error("query not active");1===this.Md?this.Ld.endQueryEXT(this.Ld.TIME_ELAPSED_EXT):this.Z.endQuery(this.Ld.TIME_ELAPSED_EXT);this.Lb=!1}jE(){if(this.ji&&!this.hw&&!this.Lb){var b=1===this.Md?this.Ld.getQueryObjectEXT(this.ji,this.Ld.QUERY_RESULT_AVAILABLE_EXT):this.Z.getQueryParameter(this.ji,this.Z.QUERY_RESULT_AVAILABLE);var e=this.Z.getParameter(this.Ld.GPU_DISJOINT_EXT);b&&!e&&(this.NC=1===this.Md?this.Ld.getQueryObjectEXT(this.ji,this.Ld.QUERY_RESULT_EXT):
this.Z.getQueryParameter(this.ji,this.Z.QUERY_RESULT),this.NC/=1E9,this.hw=!0);(b||e)&&this.WQ()}}oz(){return this.hw}ez(){if(!this.hw)throw Error("no result available");return this.NC}}d.aa.O7=class{constructor(b){this.ya=b;this.bi=b.bi;this.Lb=!1;this.Vn=null;this.gq=!1;this.kt=null;this.zq=[]}i(){for(const b of this.zq)b instanceof a&&b.i();d.D(this.zq);this.ya=this.kt=this.Vn=null}eE(){if(this.Lb)throw Error("query already active");const b=this.ya.dW;0<b.length?(this.gq=!0,this.Vn=b.ne(-1),this.Vn.hR(),
this.Vn.zq.push(this)):(this.gq=!1,this.Vn=null);this.Lb=!0;b.push(this);this.hT()}xE(){if(!this.Lb)throw Error("query not active");if(this.ya.dW.pop()!==this)throw Error("can only end most nested query");this.Lb=!1;this.hR();this.Vn&&(this.Vn.hT(),this.Vn=null)}hT(){this.kt=d.C(a,this.ya);this.zq.push(this.kt);this.kt.eE()}hR(){this.kt.xE();this.kt=null}jE(){for(const b of this.zq)b.jE()}oz(){return this.zq.every(b=>b.oz())}ez(){return this.zq.reduce((b,e)=>b+e.ez(),0)}}}
{"use strict";const d=self.A;d.aa.AQ=class{constructor(a,b=1E3){this.ya=a;this.ufa=b;this.Ck=[];this.ya.g8(this)}i(){this.Hc();this.ya.qca(this);this.ya=null}Hc(){for(const a of this.Ck)a.i();d.D(this.Ck)}cE(){const a=new d.aa.O7(this.ya);this.Ck.push(a);this.Ck.length>this.ufa&&this.Ck.shift().i();return a}wY(a){for(const b of this.Ck){if(b.bi>=a)break;if(b.gq)break;b.jE()}}sN(a,b){if(b<=a)return NaN;let e=0;for(const c of this.Ck){if(c.bi>=b)break;if(!(c.bi<a))if(c.oz())e+=c.ez();else return NaN}return e}UM(a){for(let b=
0,e=this.Ck.length;b<e;++b){const c=this.Ck[b];if(c.bi<a)c.i();else{0<b&&this.Ck.splice(0,b);break}}}}}
{"use strict";const d=self.A,a=self.cl,b=a.ey,e=a.wo,c={powerPreference:"default",JW:!0,alpha:!1,KL:!1,depth:!1,TW:2,failIfMajorPerformanceCaveat:!1},f=new Set(["default","low-power","high-performance"]),k=new d.xd(0,0,1,0,1,1,0,1),h=e.create(),l=e.create(),n=new d.xd,q=new d.Rect;let r=null;d.Lt&&(self.Ota=function(){r?r.loseContext():console.warn("WEBGL_lose_context not supported")},self.Pta=function(){r?r.restoreContext():console.warn("WEBGL_lose_context not supported")});const p=new Set;let v=
-1;function t(){v=-1;for(const w of p)w.lga()&&(w.resolve(),p.delete(w));0<p.size&&(v=self.requestAnimationFrame(t))}d.aa.N7=class extends d.aa.f5{constructor(w,x){super();x=Object.assign({},c,x);if(!f.has(x.powerPreference))throw Error("invalid power preference");const z={alpha:!!x.alpha,depth:!1,antialias:!1,powerPreference:x.powerPreference,failIfMajorPerformanceCaveat:!!x.failIfMajorPerformanceCaveat};x.KL&&(z.desynchronized=!0,z.preserveDrawingBuffer=!0);let E=null,G=0;2<=x.TW&&(E=w.getContext("webgl2",
z),G=2);E||(E=w.getContext("webgl",z),G=1);if(!E)throw Error("failed to initialise WebGL context");this.Z=E;this.BT=E.getContextAttributes();x.KL&&!this.BT.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");E.getParameter(E.VERSION);this.Md=G;this.Kf=b.create();this.kI=e.create();this.qJ=this.no=!!x.depth;this.Qp=null;this.oJ=!0;this.KT=this.LT=0;this.HC=this.yU=this.bD=this.oD=null;this.Ex=new Float32Array(24E3);this.zU=new Uint16Array(12E3);this.Iq=
new Float32Array(16E3);this.uV=new Float32Array(32E3);this.UU=this.IC=this.Ie=this.ti=0;this.bo=this.lq=null;this.Qv=[];this.mc=this.un=0;this.Hd=null;this.Dc=d.C(d.aa.eY,this);this.Iw=d.C(d.jb,1,1,1,1);this.Nn=this.$l=null;this.EJ=this.HJ=0;this.hq=!1;this.Fx=this.Gx=-1;this.nfa=new d.Rect;this.yC=-1;this.YJ=0;this.Ax="(unavailable)";this.tJ=!1;this.Lv=this.nK=null;this.XJ=0;this.jfa=!!x.JW;this.Ld=null;this.NA=new Set;this.dW=[];this.C_(this.zU)}Iu(){return!0}async sz(){super.sz();var w=this.Z;
this.Iw.Bo(1,1,1,1);this.Nn=this.$l=null;this.IC=this.ti=0;this.UU=23988;d.D(this.Qv);this.mc=this.un=0;this.Hd=this.lq=null;this.nfa.set(0,0,1,1);var x=this.Dc;x.wi=null;x.ro=null;b.set(x.uD,1,1,1,1);x.clearColor.Bo(0,0,0,0);x.YL.set(0,0,1,1);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);this.HJ=w.ONE;this.EJ=w.ONE_MINUS_SRC_ALPHA;this.baa(w);w.disable(w.CULL_FACE);w.disable(w.STENCIL_TEST);w.disable(w.DITHER);this.no?(w.enable(w.DEPTH_TEST),
w.depthMask(!0),w.depthFunc(w.LEQUAL)):(w.disable(w.DEPTH_TEST),w.depthMask(!1));this.qJ=this.no;this.HC=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.HC);w.bufferData(w.ARRAY_BUFFER,this.uV.byteLength,w.DYNAMIC_DRAW);this.oD=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.oD);w.bufferData(w.ARRAY_BUFFER,this.Ex.byteLength,w.DYNAMIC_DRAW);this.bD=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.bD);w.bufferData(w.ARRAY_BUFFER,this.Iq.byteLength,w.DYNAMIC_DRAW);this.yU=w.createBuffer();w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,
this.yU);w.bufferData(w.ELEMENT_ARRAY_BUFFER,this.zU,w.STATIC_DRAW);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,null);this.yC=w.getParameter(w.MAX_TEXTURE_SIZE);this.YJ=w.getParameter(w.ALIASED_POINT_SIZE_RANGE)[1];2048<this.YJ&&(this.YJ=2048);if(x=w.getExtension("WEBGL_debug_renderer_info"))w.getParameter(x.UNMASKED_VENDOR_WEBGL),this.Ax=w.getParameter(x.UNMASKED_RENDERER_WEBGL);this.nK=w.getExtension("KHR_parallel_shader_compile");d.Lt&&(r=w.getExtension("WEBGL_lose_context"));if(this.jfa)if(1===
this.Md){if("Chromium"!==d.Xc.ky||81<=d.Xc.gE||"undefined"!==typeof document)this.Ld=w.getExtension("EXT_disjoint_timer_query")}else this.Ld=w.getExtension("EXT_disjoint_timer_query_webgl2")||w.getExtension("EXT_disjoint_timer_query");this.XJ=(this.Lv=w.getExtension("EXT_texture_filter_anisotropic"))?w.getParameter(this.Lv.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;w=d.aa.kv;x=w.Ry(!1);w=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
x,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",x,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",x,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
x,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",x,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
x,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",x,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
w.Ry(!0),"<tilemap>"]].map(z=>this.rE({src:z[0]},z[1],z[2])));this.WC=w[0];this.bo=w[1];this.VC=w[2];this.IK=w[3];this.Mh()}async rE(w,x,z){w=await d.aa.kv.Ta(this,w,x,z);this.h8(w);return w}l5(){this.lq=null}Bc(w,x,z){if(this.U!==w||this.R!==x||z){this.Ii();z=this.Z;var E=this.Dc;this.U=w;this.R=x;w=this.JN();x=this.aF();this.eT(w,x);this.au(this.kI,w/x);this.Tr(this.kI);this.bo&&(z.useProgram(this.bo.nb),this.bo.sT(this.xC),this.lq=this.bo,this.Dc.wi=this.bo);z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE0);this.Nn=this.$l=null;this.no&&this.oJ&&this.IH(this.U,this.R);this.Hd&&this.Hd.CS(this.U,this.R);z.bindFramebuffer(z.FRAMEBUFFER,null);this.Hd=null;E.ro=null}}IH(w,x){const z=this.Z;if(this.Qp){if(this.LT===w&&this.KT===x)return;z.deleteRenderbuffer(this.Qp)}this.Qp=z.createRenderbuffer();z.bindRenderbuffer(z.RENDERBUFFER,this.Qp);z.renderbufferStorage(z.RENDERBUFFER,2<=this.Md?z.DEPTH24_STENCIL8:z.DEPTH_STENCIL,w,x);z.bindRenderbuffer(z.RENDERBUFFER,
null);this.LT=w;this.KT=x}U5(w,x){this.no&&(this.oJ=!1,this.IH(w,x))}D5(){this.no&&(this.oJ=!0,this.IH(this.U,this.R))}JN(){return this.hq?this.Gx:this.P()}aF(){return this.hq?this.Fx:this.O()}eT(w,x){const z=this.Kf;if(0!==z[0]||0!==z[1]||z[2]!==w||z[3]!==x)this.Jc().i2(w,x),b.set(z,0,0,w,x),this.mc=0}Tr(w){e.Rj(this.xC,w)||(this.Jc().f2(w),e.wa(this.xC,w),this.mc=0)}KP(){let w,x;var z=this.Hd;null===z||z.vw&&this.hq?(w=this.kI,x=this.JN(),z=this.aF()):(w=z.vq,x=z.P(),z=z.O());this.Tr(w);this.eT(x,
z)}Pr(w){e.Rj(this.VJ,w)||(this.Jc().c2(w),e.wa(this.VJ,w),this.mc=0)}Jc(){const w=this.Qv;this.un===w.length&&w.push(new d.aa.M7(this.Dc));return w[this.un++]}Ii(){0===this.un||this.Yo()||(this.uea(),this.l$(),this.mc=this.IC=this.Ie=this.ti=this.un=0)}uea(){const w=this.Z;0<this.IC&&(w.bindBuffer(w.ARRAY_BUFFER,this.HC),w.bufferSubData(w.ARRAY_BUFFER,0,this.uV.subarray(0,this.IC)));0<this.ti&&(w.bindBuffer(w.ARRAY_BUFFER,this.oD),w.bufferSubData(w.ARRAY_BUFFER,0,this.Ex.subarray(0,this.ti)),w.bindBuffer(w.ARRAY_BUFFER,
this.bD),w.bufferSubData(w.ARRAY_BUFFER,0,this.Iq.subarray(0,this.Ie)))}l$(){const w=this.Qv;for(let x=0,z=this.un;x<z;++x)w[x].ta()}xf(){return this.Iw.Xa}Af(w,x,z,E){const G=this.Iw;G.Mx(w,x,z,E)||(G.Bo(w,x,z,E),this.Jc().oF(G),this.mc=0,this.qj=null)}qk(w){const x=this.Iw;x.Xa!==w&&(x.yh(w),this.Jc().oF(x),this.mc=0,this.qj=null)}nk(w){const x=this.Iw;x.Tc(w)||(x.set(w),this.Jc().oF(x),this.mc=0,this.qj=null)}Kr(){this.Af(1,1,1,1)}Ng(w){w!==this.$l&&(this.Jc().h2(w),this.$l=w,this.mc=0)}BH(){this.$l=
null}ag(w){w=this.C$(w);this.HH(w[0],w[1])}HH(w,x){if(w!==this.HJ||x!==this.EJ)this.Jc().a2(w,x),this.HJ=w,this.EJ=x,this.mc=0,this.qj=null}fG(){this.HH(this.Z.ONE,this.Z.ONE_MINUS_SRC_ALPHA)}IP(){this.HH(this.Z.ONE,this.Z.ZERO)}Rect(w){this.kP(w.S,w.N,w.X,w.V)}kP(w,x,z,E){this.N4(w,x,z,x,z,E,w,E)}rv(){let w=this.ti;w>=this.UU&&(this.Ii(),w=0);1===this.mc?this.Qv[this.un-1].Zp+=6:(this.Jc().Z1(w),this.mc=1)}RH(w){w.bia(this.Ex,this.ti,this.Pv+this.Zv);this.ti+=12}xd(w){this.rv();this.RH(w);k.zh(this.Iq,
this.Ie);this.Ie+=8}N4(w,x,z,E,G,N,C,H){this.rv();const I=this.Ex;let K=this.ti;const Q=this.Pv+this.Zv;I[K++]=w;I[K++]=x;I[K++]=Q;I[K++]=z;I[K++]=E;I[K++]=Q;I[K++]=G;I[K++]=N;I[K++]=Q;I[K++]=C;I[K++]=H;I[K++]=Q;this.ti=K;k.zh(this.Iq,this.Ie);this.Ie+=8}Gr(w,x){this.rv();this.RH(w);x.aia(this.Iq,this.Ie);this.Ie+=8}O4(w,x){this.rv();this.RH(w);x.zh(this.Iq,this.Ie);this.Ie+=8}Jz(w,x,z,E,G,N,C,H,I,K,Q,R,U){this.rv();const Z=this.Ex;let ca=this.ti;const Y=this.Pv+this.Zv;Z[ca++]=w;Z[ca++]=x;Z[ca++]=
Y+z;Z[ca++]=E;Z[ca++]=G;Z[ca++]=Y+N;Z[ca++]=C;Z[ca++]=H;Z[ca++]=Y+I;Z[ca++]=K;Z[ca++]=Q;Z[ca++]=Y+R;this.ti=ca;U.zh(this.Iq,this.Ie);this.Ie+=8}H_(w,x){e.wa(h,this.xC);e.wa(l,this.VJ);this.KP();if(this.hq){w=this.$t(0,0,100*self.devicePixelRatio,0,0);this.Pr(w);w=this.Gx/2;var z=this.Fx/2;q.set(-w,z,-w+this.Gx,z-this.Fx);n.Sj(q);q.set(0,0,this.Gx/this.U,this.Fx/this.R);this.Gr(n,q)}else{const [N,C]=this.R0(this.Hd);z=this.$t(0,0,100*self.devicePixelRatio,0,0,C);this.Pr(z);if("crop"===w&&this.Hd&&
x){w=this.U/2;z=this.R/2;const H=x.P();x=x.O();var E=this.Hd.P(),G=this.Hd.O();E=Math.min(E,H);const I=Math.min(G,x),K=Math.max(x-G,0);G=Math.max(G-x,0);q.set(-w,z-G,-w+E,z-I-G);n.Sj(q);q.set(0,K,E,I+K);q.al(H,x);this.Gr(n,q)}else w=N/2,z=C/2,this.kP(-w,z,w,-z)}this.Tr(h);this.Pr(l)}ln(w){this.lq!==w&&(this.Jc().d2(w),this.lq=w,this.mc=0,this.qj=null)}M5(){this.ln(this.bo)}Sr(w,x,z,E,G,N,C,H,I,K,Q){const R=this.lq;var U=R.nU;const Z=!!Q.length;if(U&&!R.$X(x,z,E,G,N,C,H,I,K)||Z&&!R.ZX(Q)){var ca=this.Jc();
ca.e2();U&&(R.o6(x,z,E,G,N,C,H,I,K),U=ca.Ee,U[0]=N,U[1]=C,x.zh(U,2),U[6]=H,U[7]=I,z.zh(U,12),x=ca.Mp,G.zh(x,0),G=x[1],x[1]=x[3],x[3]=G,E.zh(ca.XV,0),ca.ph=K,ca.hf=R.Bt.ea?w?w.se():null:null);Z&&(R.K5(Q),d.td(ca.PC,Q));this.mc=0}}ry(){this.Jc().Q1();this.mc=0}Hc(w){this.Jc().P1(w);this.mc=0}kE(w){this.CY(w.S,w.N,w.width(),w.height())}CY(w,x,z,E){0>z||0>E||(this.Jc().O1(w,x,z,E),this.mc=0)}gv(){}ju(){super.ju();this.Z.flush()}yY(){this.no&&this.Hd&&this.Hd.cf&&(this.Jc().N1(),this.mc=0)}gn(w){w=!!w;
this.qJ!==w&&this.no&&(this.qJ=w,this.Jc().b2(w),this.mc=0)}vY(){for(const w of this.NA)w.wY(this.bi)}Yo(){return!this.Z||this.Z.isContextLost()||this.tJ}yl(){super.L3();d.aa.$z.yl();d.aa.IG.yl();d.aa.mP.yl();for(const w of this.NA)w.Hc();this.Lv=this.nK=this.Ld=null;this.XJ=0;this.Ax="(unavailable)";this.Qp=this.bo=this.lq=null;for(const w of this.nx.values())w.yl()}async LF(){this.tJ=!0;await this.sz();this.tJ=!1;for(const w of this.nx.values())w.LF(this);this.Bc(this.U,this.R,!0)}wy(w,x){if(this.Yo())throw Error("context lost");
this.Ii();const z=d.C(d.aa.$z,this);z.g9(w,x);return z}xy(w,x){if(this.Yo())return Promise.reject("context lost");x=Object.assign({},x);const z=x.UD&&"clamp-to-edge"!==x.UD||x.VD&&"clamp-to-edge"!==x.VD;if(!d.Ub.ImageBitmapOptions||!this.rp()&&z)return d.Ub.ImageBitmap?createImageBitmap(w).then(E=>d.el(()=>this.wy(E,x))):w instanceof Blob?d.xM(w,!0).then(E=>this.xy(E,x)):"undefined"!==typeof HTMLImageElement&&w instanceof HTMLImageElement&&"function"===typeof w.decode?w.decode().then(()=>d.el(()=>
this.wy(w,x))):d.el(()=>this.wy(w,x));x.premultiplyAlpha=!1;return createImageBitmap(w,{premultiplyAlpha:"premultiply"}).then(E=>d.el(()=>this.wy(E,x)))}QM(w,x,z){this.Ii();const E=d.C(d.aa.$z,this);E.O8(w,x,z);return E}E7(w,x){this.Ii();x.nT(w,void 0)}Uj(w){w&&(w.m7(),0<w.Rc||(this.Ii(),w===this.$l&&(this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.$l=null),w===this.Nn&&(this.Z.activeTexture(this.Z.TEXTURE1),this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.Z.activeTexture(this.Z.TEXTURE0),this.Nn=
null),w.ZG()))}XY(w){let x=this.U,z=this.R,E=!0;w&&("number"===typeof w.width&&(x=w.width,E=!1),"number"===typeof w.height&&(z=w.height,E=!1));if(0>=x||0>=z)throw Error("invalid size");this.Ii();const G=d.C(d.aa.IG,this);G.L8(x,z,Object.assign({OW:E},w));this.Hd=null;this.Dc.ro=null;return G}Te(w){w!==this.Hd&&(w&&w.vw&&w.CS(this.U,this.R),this.Jc().g2(w),this.Hd=w,this.mc=0,this.KP())}cz(){return this.Hd}R0(w){return w?[w.P(),w.O()]:[this.U,this.R]}mE(w){2>this.Md||this.Hd&&0<this.Hd.dm?(this.IP(),
this.Kr(),this.du(w,"stretch")):(this.Jc().L1(w,this.Hd),this.mc=0)}du(w,x="stretch"){w=w.se();if(!w)throw Error("not a texture-backed render target");this.Ng(w);this.H_(x,w)}Wo(w){2>this.Md||(this.Jc().V1(w.xj),this.mc=0)}kZ(w){this.Te(null);this.Ii();const x=w.se();x===this.$l&&(this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.$l=null);x===this.Nn&&(this.Z.activeTexture(this.Z.TEXTURE1),this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.Z.activeTexture(this.Z.TEXTURE0),this.Nn=null);w.ZG()}async S4(w){this.Ii();
const x=this.Hd;if(w){var z=w.P();var E=w.O();w=w.xj}else z=this.P(),E=this.O(),w=null;const G=this.Z;G.bindFramebuffer(G.FRAMEBUFFER,w);w=new ImageData(z,E);G.readPixels(0,0,z,E,G.RGBA,G.UNSIGNED_BYTE,new Uint8Array(w.data.buffer));(()=>{G.bindFramebuffer(G.FRAMEBUFFER,null);this.Hd=null;this.Dc.ro=null;this.Te(x)})();return w}NM(){this.gn(!0);this.Jc().T1();this.mc=0}MM(){this.gn(!1);this.Jc().S1();this.mc=0}LM(){this.gn(!0);this.Jc().R1();this.mc=0}BG(w){this.sk()&&(this.Jc().k2(w),this.mc=0)}wE(w){this.sk()&&
(this.Jc().U1(w),this.mc=0)}pea(w){const x=new Promise(z=>p.add({resolve:z,lga:w}));-1===v&&(v=self.requestAnimationFrame(t));return x}w2(){return!!this.BT.desynchronized}$_(){let w=0;for(const x of d.aa.$z.aga())w+=x.KE();return w}rp(){return 2<=this.Md}sk(){return!!this.Ld}g8(w){this.NA.add(w)}qca(w){this.NA.delete(w)}baa(w){this.aaa([["normal",w.ONE,w.ONE_MINUS_SRC_ALPHA],["additive",w.ONE,w.ONE],["xor",w.ONE,w.ONE_MINUS_SRC_ALPHA],["copy",w.ONE,w.ZERO],["destination-over",w.ONE_MINUS_DST_ALPHA,
w.ONE],["source-in",w.DST_ALPHA,w.ZERO],["destination-in",w.ZERO,w.SRC_ALPHA],["source-out",w.ONE_MINUS_DST_ALPHA,w.ZERO],["destination-out",w.ZERO,w.ONE_MINUS_SRC_ALPHA],["source-atop",w.DST_ALPHA,w.ONE_MINUS_SRC_ALPHA],["destination-atop",w.ONE_MINUS_DST_ALPHA,w.SRC_ALPHA]])}}}
{"use strict";let d=null;const a=new Set;let b=!1;self.A1=class{constructor(e){d=e;Object.defineProperties(this,{Mga:{value:{},writable:!1},storage:{value:new self.D1(d),writable:!1},Hua:{value:d.De,writable:!1}});d.me.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});d.me.addEventListener("keyup",c=>a.delete(c.key));d.Db().addEventListener("window-blur",()=>a.clear());d.De&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}eaa(e){Object.defineProperties(this.Mga,e)}addEventListener(e,c){d.me.addEventListener(e,c)}removeEventListener(e,c){d.me.removeEventListener(e,c)}get HW(){return d.hr()}get nua(){return d.Ag()}random(){return d.Hr()}get sg(){return d.Pb().kw}get keyboard(){const e=d.Uv.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get NL(){const e=d.Uv.NL;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get oM(){const e=d.Uv.oM;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return d.fp("runtime","alert",{message:e+(d.De?" [via Web Worker]":"")})}}}"use strict";self.t1=class{constructor(){}};{"use strict";const d=self.Ah;self.D1=class{constructor(a){this.qg=a.HR()}getItem(a){d.ue(a);return this.qg.getItem(a)}setItem(a,b){d.ue(a);return this.qg.setItem(a,b)}removeItem(a){d.ue(a);return this.qg.removeItem(a)}clear(){return this.qg.clear()}keys(){return this.qg.keys()}}}
{"use strict";const d=self.Ah,a=new WeakMap;self.pz=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.Da(),writable:!1}});b.I().fS(this,b)}addEventListener(b,e){d.ue(b);d.lk(e);a.get(this).me.addEventListener(b,e)}removeEventListener(b,e){d.ue(b);d.lk(e);a.get(this).me.removeEventListener(b,e)}*NW(){for(const b of a.get(this).ma())yield b.Eh()}vL(b){d.$f(void 0);d.$f(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var e=
a.get(this),c=e.I();b=c.Pb().ca(b);if(!b)throw Error("invalid layer");e=c.oE(e,b,void 0,void 0,void 0);c=c.la();c.Le(!0);e.IA();c.Le(!1);return e.Eh()}}}
{"use strict";const d=self.Ah,a=new WeakMap;self.w1=class{constructor(b){a.set(this,b);const e=[],c=b.Ra,f=c.wg().length;for(let k=0;k<f;++k)e.push(new self.nF(c,k));Object.defineProperties(this,{name:{value:b.Da(),writable:!1},index:{value:b.Ja(),writable:!1},IW:{value:e,writable:!1}})}addEventListener(b,e){d.ue(b);d.lk(e);a.get(this).me.addEventListener(b,e)}removeEventListener(b,e){d.ue(b);d.lk(e);a.get(this).me.removeEventListener(b,e)}get width(){return a.get(this).P()}set width(b){a.get(this).Ue(b)}get height(){return a.get(this).O()}set height(b){a.get(this).Bf(b)}set scale(b){d.Vi(b);
a.get(this).pp(b)}get scale(){return a.get(this).Xb}set angle(b){d.Vi(b);a.get(this).Yc(b)}get angle(){return a.get(this).ia()}set scrollX(b){d.$f(b);a.get(this).Wi(b)}get scrollX(){return a.get(this).Vf()}set scrollY(b){d.$f(b);a.get(this).Xi(b)}get scrollY(){return a.get(this).Wf()}scrollTo(b,e){d.$f(b);d.$f(e);const c=a.get(this);c.Wi(b);c.Xi(e)}set cX(b){d.ue(b);const e=a.get(this);if("perspective"===b)e.aQ();else if("orthographic"===b)e.YP();else throw Error("invalid projection");}get cX(){return a.get(this).Ef?
"orthographic":"perspective"}}}
{"use strict";const d=self.A,a=self.Ah,b=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const e=d.C(d.jb);self.v1=class{constructor(c){b.set(this,c);const f=[],k=c.Ra,h=k.wg().length;for(let l=0;l<h;++l)f.push(new self.nF(k,l));Object.defineProperties(this,{name:{value:c.Da(),writable:!1},index:{value:c.Ja(),
writable:!1},sg:{value:c.rc().kw,writable:!1},IW:{value:f,writable:!1}})}get isVisible(){return b.get(this).Ac()}set isVisible(c){b.get(this).Pg(c)}get opacity(){return b.get(this).xf()}set opacity(c){c=d.ba(+c,0,1);isNaN(c)||b.get(this).qk(c)}set scale(c){a.Vi(c);b.get(this).ZP(c)}get scale(){return b.get(this).Xb}set angle(c){a.Vi(c);b.get(this).Yc(c)}get angle(){return b.get(this).xe}set gy(c){a.Vi(c);b.get(this).Ve(c)}get gy(){return b.get(this).Ua()}set backgroundColor(c){a.WF(c);if(3>c.length)throw Error("expected 3 elements");
e.MD(c[0],c[1],c[2]);c=b.get(this);const f=c.Ml;f.uo(e)||(f.Cm(e),c.I().ga())}get backgroundColor(){const c=b.get(this).Ml;return[c.cb,c.hb,c.ab]}set scrollX(c){a.$f(c);const f=b.get(this);f.Wu(!0);f.Wi(c)}get scrollX(){return b.get(this).Vf()}set scrollY(c){a.$f(c);const f=b.get(this);f.Wu(!0);f.Xi(c)}get scrollY(){return b.get(this).Wf()}scrollTo(c,f){a.$f(c);a.$f(f);const k=b.get(this);k.Wu(!0);k.Wi(c);k.Xi(f)}}}
{"use strict";const d=self.A,a=self.Ah,b=new WeakMap,e=new WeakMap;function c(k){let h=e.get(k);if(h)return h;h=d.C(d.Event.Db);e.set(k,h);return h}let f=null;self.Fu=class{constructor(){b.set(this,f);const k={Gc:{value:f.I().Bj,writable:!1},RL:{value:f.H().lw,writable:!1},uid:{value:f.pb,writable:!1}};f.J$(k);f.B$(k);Object.defineProperties(this,k);f.I().fS(this,f)}static dj(k){f=k}static gs(){return f}Dv(){const k=e.get(this);k&&(k.i(),e.delete(this));b.delete(this)}addEventListener(k,h,l){a.ue(k);
a.lk(h);c(this).addEventListener(k,h,l)}removeEventListener(k,h,l){a.ue(k);a.lk(h);c(this).removeEventListener(k,h,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}
{"use strict";const d=self.A,a=self.Ah,b=self.Fu,e=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);d.C(d.jb);self.qz=class c extends b{constructor(){super();var f=b.gs();e.set(this,f);const k=[];var h=f.j();if(f=h.Ae){h=h.H().Ra.wg().length;for(let l=0;l<h;++l)k.push(new self.nF(f,l))}Object.defineProperties(this,
{IW:{value:k,writable:!1}})}get sg(){return e.get(this).j().rc().kw}get Zd(){return e.get(this).j().ca().Zea}get x(){return e.get(this).j().K()}set x(f){f=+f;const k=e.get(this).j();isNaN(f)||k.K()===f||(k.Qg(f),k.Va())}get y(){return e.get(this).j().L()}set y(f){f=+f;const k=e.get(this).j();isNaN(f)||k.L()===f||(k.Rg(f),k.Va())}get gy(){return e.get(this).j().Ua()}set gy(f){f=+f;const k=e.get(this),h=k.j();isNaN(f)||h.Ua()===f||(h.Ve(f),k.I().ga())}get width(){return e.get(this).j().P()}set width(f){f=
+f;const k=e.get(this).j();isNaN(f)||k.P()===f||(k.Ue(f),k.Va())}get height(){return e.get(this).j().O()}set height(f){f=+f;const k=e.get(this).j();isNaN(f)||k.O()===f||(k.Bf(f),k.Va())}get angle(){return e.get(this).j().ia()}set angle(f){f=d.Xd(+f);const k=e.get(this).j();isNaN(f)||k.ia()===f||(k.Yc(f),k.Va())}DL(){e.get(this).j().Uc().Sha()}get isVisible(){return e.get(this).j().Ac()}set isVisible(f){f=!!f;const k=e.get(this),h=k.j();h.Ac()!==f&&(h.Pg(f),k.I().ga())}get opacity(){return e.get(this).j().xf()}set opacity(f){f=
d.ba(+f,0,1);const k=e.get(this),h=k.j();isNaN(f)||h.xf()===f||(h.qk(f),k.I().ga())}get zIndex(){return e.get(this).j().gk()}Of(f,k){a.$f(f);a.$f(k);return e.get(this).j().cu(+f,+k)}getParent(){const f=e.get(this).Fa();return f?f.Eh():null}*Vx(){for(const f of e.get(this).Vx())yield f.Eh()}*children(){for(const f of e.get(this).children())yield f.Eh()}*$k(){for(const f of e.get(this).$k())yield f.Eh()}removeChild(f){a.XF(f,c);const k=e.get(this);f=e.get(f);k.kk(f)}}}
{"use strict";const d=new WeakMap;self.Cla=class extends self.qz{constructor(){super();d.set(this,self.Fu.gs())}focus(){d.get(this).ka.dN()}blur(){d.get(this).ka.zM()}}}
{"use strict";const d=self.A,a=self.Ah,b=new WeakMap,e=new WeakMap;function c(k){let h=e.get(k);if(h)return h;h=d.C(d.Event.Db);e.set(k,h);return h}let f=null;self.bO=class{constructor(){b.set(this,f);const k={Gc:{value:f.I().Bj,writable:!1},behavior:{value:f.rf().r0(),writable:!1}};Object.defineProperties(this,k)}static dj(k){f=k}static gs(){return f}get instance(){return b.get(this).J.Eh()}Dv(){const k=e.get(this);k&&(k.i(),e.delete(this));b.delete(this)}addEventListener(k,h,l){a.ue(k);a.lk(h);
c(this).addEventListener(k,h,l)}removeEventListener(k,h,l){a.ue(k);a.lk(h);c(this).removeEventListener(k,h,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}{"use strict";const d=new WeakMap;self.aO=class{constructor(a){d.set(this,a);Object.defineProperties(this,{Gc:{value:a.I().Bj,writable:!1}})}}}
{"use strict";const d=self.A,a=self.Ah,b=new WeakMap;self.nF=class{constructor(e,c){b.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).wg()[this.index].Da()}getParameter(e){a.Vi(e);e=Math.floor(+e);const c=b.get(this).yg(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof d.jb?[e.cb,e.hb,e.ab]:e}}}
{"use strict";const d=self.A,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.dY=class extends d.ja{constructor(e,c){super();var f=c.exportType;this.g=e;this.uC=new Map;this.Ys=new Map;this.sfa=new Map;this.RB="cordova"===f;this.DJ=!!c.isiOSCordova;this.ww=!!c.isFileProtocol;this.Qfa=c.supportedAudioFormats||{};this.jI=
new Map;this.xV=!1;this.tU=this.cU=this.fV="";this.gB="html5"===f||"scirra-arcade"===f||"instant-games"===f?"remote":"local";this.$H=[];this.iI=new Map;this.kL=[];this.sC=[];this.oU=!1;this.lC=this.hI=this.yx=0;this.aJ=!1;this.rfa=d.C(d.R4,()=>this.mR(),50);this.wK=new d.OF(Math.max(d.hardwareConcurrency,8));if(e=c.previewImageBlobs){(f=c.previewProjectFileBlobs)&&Object.assign(e,f);(f=c.projectData)&&(e["data.json"]=f);for(const [k,h]of Object.entries(e))this.uC.set(k.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [k,
h]of Object.entries(c))this.sfa.set(k,h);new self.t1(this)}i(){this.uC.clear();for(const e of this.Ys.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.Ys.clear();for(const e of this.$H)e.i();d.D(this.$H);this.iI.clear();d.D(this.sC);this.g=null}I(){return this.g}Bda(e){this.fV=e}pda(e){this.cU=e}uda(e){this.tU=e}qA(e){return this.uC.has(e.toLowerCase())}nA(e){return this.uC.get(e.toLowerCase())||null}UE(e){if(!this.qA(e))return e;e=e.toLowerCase();var c=this.Ys.get(e);c||(c=this.nA(e),
c=URL.createObjectURL(c),this.Ys.set(e,c));return c}il(e,c){c=c||this.gB;const f=this.nA(e);if(f)return Promise.resolve(f);if(d.DF(e)){const k=e.toLowerCase();return this.RB&&this.ww?this.PM(k):"local"===c?this.wK.yc(()=>d.il(k)):d.il(k)}return d.il(e)}hu(e){const c=this.nA(e);if(c)return d.iY(c);if(d.DF(e)){const f=e.toLowerCase();return this.RB&&this.ww?this.OM(f):"local"===this.gB?this.wK.yc(()=>d.hu(f)):d.hu(f)}return d.hu(e)}iu(e){const c=this.nA(e);if(c)return d.yM(c);if(d.DF(e)){const f=e.toLowerCase();
return this.RB&&this.ww?this.RY(f):"local"===this.gB?this.wK.yc(()=>d.iu(f)):d.iu(f)}return d.iu(e)}async bN(e){e=await this.iu(e);return JSON.parse(e)}PG(e,c){return this.g.fp("runtime","cordova-fetch-local-file",{filename:e,as:c})}RY(e){return this.PG(e,"text")}async PM(e){const c=await this.PG(e,"buffer");e?(e=e.split("."),e=2>e.length?"":b.get(e.ne(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async QY(e){e=e.toLowerCase();var c=this.Ys.get(e);if(c)return c;c=await this.PM(e);c=URL.createObjectURL(c);
this.Ys.set(e,c);return c}OM(e){return this.PG(e,"buffer")}zN(e){return this.qA(e)?this.UE(e):this.fV+e.toLowerCase()}az(e,c=""){if(d.rF(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.qA(e)?Promise.resolve(this.UE(e)):this.RB&&this.ww?this.QY(c+e):Promise.resolve(c+e.toLowerCase())}Ez(e){if(e.Sx&&!a.has(e.Sx))throw Error("invalid load policy");let c=this.iI.get(e.url);if(c)return c;c=d.C(d.cO,this,{url:e.url,size:e.size||0,Sx:e.Sx||this.gB});
this.$H.push(c);this.iI.set(c.Uk,c);this.oU||(this.yx+=c.Rm(),this.sC.push(c.xO().then(()=>this.FQ(c.Rm()))));return c}async yQ(){try{await Promise.all(this.sC),this.lC=1}catch(e){console.error("Error loading: ",e),this.aJ=!0,this.mR()}}e6(){this.oU=!0}FQ(e){this.hI+=e;this.rfa.rY()}mR(){const e=d.C(d.Event,"loadingprogress");this.lC=d.ba(this.hI/this.yx,0,1);e.progress=this.lC;this.g.Db().dispatchEvent(e)}Lda(e){d.td(this.kL,e);this.kL.length&&this.sC.push(this.Vaa())}Vaa(){if("undefined"===typeof FontFace)return Promise.resolve();
const e=[];for(const [c,f,k]of this.kL)this.yx+=k,e.push(this.Uaa(c,f).then(()=>this.FQ(k)));return Promise.all(e)}async Uaa(e,c){try{const f=await this.az(c,this.cU),k=new FontFace(e,`url('${f}')`);this.g.De?self.fonts.add(k):document.fonts.add(k);await k.load()}catch(f){console.warn(`[C3 runtime] Failed to load web font '${e}': `,f)}}fO(e){return!!this.Qfa[e]}gda(e,c){this.xV=!!c;for(const [f,k,h]of e)this.jI.set(f,{fileName:f,Ega:k.map(l=>({type:l[0],Yta:l[1],KW:f+l[1],fileSize:l[2]})),Yga:h})}FN(e){e=
this.jI.get(e.toLowerCase());if(!e)return null;let c=null;for(const f of e.Ega)if(c||"audio/webm; codecs=opus"!==f.type||(c=f),this.fO(f.type))return f;return c}Bg(e){return(e=this.FN(e))?{url:this.zN(e.KW),type:e.type}:null}O_(){if(this.xV){const e=[];for(const c of this.jI.values()){if(c.Yga)continue;const f=this.FN(c.fileName);f&&e.push({sha:c.fileName,url:this.zN(f.KW),type:f.type,fileSize:f.fileSize})}return e}return[]}async AO(e){e=await this.az(e);return await this.g.fp("runtime","add-stylesheet",
{url:e})}}}
{"use strict";const d=self.A;d.cY=class extends d.ja{constructor(a,b){super();this.tb=a;this.g=a.I();this.Uk=b.url;this.nt=b.size;this.RJ=b.Sx;this.Rv=null;this.wJ=!1;this.Qn=null}i(){this.Rv=this.g=this.tb=this.Qn=null}Rm(){return this.nt}xO(){return"local"===this.RJ||this.Rv?(this.wJ=!0,Promise.resolve()):this.Qn?this.Qn:this.Qn=this.tb.il(this.Uk,this.RJ).then(a=>{this.wJ=!0;this.Qn=null;return this.Rv=a}).catch(a=>console.error("Error loading resource: ",a))}BF(){return this.wJ}hN(){return this.Rv?Promise.resolve(this.Rv):
this.Qn?this.Qn:this.tb.il(this.Uk,this.RJ)}}}
{"use strict";const d=self.A,a=new d.OF,b=new Set;d.cO=class extends d.cY{constructor(e,c){super(e,c);this.Wk=this.Kq=null;this.Rc=0;this.vU=this.xU=-1;b.add(this)}i(){this.Jh();if(0!==this.Rc)throw Error("released image asset which still has texture references");this.Kq=null;b.delete(this);super.i()}static Er(){for(const e of b)e.Kq=null,e.Wk=null,e.Rc=0}Ar(e,c){c=c||{};this.Rc++;if(this.Wk)return Promise.resolve(this.Wk);if(this.Kq)return this.Kq;c.uW=this.g.W.cW;return this.Kq=this.hN().then(f=>
a.yc(()=>e.xy(f,c).then(k=>{this.Kq=null;if(0===this.Rc)return e.Uj(k),null;this.Wk=k;this.xU=k.P();this.vU=k.O();return this.Wk}))).catch(f=>{console.error("Failed to load texture: ",f);throw f;})}Jh(){if(0>=this.Rc)throw Error("texture released too many times");this.Rc--;0===this.Rc&&this.Wk&&(this.Wk.Cb().Uj(this.Wk),this.Wk=null)}se(){return this.Wk}P(){return this.xU}O(){return this.vU}async e3(){const e=await this.hN();return d.Ub.ImageBitmapOptions?await createImageBitmap(e,{premultiplyAlpha:"none"}):
d.Ub.ImageBitmap?await createImageBitmap(e):await d.xM(e)}}}
{"use strict";const d=self.A;function a(b,e){return b.j().Zk-e.j().Zk}d.d5=class extends d.ja{constructor(b,e,c){super();this.Y=e;this.T=c;this.G=[];this.Bw=!0;this.Hj=new Set;this.qw=!1}i(){d.D(this.G);this.Hj.clear()}Gd(){d.D(this.G);this.Bw=!0;this.Hj.clear();this.qw=!1}G5(){this.Bw=!1}$o(){if(!this.G.length)return!0;if(this.G.length>this.Hj.size)return!1;this.hH();return!0}pF(b){this.Hj.has(b)?(this.Hj.delete(b),0===this.Hj.size&&(this.qw=!1)):(this.G.push(b),this.Bw=1===this.G.length)}Kh(b){this.Hj.add(b);
this.qw=!0;50<=this.Hj.size&&this.hH()}hH(){this.qw&&(this.G.length===this.Hj.size?this.Gd():(d.wh(this.G,this.Hj),this.Hj.clear(),this.qw=!1))}k$(){this.Bw||(this.G.sort(a),this.Bw=!0)}uE(b){this.hH();this.k$();this.G.length&&b.push(this.G)}}}
{"use strict";const d=self.A;d.e5=class extends d.ja{constructor(a,b){super();this.vI=a;this.uI=b;this.lj=d.C(d.Mu)}i(){this.lj.i();this.lj=null}Mm(a,b,e){let c=this.lj.fa(a,b);return c?c:e?(c=d.C(d.d5,this,a,b),this.lj.Set(a,b,c),c):null}$i(a){return Math.floor(a/this.vI)}aj(a){return Math.floor(a/this.uI)}Dl(a,b,e){if(b)for(let c=b.S,f=b.X;c<=f;++c)for(let k=b.N,h=b.V;k<=h;++k){if(e&&e.Of(c,k))continue;const l=this.Mm(c,k,!1);l&&(l.Kh(a),l.$o()&&this.lj.Ho(c,k))}if(e)for(let c=e.S,f=e.X;c<=f;++c)for(let k=
e.N,h=e.V;k<=h;++k)b&&b.Of(c,k)||this.Mm(c,k,!0).pF(a)}Kz(a,b){let e=this.$i(a.S);const c=this.aj(a.N),f=this.$i(a.X);for(a=this.aj(a.V);e<=f;++e)for(let k=c;k<=a;++k){const h=this.Mm(e,k,!1);h&&h.uE(b)}}j3(a){let b=a.S;const e=a.N,c=a.X;for(a=a.V;b<=c;++b)for(let f=e;f<=a;++f){const k=this.Mm(b,f,!1);k&&k.G5()}}}}
{"use strict";const d=self.A,a=new d.Rect,b=new d.xd,e=[],c=new d.Rect,f=new d.Rect,k=self.cl,h=k.SD,l=k.ey,n=k.wo;n.create();const q=h.create(),r=l.create(),p=h.create(),v=h.create(),t=h.create(),w=d.C(d.jv);function x(C,H){return C.j().Zk-H.j().Zk}function z(C,H){return C.j().Ua()-H.j().Ua()}const E=[],G=[],N=[];d.FF=class extends d.ja{constructor(C,H,I){super();this.Gj=C;this.g=C.I();this.Ia=I[0];this.Wa=H;this.Ya=I[2];this.iC=!!I[3];this.Ml=d.C(d.jb);this.Ml.Ao(I[4].map(K=>K/255));this.Ln=!!I[5];
this.he=I[6];this.ie=I[7];this.wb=d.C(d.jb,1,1,1,I[8]);this.JC=d.C(d.jb);this.rJ=I[9];this.Jfa=I[17];this.iW=I[18];this.Vfa=I[10];this.Kj=I[11];this.xn=I[12];this.Ek=null;this.Xb=1;this.ed=I[16];this.oi=this.ni=this.xe=0;this.Tl=!1;this.Kf=d.C(d.Rect);this.pW=d.C(d.Rect);this.oo=d.C(d.Rect);this.vq=n.create();this.AJ=!0;this.jV=n.create();this.xJ=!0;this.oW=d.C(d.aa.G7);this.hC=!0;this.ZV=[];this.Kk=[];this.eB=[];this.AU=new Map;this.G=[];this.Hp=this.oL=!1;this.Ra=d.C(d.gl,this,I[15]);this.lt=null;
this.GJ=[];this.$B=!1;this.ofa=d.C(d.Rect,0,0,-1,-1);this.Oea=d.C(d.Rect,0,0,-1,-1);this.Zea=new self.v1(this);this.uT();this.sp()&&(this.lt=d.C(d.e5,this.g.mh,this.g.kh));for(const K of I[14])C=this.g.wf(K[1]),this.Gj.DQ(C),C.Cs||C.JP(K),this.Kk.push(K),this.AU.set(K[2],K);d.td(this.ZV,this.Kk)}static Ta(C,H,I){return d.C(d.FF,C,H,I)}i(){this.g=this.Gj=null}u0(C){return this.AU.get(C)}UY(C){const H=this.Gj.fq;let I=0;const K=this.Kk;for(let R=0,U=K.length;R<U;++R){var Q=K[R];const Z=this.g.wf(Q[1]);
let ca=!0;if(!Z.kF()||H)Q=this.g.Hi(Q,this,!0),C.push(Q),Z.Ig()&&(ca=!1,this.eB.push(Q.pb));ca&&(K[I]=K[R],++I)}d.pe(K,I);this.g.$d();this.Sg()}Vg(C,H){const I=C.j();if(I.ca()!==this)throw Error("instance added to wrong layer");this.G.push(C);0!==I.Ua()&&(this.Hp=!0);H&&this.sp()&&C.j().Va();this.Sg()}Zaa(C){this.G.includes(C)||(this.G.push(C),0!==C.j().Ua()&&(this.Hp=!0),this.Sg())}Vba(C){const H=C.j();if(H.ca()!==this)throw Error("instance added to wrong layer");this.G.unshift(C);0!==H.Ua()&&(this.Hp=
!0);this.Sg()}yp(C,H){const I=this.G.indexOf(C);0>I||(H&&this.sp()&&C.j().zS(),this.G.splice(I,1),this.Sg(),this.kS())}PS(){this.Hp=!0}kS(){0===this.G.length&&(this.Hp=!1)}NH(C){if(C){C=new Set;for(var H of this.G){var I=H.j().Zk;0<=I&&C.add(I)}H=-1;for(const K of this.G)if(I=K.j(),!(0<=I.Zk)){for(++H;C.has(H);)++H;I.FA(H)}}this.G.sort(x)}j$(){for(const C of this.G)C.H().Ig()||this.g.Lm(C);this.g.$d();d.D(this.G);this.Hp=!1;this.Sg()}Pu(C,H,I,K,Q){const R=this.g.la(),U=this.g.Zc,Z=C.$a,ca=[];for(const ka of this.Kk){var Y=
ka[0];if(H.Of(Y[0],Y[1])){Y=U[ka[1]];if(Y!==C)if(Z){if(!C.aN(Y))continue}else continue;Y=this;var ha=this.g.Ma();this.rc()!==ha&&((Y=ha.wN(this.Da()))||(Y=ha.vu(this.Ja())));ha=this.g.Hi(ka,Y,!1,void 0,void 0,!1,Q);Y.xG(ha);Y=ha.j();Y.Lu(I,K);Y.Va();R.Le(!0);ha.IA();R.Le(!1);ca.push(ha)}}return ca}rc(){return this.Gj}Da(){return this.Ia}Ja(){return this.Wa}I(){return this.g}jl(){return this.g.jl()}sp(){return this.Vfa&&!this.iW}t6(){this.$B=!1}Ac(){return this.iC}Pg(C){C=!!C;this.iC!==C&&(this.iC=
C,this.g.ga())}Wu(C){C=!!C;if(this.Tl!==C){if(this.Tl=C)C=this.rc(),this.ni=C.Vf(),this.oi=C.Wf();this.yk();this.g.ga()}}Wi(C){var H=this.rc();const I=H.LN();H=H.MN();C>H&&(C=H);C<I&&(C=I);this.ni!==C&&(this.ni=C,this.Tl&&(this.yk(),this.g.ga()))}Xi(C){var H=this.rc();const I=H.NN();H=H.KN();C>H&&(C=H);C<I&&(C=I);this.oi!==C&&(this.oi=C,this.Tl&&(this.yk(),this.g.ga()))}Vf(){return this.Tl?this.ni:this.rc().Vf()}Wf(){return this.Tl?this.oi:this.rc().Wf()}kH(){const C=this.rc();return[C.eF(),C.fF()]}XN(C,
H){var I=this.pW;if(0===C)H.wa(I);else{let U=I.Ai(),Z=I.Bi();var K=this.I_(C);const ca=I.width()/K;I=I.height()/K;const [Y,ha]=this.kH();if(.5!==Y||.5!==ha){const ka=this.My();var Q=this.g,R=100/ka;K=(Y-.5)*Q.Mf/R;Q=(ha-.5)*Q.Lf/R;R=this.ia();0!==R&&(w.set(K,Q),w.rotate(R),K=w.Y,Q=w.T);C=d.RD(ka,0,C);U+=d.rd(K,0,C);Z+=d.rd(Q,0,C)}H.set(U-ca/2,Z-I/2,U+ca/2,Z+I/2)}}xf(){return this.wb.Xa}qk(C){C=d.ba(C,0,1);this.wb.Xa!==C&&(this.wb.yh(C),this.uT(),this.g.ga())}uT(){this.JC.wa(this.wb);this.JC.HD()}XE(){return this.JC}Sm(){return this.wb.Mx(1,
1,1,1)}u6(C){this.Kj!==C&&(this.Kj=C,this.yk(),this.g.ga())}q6(C,H){if(this.he!==C||this.ie!==H)if(this.he=C,this.ie=H,this.yk(),this.g.ga(),1!==this.he||1!==this.ie)for(const I of this.G)I.H().GH(!0)}Ve(C){this.ed!==C&&(this.ed=C,this.g.ga())}Ua(){return this.ed}Yc(C){C=d.Xd(C);this.xe!==C&&(this.xe=C,this.yk(),this.g.ga())}ia(){return d.Xd(this.Gj.ia()+this.xe)}m1(){return 0<this.G.length}iH(){return this.UF()&&this.iW?(d.td(N,this.G),N.sort((C,H)=>this.Sda(C,H)),N):this.G}Sda(C,H){var I=this.rc().FT,
K=I[0],Q=I[1];I=I[2];var R=C.j();const U=H.j();H=R.K()-K;C=R.L()-Q;R=R.Ua()-I;K=U.K()-K;Q=U.L()-Q;I=U.Ua()-I;return K*K+Q*Q+I*I-(H*H+C*C+R*R)}K6(C){C=!!C;this.Ln!==C&&(this.Ln=C,this.g.ga())}X5(C){C=!!C;this.rJ!==C&&(this.rJ=C,this.g.ga())}g5(){return!this.I().zm||!this.Jfa}UF(){return!this.g5()}tr(){return this.UF()&&this.rc().efa}ag(C){this.xn!==C&&(this.xn=C,this.g.ga())}Ji(){return this.xn}N2(C){return this===C||this.he===C.he&&this.ie===C.ie&&this.Xb===C.Xb&&this.Kj===C.Kj&&this.xe===C.xe&&this.Vf()===
C.Vf()&&this.Wf()===C.Wf()}ica(C){0!==C.size&&0<d.wh(this.G,C)&&(this.kS(),this.Sg())}Sg(){this.$B=this.oL=!1}Jv(){if(!this.oL){this.G.sort(z);if(this.sp())for(let C=0,H=this.G.length;C<H;++C){const I=this.G[C].j();I.FA(C);this.lt.j3(I.$w)}else for(let C=0,H=this.G.length;C<H;++C)this.G[C].j().FA(C);this.oL=!0}}o3(C,H,I){var K=C.j();H=H.j();if(K.ca()!==this||H.ca()!==this)throw Error("can't arrange Z order unless both objects on this layer");K=K.gk();H=H.gk();if(K===H+(I?1:-1))return!1;d.hga(this.G,
K);K<H&&H--;I&&H++;H===this.G.length?this.G.push(C):this.G.splice(H,0,C);this.Sg();return!0}gba(C,H){const I=[];let K=0,Q=0,R=C.length,U=H.length;for(;K<R&&Q<U;){const Z=C[K],ca=H[Q];Z.j().Zk<ca.j().Zk?(I.push(Z),++K):(I.push(ca),++Q)}for(;K<R;++K)I.push(C[K]);for(;Q<U;++Q)I.push(H[Q]);return I}fba(C){const H=[],I=C.length;for(let K=0;K<I-1;K+=2)H.push(this.gba(C[K],C[K+1]));1===I%2&&H.push(C[I-1]);return H}eba(C){for(;1<C.length;)C=this.fba(C);return C[0]}R$(){this.Jv();d.D(e);this.lt.Kz(this.Kf,
e);return e.length?1===e.length?e[0]:this.eba(e):[]}saa(){return!this.$r()&&!this.Ln}iQ(){return this.Ac()&&0<this.xf()&&(this.m1()||!this.Ln)}$r(){return this.rJ||!this.Sm()||0!==this.Ji()||this.Ra.Cu()}cz(){return this.Ek}D8(C){if(0===C.length)return!0;if(2<=C.length)return!1;C=C[0].nb;return!C.$m()&&!C.Cx&&!C.zI&&this.Sm()}I_(C){if(this.Gj.Ef)return 1;{const H=this.My();return H/(H-C)}}My(){return 100/this.Yj()}yk(){this.hC=this.xJ=!0}oA(C){this.xJ&&(this.B8(C,this.jV),this.xJ=!1);return this.jV}B8(C,
H){const I=this.g;var K=this.rc();const Q=I.Pm();var R=I.lK,U=I.mK,Z=(this.Vf()-R)*this.he+R,ca=(this.Wf()-U)*this.ie+U;this.g.Jn&&(Z=Math.round(Z),ca=Math.round(ca));if(this.tr())h.wa(p,K.FT),h.wa(v,K.Kea),h.wa(t,K.Lea),K=v[0]-p[0],ca=v[1]-p[1],Z=v[2]-p[2],p[0]=(p[0]-R)*this.he+R,p[1]=(p[1]-U)*this.ie+U,p[2]*=Math.max(this.he,this.ie),v[0]=p[0]+K,v[1]=p[1]+ca,v[2]=p[2]+Z,h.set(q,Q,Q,1),h.multiply(p,p,q),h.multiply(v,v,q);else{R=(Z+0)*Q;U=(ca+0)*Q;K=K.Ef?100:this.My();ca=this.ia();const [ha,ka]=this.kH();
if(.5!==ha||.5!==ka){var Y=100/K;Z=(ha-.5)*I.Mf*Q/Y;Y=(ka-.5)*I.Lf*Q/Y;0!==ca&&(w.set(Z,Y),w.rotate(ca),Z=w.Y,Y=w.T);R+=Z;U+=Y}h.set(p,R,U,K);h.set(v,R,U,K-100);0===ca?h.set(t,0,1,0):h.set(t,Math.sin(ca),Math.cos(ca),0)}C.CM(H,p,v,t,I.W.Uf());1!==Q&&(h.set(q,Q,Q,1),n.scale(H,H,q))}Cda(){this.hC=this.AJ=!0}pA(C){this.AJ&&(this.C8(C),this.AJ=!1);return this.vq}C8(C){const H=this.g.W,[I,K]=this.kH();this.Gj.Ef?C.mY(this.vq,H.xg(),H.Uf()):.5===I&&.5===K?n.wa(this.vq,H.hB):C.au(this.vq,H.xg()/H.Uf(),I,
K)}MH(C){C.Tr(this.pA(C));let H;H=this.oA(C);C.Pr(H)}G4(C){this.MH(C);C.Su(this.Ua())}qf(C,H,I){var K=this.g.W;const Q=this.$r();var R=null;let U=null;if(this.g.wF()&&C.Iu()){const Z=K.xN(this);Z&&(U=Z.cE(),C.BG(U))}Q?(R={Ci:this.g.nd},"low"===K.zj&&(R.width=K.xg(),R.height=K.Uf()),R=this.g.mu(R),C.Te(R),this.Ln?C.ry():C.Hc(this.Ml)):(C.Te(H),this.Ln||I||C.Hc(this.Ml));this.Ek=R||H;this.MH(C);C.Su(this.Ua());C.gn(this.UF());this.Yj()>Number.EPSILON&&(this.Jv(),K=this.sp()&&0===this.Ua()&&!this.Hp,
this.tr()?this.W9(C):K?this.X9(C):this.fR(C,this.iH()));C.Su(0);C.fn(0);Q&&(C.gn(!1),this.Y9(C,R,H,I));U&&C.wE(U);this.Ek=null}fR(C,H){const I=this.Kf,K=this.Ek,Q=this.rc().Ef,R=this.rc().$N();let U=null;for(let Z=0,ca=H.length;Z<ca;++Z){const Y=H[Z];if(Y===U)continue;U=Y;const ha=Y.j();ha.Ac()&&ha.pO(I,R,Q)&&this.Gl(Y,ha,C,K)}}W9(C){const H=this.Ek,I=this.tv(),K=this.iH();for(let Z=0,ca=K.length;Z<ca;){var Q=K[Z],R=Q.j();if(!R.Ac()||!R.wr(I)){++Z;continue}(!Q.Ir()||0<R.cf)&&G.push(Q);var U=Q.j().Yf();
E.push(Q);let Y=Z+1;for(;Y<ca;++Y){const ha=K[Y],ka=ha.j();if(ka.Ac()&&ka.wr(I)){if(ka.Yf()!==U)break;ha.Ir()?(0<ka.cf&&G.push(ha),E.push(ha)):G.push(ha)}}if(1!==E.length||E[0].FO()){this.R9(C,E);for(let ha=0,ka=G.length;ha<ka;++ha)Q=G[ha],R=Q.j(),R.CA(!0),this.Gl(Q,R,C,H),R.CA(!1)}else{this.Gl(Q,R,C,H);for(let ha=0,ka=G.length;ha<ka;++ha)R=G[ha],R!==Q&&(U=R.j(),U.ca().Gl(R,U,C,H))}Z=Y;d.D(E);d.D(G)}}R9(C,H){const I=this.Ek;C.NM();for(let R=0,U=H.length;R<U;++R){var K=H[R],Q=K.j();Q.AA(!0);this.eH(K,
Q,C)}C.MM();for(let R=0,U=H.length;R<U;++R)K=H[R],Q=K.j(),this.Gl(K,Q,C,I),Q.AA(!1);C.LM()}X9(C){var H=this.lt;const I=this.Oea,K=this.ofa,Q=this.Kf;I.set(H.$i(Q.S),H.aj(Q.N),H.$i(Q.X),H.aj(Q.V));this.$B&&I.Tc(K)?H=this.GJ:(H=this.R$(),this.$B=!0,K.wa(I));this.fR(C,H);H!==this.GJ&&d.td(this.GJ,H)}Gl(C,H,I,K){H.Cu()?this.U9(C,H,I,K):this.eH(C,H,I)}eH(C,H,I){H=H.Hq;I.qj!==H&&H.XX();C.qf(I)}U9(C,H,I,K){this.T9(C,H,I,K)&&this.MH(I)}T9(C,H,I,K){const Q=H.Ae.fj;if(1===Q.length){const R=Q[0],U=R.nb;if(!U.xfa&&
H.Sm()&&!C.$m())return this.V9(C,H,R,U,I),!1}C=d.TF(I,this.g,C,K,Q,null);I.Su(this.Ua());return C}V9(C,H,I,K,Q){Q.ln(K);Q.ag(H.Ji());K.OA&&this.g.ga();let R=0,U=0;if(K.Wfa){const [Z,ca]=C.Py();R=1/Z;U=1/ca;(K=C.Qy())?f.wa(K):f.set(0,0,0,0)}I=H.Ae.yg(I.Ja());Q.fn(H.Ua());Q.Sr(null,c,f,f,H.Uc(),R,U,this.Xb,this.ia(),this.g.Ag(),I);C.qf(Q)}Y9(C,H,I,K){const Q=this.Ra.fj,R=this.g;if(this.D8(Q)){C.Te(I);if(1===Q.length){var U=Q[0];I=U.nb;C.ln(I);f.set(0,0,1,1);U=this.Ra.yg(U.Ja());C.Sr(null,c,f,f,this.Kf,
1/R.xg(),1/R.Uf(),this.Yj(),this.ia(),R.Ag(),U);I.OA&&R.ga()}else C.Mh();K&&0===this.xn&&this.Sm()&&0===Q.length?C.mE(H):(C.ag(this.xn),C.nk(this.JC),C.du(H));C.Wo(H);R.bn(H)}else d.TF(C,R,this,I,Q)}ZP(C){this.Xb!==C&&(this.Xb=C,this.Gj.jy(),this.yk(),this.g.ga())}Pm(){return this.Yj()*this.g.Pm()}kl(){return this.Yj()*this.g.kl()}Yj(){return(this.Xb*this.Gj.Xb-1)*this.Kj+1}GG(){var C=this.g.lK,H=this.g.mK,I=(this.Vf()-C)*this.he+C,K=(this.Wf()-H)*this.ie+H;C=this.Yj();H=this.g.Mf/C;C=this.g.Lf/C;
I-=H/2;let Q=K-C/2;this.g.Jn&&(I=Math.round(I),Q=Math.round(Q));K=this.pW;K.set(I,Q,I+H,Q+C);H=this.ia();0!==H&&(a.wa(K),a.offset(-K.Ai(),-K.Bi()),b.Kha(a,H),b.DL(a),a.offset(K.Ai(),K.Bi()),K.wa(a));H=this.ed;this.XN(H,this.Kf);this.tr()?this.qY(H,this.oo):this.oo.wa(this.Kf)}qY(C,H){var I=this.g.W,K=I.cd;I=I.Nc;const [Q,R]=this.tg(0,0,C),[U,Z]=this.tg(K,0,C),[ca,Y]=this.tg(K,I,C),[ha,ka]=this.tg(0,I,C);C=Math.min(Q,U,ca,ha);K=Math.min(R,Z,Y,ka);I=Math.max(Q,U,ca,ha);let za=Math.max(R,Z,Y,ka);isFinite(C)||
(C=-Infinity);isFinite(K)||(K=-Infinity);isFinite(I)||(I=Infinity);isFinite(za)||(za=Infinity);H.set(C,K,I,za)}tg(C,H,I=0){return this.G8(C,H,I,this.kl())}G8(C,H,I,K){const Q=this.g;var R=Q.Cb();const U=this.Yj();l.set(r,0,0,Q.Mf/U,Q.Lf/U);C/=K;H=r[3]-H/K;K=this.pA(R);R=this.oA(R);return d.aa.x7(C,H,I,R,K,r,q)?[q[0],q[1]]:[NaN,NaN]}FM(C,H){const I=this.Xb,K=this.Kj,Q=this.he,R=this.ie,U=this.xe;this.ie=this.he=this.Kj=this.Xb=1;this.xe=0;this.yk();C=this.tg(C,H);this.Xb=I;this.Kj=K;this.he=Q;this.ie=
R;this.xe=U;this.yk();return C}ep(C,H){return this.cS(C,H,0,this.kl())}Zm(C,H,I=0){return this.cS(C,H,I,this.Pm()*this.jl())}cS(C,H,I,K){var Q=this.g,R=Q.Cb();const U=this.Yj();l.set(r,0,0,Q.Mf/U,Q.Lf/U);Q=this.pA(R);R=this.oA(R);return d.aa.I4(C,H,I,R,Q,r,q)?[q[0]*K,(r[3]-q[1])*K]:[NaN,NaN]}tv(){this.hC&&(this.oea(),this.hC=!1);return this.oW}oea(){var C=this.g.Cb();const H=this.pA(C);C=this.oA(C);this.oW.nY(C,H)}na(){return{s:this.Xb,a:this.xe,vl:this.Kf.S,vt:this.Kf.N,vr:this.Kf.X,vb:this.Kf.V,
v:this.Ac(),bc:this.Ml.toJSON(),t:this.Ln,sx:this.ni,sy:this.oi,hosp:this.Tl,px:this.he,py:this.ie,c:this.wb.toJSON(),sr:this.Kj,fx:this.Ra.md(),cg:this.eB}}xa(C){this.Xb=C.s;this.xe=C.a;this.Kf.set(C.vl,C.vt,C.vr,C.vb);this.iC=!!C.v;this.Ml.Ao(C.bc);this.Ln=!!C.t;C.hasOwnProperty("sx")&&(this.ni=C.sx);C.hasOwnProperty("sy")&&(this.oi=C.sy);C.hasOwnProperty("hosp")&&(this.Tl=!!C.hosp);this.he=C.px;this.ie=C.py;this.wb.Ao(C.c);this.Kj=C.sr;d.td(this.eB,C.cg);d.td(this.Kk,this.ZV);const H=new Set(this.eB);
let I=0;for(let K=0,Q=this.Kk.length;K<Q;++K)H.has(this.Kk[K][2])||(this.Kk[I]=this.Kk[K],++I);d.pe(this.Kk,I);this.Ra.Wc(C.fx);this.NH(!1);this.Sg()}xG(C){C.j();if(!this.G.includes(C))if(C.zf()){var H=[...C.$k()];H.push(C);H.sort((K,Q)=>{K=K.j().Dq;Q=Q.j().Dq;return K-Q});for(var I of H)if(I.$b())for(const K of I.Jd)H.includes(K)||(C=[...K.$k()],C.push(K),C.sort((Q,R)=>{Q=Q.j().Dq;R=R.j().Dq;return Q-R}),C&&C.length&&H.splice(H.length,0,...C));for(const K of H)this.Vg(K,!0)}else if(this.Vg(C,!0),
C.$b())for(H of C.Jd)if(I=[...H.$k()],I.push(H),I.sort((K,Q)=>{K=K.j().Dq;Q=Q.j().Dq;return K-Q}),I&&I.length)for(const K of I)this.Vg(K,!0)}}}
{"use strict";const d=self.A,a=self.Tf,b=d.C(d.Rect),e=d.C(d.Rect),c=d.C(d.Rect),f=d.C(d.jb),k=self.cl.SD,h=[],l=[],n=[],q=[],r=[];let p=null;function v(t,w){p!==t&&(t.G4(w),p=t)}d.uO=class extends d.ja{constructor(t,w,x){super();this.bb=t;this.g=t.I();this.Ia=x[0];this.Ffa=x[1];this.Efa=x[2];this.U=x[1];this.R=x[2];this.gC=!!x[3];this.Ef=!!x[4];this.mD=x[5];this.nD=x[6];this.WT=x[7];this.dd=null;this.Ya=x[8];this.Wa=w;this.oi=this.ni=0;this.Xb=1;this.xe=0;this.Ns=new Set;this.rh=new Set;this.rx=
new Set;this.xs=[];this.gJ=[];this.efa=!1;this.FT=k.create();this.Kea=k.create();this.Lea=k.create();this.cc=[];this.XU=new Map;this.YU=new Map;this.Ra=d.C(d.gl,this,x[11]);this.Ek=null;this.sq={};this.fq=!0;this.kw=new self.w1(this);this.me=d.C(d.Event.Db);for(const z of x[9])t=d.FF.Ta(this,this.cc.length,z),this.cc.push(t),this.XU.set(t.Da().toLowerCase(),t),this.YU.set(t.Ya,t);for(const z of x[10]){x=this.g.wf(z[1]);if(!x)throw Error("missing nonworld object class");x.Cs||x.JP(z);this.gJ.push(z);
this.DQ(x)}}i(){for(const t of this.cc)t.i();d.D(this.cc);this.rx.clear();this.g=this.bb=this.dd=null}I(){return this.g}Da(){return this.Ia}Ja(){return this.Wa}AN(){let t=this.cc[0].Yj();for(let w=1,x=this.cc.length;w<x;++w){const z=this.cc[w];if(0!==z.he||0!==z.ie)t=Math.min(t,z.Yj())}return t}KR(){return.5*this.g.Mf/this.AN()}LR(){return.5*this.g.Lf/this.AN()}LN(){return this.gC?-Infinity:this.KR()}MN(){return this.gC?Infinity:this.P()-this.KR()}NN(){return this.gC?-Infinity:this.LR()}KN(){return this.gC?
Infinity:this.O()-this.LR()}Wi(t){const w=this.LN(),x=this.MN();t>x&&(t=x);t<w&&(t=w);this.ni!==t&&(this.ni=t,this.xk(),this.g.ga())}Vf(){return this.ni}Xi(t){const w=this.NN(),x=this.KN();t>x&&(t=x);t<w&&(t=w);this.oi!==t&&(this.oi=t,this.xk(),this.g.ga())}Wf(){return this.oi}jy(){this.Wi(this.Vf());this.Xi(this.Wf());for(const t of this.cc)t.Tl&&(t.Wi(t.Vf()),t.Xi(t.Wf()))}N6(t,w){if(this.mD!==t||this.nD!==w)this.mD=t,this.nD=w,this.C2()&&(this.ns(),this.xk(),this.g.ga())}eF(){return this.Ef?.5:
this.mD}fF(){return this.Ef?.5:this.nD}$N(){const t=this.eF(),w=this.fF();return 0>t||1<t||0>w||1<w}aQ(){this.Ef&&(this.Ef=!1,this.ns(),this.xk(),this.g.ga())}YP(){this.Ef||(this.Ef=!0,this.ns(),this.xk(),this.g.ga())}C2(){return!this.Ef}pp(t){this.Xb!==t&&(this.Xb=t,this.xk(),this.jy(),this.g.ga())}Yc(t){t=d.Xd(t);this.xe!==t&&(this.xe=t,this.xk(),this.g.ga())}ia(){return this.xe}P(){return this.U}Ue(t){!isFinite(t)||1>t||(this.U=t)}O(){return this.R}Bf(t){!isFinite(t)||1>t||(this.R=t)}ca(t){return"number"===
typeof t?this.vu(t):this.wN(t.toString())}vu(t){t=d.ba(Math.floor(t),0,this.cc.length-1);return this.cc[t]}wN(t){return this.XU.get(t.toLowerCase())||null}Yy(t){return this.YU.get(t)||null}ns(){for(const t of this.cc)t.Cda()}xk(){for(const t of this.cc)t.yk()}F0(){for(const t of this.cc)if(t.iQ()&&t.saa())return f.Cm(t.Ml),f.yh(1),f;f.Bo(0,0,0,0);return f}DR(){return[...this.Ns]}DQ(t){if(t.$b())for(const w of t.Zg.gm)this.Ns.add(w);else this.Ns.add(t)}U$(){return[...this.rh]}mH(t,w){if(t===this||
!w)return Promise.resolve();t&&(d.PY(this.rh,t.rh),t.rh.clear());t=[];for(const x of this.Ns)this.rh.has(x)||(t.push(x.Br(w)),this.rh.add(x));return Promise.all(t)}async CO(t){if(t.$a)throw Error("cannot load textures for family");var w=this.g.Cb();!w||w.Yo()||this.rh.has(t)||(this.rh.add(t),w=t.Br(w),this.f8(w),await w,t.Gz(),this.g.ga())}f8(t){this.rx.add(t);t.then(()=>this.rx.delete(t)).catch(()=>this.rx.delete(t))}J7(){return Promise.all([...this.rx])}m3(t){if(t.$a||0<t.G.length)throw Error("cannot unload textures");
this.g.Cb()&&this.rh.has(t)&&(this.rh.delete(t),t.hp())}dea(t,w){if(t!==this&&w)for(const x of this.rh)x.Ig()||t.Ns.has(x)||(x.hp(),this.rh.delete(x))}Cv(){this.rh.clear()}async iT(t){const w=this.g,x=this.bb,z=w.la();this.WT&&(this.dd=z.pN(this.WT),this.dd.QH());x.YS(this);this.U=this.Ffa;this.R=this.Efa;this.ni=w.mh/2;this.oi=w.kh/2;this.jy();this.hba(t);this.W8();this.fq||this.Z8();this.PQ(this.xs);this.X8();x.BY();w.$d();const E=this.g.vea;await Promise.all(E);d.D(E);if(!w.Mk){for(const G of this.xs)G.V6();
for(const G of this.xs)G.lT()}d.D(this.xs);await Promise.all([...this.Ns].map(G=>G.NF(this.g.Cb())));t&&(w.Db().dispatchEvent(new d.Event("beforefirstlayoutstart")),await w.Io(new d.Event("beforeprojectstart")));await this.Io(new d.Event("beforelayoutstart"));w.Mk||await w.mb(d.B.lb.F.UO,null,null);await this.Io(new d.Event("afterlayoutstart"));t&&(w.Db().dispatchEvent(new d.Event("afterfirstlayoutstart")),await w.Io(new d.Event("afterprojectstart")));z.Hca(x);await this.J7();this.ns();this.xk();
this.fq=!1}hba(t){for(const x of this.g.Zc)if(!x.$a&&x.Ff)for(const z of x.ma()){const E=z.j();var w=E.ca();w=d.ba(w.Ja(),0,this.cc.length-1);w=this.cc[w];E.Fv(w);w.Zaa(z)}if(!t)for(const x of this.cc)x.NH(!1)}W8(){for(const t of this.cc)t.UY(this.xs),t.GG()}Z8(){let t=!1;for(const [x,z]of Object.entries(this.sq)){const E=this.g.Zy(parseInt(x,10));if(E&&!E.$a&&E.kF()){for(const G of z){var w=null;if(E.Ff&&(w=this.Yy(G.w.l),!w))continue;w=this.g.Hi(E,w,!1,0,0,!0);w.Wc(G);t=!0;this.xs.push(w)}d.D(z)}}for(const x of this.cc)x.NH(!0),
x.Sg();t&&(this.g.$d(),this.g.uS())}PQ(t){for(const x of t){if(!x.$b())continue;const z=x.j(),E=x.No();for(const G of x.H().Zg.gm)if(G!==x.H()){var w=G.ma();w.length>E?x.bs(w[E]):(w=z?this.g.Hi(G,z.ca(),!0,z.K(),z.L(),!0):this.g.Hi(G,null,!0,0,0,!0),this.g.$d(),G.JA(),x.bs(w),t.push(w))}}}X8(){for(const t of this.gJ)this.g.wf(t[1]).$b()||this.g.Hi(t,null,!0)}U8(){const t=[],w=this.gJ;let x=0;for(let z=0,E=w.length;z<E;++z){const G=w[z],N=this.g.wf(G[1]);N.Ig()?N.$b()&&N.Zg.i1()||t.push(this.g.Hi(G,
null,!0)):(w[x]=G,++x)}d.pe(w,x);this.g.$d();this.PQ(t)}Pu(t,w,x,z,E,G){if(x)return x.Pu(t,w,z,E,G);x=[];for(const N of this.cc)x.push(N.Pu(t,w,z,E,G));return x.flat()}async Wda(){const t=this.bb;this.g.Mk||await this.g.mb(d.B.lb.F.Y3,null,null);t.SP(!0);this.g.la().ny();this.fq||this.Rca();for(const w of this.cc)w.j$();for(const w of this.g.Zc)if(!(w.Ig()||w.Ff||w.Kb().Kn||w.$a)){for(const x of w.ma())this.g.Lm(x);this.g.$d()}t.SP(!1);t.Pb()===this&&t.YS(null)}Pca(t){const w=t.H().Ya.toString();
this.sq.hasOwnProperty(w)||(this.sq[w]=[]);this.sq[w].push(t.md())}Rca(){for(const t of this.cc){t.Jv();for(const w of t.G){const x=w.H();!x.Ig()&&x.kF()&&this.Pca(w)}}}m5(){this.sq={};this.fq=!0}cz(){return this.Ek}$r(){return"low"===this.g.W.zj||this.g.gL||"low-latency"===this.g.ws||this.Ra.Cu()||this.g.Cb().Iu()&&this.g.zm}E8(t){return 0===t.length?!0:2<=t.length?!1:!t[0].nb.$m()}qf(t){var w=this.g.W;const x=this.$r();var z=null;x?("low-latency"!==this.g.ws&&(t.Te(null),t.ry()),z={Ci:this.g.nd,
JL:this.g.gL||this.Ra.Cu()},"low"===w.zj&&(z.width=w.xg(),z.height=w.Uf()),z=this.g.mu(z),t.Te(z)):t.Te(null);t.Hc(this.F0());this.g.zm&&t.yY();this.Ek=z;for(var E of this.cc)E.GG(),E.iQ()&&h.push(E);for(let G=0,N=h.length;G<N;){w=h[G];if(w.tr()&&!w.$r()){l.push(w);for(E=G+1;E<N;++E){const C=h[E];if(C.tr()&&!C.$r())l.push(h[E]);else break}if(2<=l.length){this.P9(t,z,l);G+=l.length;d.D(l);continue}d.D(l)}w.qf(t,z,0===G);++G}d.D(h);x&&(t.gn(!1),this.Z9(t,z));this.Ek=null}Z9(t,w){const x=this.Ra.fj,
z=this.g;if(this.E8(x)){t.Te(null);if(1===x.length){var E=x[0];const G=E.nb;t.ln(G);e.set(0,0,1,1);c.set(0,0,z.Mf,z.Lf);E=this.Ra.yg(E.Ja());t.Sr(null,b,e,e,c,1/z.xg(),1/z.Uf(),this.Xb,this.ia(),z.Ag(),E);G.OA&&z.ga()}else t.Mh();0===x.length?t.mE(w):(t.fG(),t.Kr(),t.du(w));t.Wo(w);z.bn(w)}else d.TF(t,z,this,null,x)}P9(t,w,x){var z=this.g.W;t.gn(!0);for(var E of x)E.Jv(),d.Bm(n,E.iH());E=x[0];x=null;this.g.wF()&&t.Iu()&&(z=z.xN(E))&&(x=z.cE(),t.BG(x));for(let H=0,I=n.length;H<I;){E=n[H];var G=E.j(),
N=G.ca();if(G.Ac()&&G.wr(N.tv())){(!E.Ir()||0<G.cf)&&r.push(E);var C=E.j().Yf();q.push(E);for(z=H+1;z<I;++z){const K=n[z],Q=K.j();if(Q.Ac()&&Q.wr(Q.ca().tv())){if(Q.Yf()!==C)break;K.Ir()?(0<Q.cf&&r.push(K),q.push(K)):r.push(K)}}if(1!==q.length||q[0].FO()){this.Q9(t,w,q);for(let K=0,Q=r.length;K<Q;++K)E=r[K],G=E.j(),N=G.ca(),G.CA(!0),v(N,t),N.Gl(E,G,t,w),G.CA(!1)}else{v(N,t);N.Gl(E,G,t,w);for(let K=0,Q=r.length;K<Q;++K)G=r[K],G!==E&&(N=G.j(),C=N.ca(),v(C,t),C.Gl(G,N,t,w))}H=z;d.D(q);d.D(r)}else++H}x&&
t.wE(x);d.D(n);p=null}Q9(t,w,x){t.NM();for(let N=0,C=x.length;N<C;++N){var z=x[N],E=z.j(),G=E.ca();E.AA(!0);v(G,t);G.eH(z,E,t)}t.MM();for(let N=0,C=x.length;N<C;++N)z=x[N],E=z.j(),G=E.ca(),v(G,t),G.Gl(z,E,t,w),E.AA(!1);t.LM()}na(){const t={sx:this.Vf(),sy:this.Wf(),s:this.Xb,a:this.ia(),w:this.P(),h:this.O(),ortho:this.Ef,vpX:this.eF(),vpY:this.fF(),fv:this.fq,persist:this.sq,fx:this.Ra.md(),layers:{}};for(const w of this.cc)t.layers[w.Ya.toString()]=w.na();return t}xa(t){this.ni=t.sx;this.oi=t.sy;
this.Xb=t.s;this.xe=t.a;this.U=t.w;this.R=t.h;this.Ef=!!t.ortho;t.hasOwnProperty("vpX")&&(this.mD=t.vpX);t.hasOwnProperty("vpY")&&(this.nD=t.vpY);this.fq=!!t.fv;this.sq=t.persist;this.Ra.Wc(t.fx);for(const [w,x]of Object.entries(t.layers))(t=this.Yy(parseInt(w,10)))&&t.xa(x);this.ns();this.xk()}Bh(t){t.sg=this.kw;var w=this.g;(w=w.xb&&!w.la().wz())&&a.AG();this.me.dispatchEvent(t);w&&a.bE()}Io(t){t.sg=this.kw;return this.me.yL(t)}}}
{"use strict";const d=self.A;d.T2=class extends d.ja{constructor(a){super();this.g=a;this.hj=[];this.OJ=new Map;this.PJ=new Map;this.Ow=null;this.BK=[];this.xB=null;this.UB=0;this.Uw=null}i(){this.Uw=this.xB=this.Ow=this.g=null;d.D(this.hj);this.OJ.clear();this.PJ.clear();d.D(this.BK)}Ta(a){a=d.C(d.uO,this,this.hj.length,a);this.hj.push(a);this.OJ.set(a.Da().toLowerCase(),a);this.PJ.set(a.Ya,a)}I(){return this.g}T5(a){this.xB=a}m0(){if(this.xB)return this.xB;if(this.hj.length)return this.hj[0];throw Error("no first layout");
}kr(a){return this.OJ.get(a.toLowerCase())||null}TE(a){return this.PJ.get(a)||null}G0(a){a=d.ba(Math.floor(a),0,this.hj.length-1);return this.hj[a]}rc(a){return"number"===typeof a?this.G0(a):this.kr(a.toString())}YS(a){this.Ow=a}Pb(){return this.Ow}*$x(){this.Ow&&(yield this.Ow);this.BK.length&&(yield*this.BK)}SP(a){if(a)this.UB++;else{if(0>=this.UB)throw Error("already unset");this.UB--}}mO(){return 0<this.UB}my(a){this.Uw=a}BY(){this.Uw=null}xr(){return!!this.Uw}op(){const a=this.Pb();a&&a.ns()}np(){const a=
this.Pb();a&&a.xk()}}}
{"use strict";const d=self.A;class a{constructor(){this.Gc=this.pf=null;this.St=this.Tt=this.xi=this.Em=0;this.Pt=new d.Rect;this.Fm=new d.Rect;this.zo=new d.Rect;this.Yx=new d.Rect;this.Qt=new d.Rect;this.clearRect=new d.Rect;this.PD=new d.Rect;this.LW=[null,null];this.vo=0;this.Tq=1;this.Nt=this.Ot=this.Ht=this.Gt=0;this.Gm=this.Sf=this.Yd=this.Zd=this.sg=null;this.wD=this.ZL=this.GD=!1;this.ED=null}Hc(){this.ED=this.Gm=this.Sf=this.Yd=this.Zd=this.sg=this.Gc=this.pf=null}X6(h){h=h.nb;if(h.$m())return!0;
if(this.Yd)return h.Cx&&(0!==this.Sf.ia()||0>this.Sf.P()||0>this.Sf.O())||0!==this.Gt||0!==this.Ht||!this.Sf.Sm()||this.Yd.$m();if(this.Zd)return!this.Zd.Sm()}W6(h){h=h.nb;return h.Cx||h.zI||this.sg&&"low"===this.Gc.W.zj}jr(h){if(0!==h&&1!==h)throw Error("invalid effect target");const l=this.LW;if(!l[h]){var n=this.Gc;const q=n.W;n={Ci:n.nd};"low"===q.zj&&(n.width=q.xg(),n.height=q.Uf());l[h]=q.mu(n)}return l[h]}V4(){const h=this.LW,l=this.Gc.W;h[0]&&(l.bn(h[0]),h[0]=null);h[1]&&(l.bn(h[1]),h[1]=
null)}}const b=[];let e=0;const c=new d.xd;let f=!1;async function k(h,l,n){l=await d.aa.IG.$Y(l,n);l=URL.createObjectURL(l);console.log("[FX] "+h+" "+(n?"":" [to display]")+": ",l)}d.TF=function(h,l,n,q,r,p){e===b.length&&b.push(new a);var v=b[e++];v.pf=h;v.Gc=l;if(n instanceof d.Instance)v.Yd=n,v.Sf=v.Yd.j();else if(n instanceof d.FF)v.Zd=n;else if(n instanceof d.uO)v.sg=n;else throw Error("invalid effects object");n=l.W;v.Gm=q;v.Em=n.xg();v.xi=n.Uf();v.Tt=v.Em;v.St=v.xi;v.vo=0;v.Tq=1;v.Gt=0;v.Ht=
0;v.Qt.set(0,0,v.Em,v.xi);v.clearRect.set(0,0,v.Em,v.xi);v.wD=!1;v.ED=p;v.Yd?(q=v.Sf,v.Ot=q.ca().Pm(),v.Nt=q.ca().ia(),v.Pt.wa(q.Uc())):v.Zd?(q=v.Zd,v.Ot=q.Pm(),v.Nt=q.ia(),v.Pt.wa(q.Kf)):(q=v.sg,v.Ot=q.Xb,v.Nt=q.ia(),v.Pt.set(0,0,v.Em,v.xi));if(v.Yd){{for(let H=0,I=r.length;H<I;++H)q=r[H].nb,v.Gt+=q.XT,v.Ht+=q.YT;var t=v.Sf;q=t.ca();n=q.ia();p=t.Uc();var w=t.Yf();t=t.cf;let [E,G]=q.Zm(p.S,p.N,w),[N,C]=q.Zm(p.X,p.V,w);if(0!==n||0<t){const [H,I]=q.Zm(p.X,p.N,w),[K,Q]=q.Zm(p.S,p.V,w);if(0<t){n=w+t;
const [R,U]=q.Zm(p.S,p.N,n),[Z,ca]=q.Zm(p.X,p.N,n),[Y,ha]=q.Zm(p.X,p.V,n),[ka,za]=q.Zm(p.S,p.V,n);q=Math.min(E,N,H,K,R,Z,Y,ka);N=Math.max(E,N,H,K,R,Z,Y,ka);E=q;q=Math.min(G,C,I,Q,U,ca,ha,za);C=Math.max(G,C,I,Q,U,ca,ha,za);G=q}else q=Math.min(E,N,H,K),N=Math.max(E,N,H,K),E=q,q=Math.min(G,C,I,Q),C=Math.max(G,C,I,Q),G=q}q=v.Qt;p=v.Yx;n=v.zo;w=v.clearRect;t=v.Fm;q.set(E,G,N,C);q.jM(v.xi);p.wa(q);p.al(v.Tt,v.St);p.Wq();q.AD(v.Gt,v.Ht);n.wa(q);n.al(v.Tt,v.St);n.Wq();w.wa(q);w.Gha();w.AD(v.Gt+1,v.Ht+1);
q.ba(0,0,v.Em,v.xi);w.ba(0,0,v.Em,v.xi);t.wa(q);t.al(v.Tt,v.St);t.Wq()}}else v.Fm.set(0,0,v.Em/v.Tt,v.xi/v.St),v.zo.wa(v.Fm),v.Yx.wa(v.Fm),v.Fm.Wq(),v.zo.Wq(),v.Yx.Wq();h.fG();h.Kr();h.Su(0);h.fn(0);v.GD=v.X6(r[0]);v.GD&&(q=v.pf,q.Mh(),p=v.jr(v.vo),q.Te(p),(n=v.ED)&&n.$L&&n.$L(),q.kE(v.clearRect),v.Yd?(q.nk(v.Sf.XE()),q.fn(v.Sf.Yf()),v.Yd.qf(q),q.fn(0)):(n=(v.Zd||v.sg).cz(),v.Zd?q.nk(v.Zd.XE()):q.Kr(),q.du(n),q.Wo(n),v.Gc.W.bn(n)),v.zo.AW(),v.vo=1,v.Tq=0,f&&k("Pre-draw",q,p));h.Kr();q=r.length-1;
v.ZL=v.W6(r[q]);for(let E=0,G=r.length;E<G;++E){n=r[E];p=n.nb;h.ln(p);p.OA&&l.ga();if(0!==E||v.GD){h.IP();var x=void 0,z=void 0;p=v;x=n;z=E===q&&!v.ZL;n=E;w=p.pf;t=p.Gc;0===n&&p.GD&&p.Yd&&p.Qt.jM(p.xi);z?(p.Yd?w.ag(p.Sf.Ji()):p.Zd&&w.ag(p.Zd.Ji()),z=p.Gm,w.Te(z)):(z=p.jr(p.vo),w.Te(z),w.kE(p.clearRect));x=p.Yd?p.Sf.Ae.yg(x.Ja()):(p.Zd||p.sg).Ra.yg(x.Ja());w.Sr(p.Gm,p.zo,p.Fm,p.Yx,p.Pt,1/p.Tt,1/p.St,p.Ot,p.Nt,t.Ag(),x);x=p.jr(p.Tq);w.Ng(x.se());t.W.LP(w);p.wD=!0;c.Sj(p.Qt);w.Gr(c,p.Fm);p.Yd||w.Wo(x);
f&&k("Bounce "+n,w,z)}else{p=v;z=n;n=p.pf;w=p.Gc;t=p.jr(p.vo);n.Te(t);(x=p.ED)&&x.$L&&x.$L();n.kE(p.clearRect);if(p.Yd){const [N,C]=p.Yd.Py();(x=p.Yd.Qy())?p.PD.wa(x):p.PD.set(0,0,0,0);z=p.Sf.Ae.yg(z.Ja());n.Sr(p.Gm,p.zo,p.PD,p.PD,p.Pt,1/N,1/C,p.Ot,p.Nt,w.Ag(),z);n.fn(p.Sf.Yf());p.Yd.qf(n);n.fn(0);p.zo.AW();p.Qt.jM(p.xi)}else z=(p.Zd||p.sg).Ra.yg(z.Ja()),n.Sr(p.Gm,p.zo,p.Fm,p.Yx,p.Pt,1/p.Em,1/p.xi,p.Ot,p.Nt,w.Ag(),z),p=(p.Zd||p.sg).cz(),f&&k("Layer target",n,p),n.du(p),n.Wo(p),w.W.bn(p);f&&k("First bounce",
n,t)}0===v.vo?(v.vo=1,v.Tq=0):(v.vo=0,v.Tq=1)}v.ZL&&(h=v.pf,v.sg?(h.Mh(),h.Te(v.Gm),l=v.jr(v.Tq),h.mE(l),h.Wo(l)):(l=v.Gc.W,"low"===l.zj?(h.Mh(),l.LP(h,l.xg(),l.Uf()),v.wD=!0):h.M5(),v.Yd?h.ag(v.Sf.Ji()):v.Zd&&h.ag(v.Zd.Ji()),h.Te(v.Gm),l=v.jr(v.Tq),h.Ng(l.se()),c.Sj(v.Qt),h.Gr(c,v.Fm),v.Yd||h.Wo(l),f&&k("Post-draw",h,v.Gm)));h=v.wD;v.V4();v.Hc();e--;f=!1;return h}}
{"use strict";const d=self.A;d.p7=class extends d.ja{constructor(a){super();this.g=a;this.wx=d.C(d.Ug);this.Gfa=null;this.fo=[];this.xx=new Map;this.fm=new Map;this.ho=new Map;this.nh=[];this.mg=[];this.Cw=this.us=this.Xp=!1;this.tm=()=>this.Jba();this.qm=()=>this.wH();this.lI=()=>this.tA();this.NJ=()=>this.jba();this.kJ=b=>this.pS(b.instance);this.ZH=()=>this.Il();this.$v=[]}i(){this.a5();this.ZH=this.kJ=this.NJ=this.lI=this.qm=this.tm=null;for(const a of this.fo)a.Tg(),a.i();d.D(this.fo);this.fo=
null;this.wx.i();this.wx=null;d.D(this.nh);this.nh=null;d.D(this.mg);this.mg=null;this.xx.clear();this.xx=null;this.fm.clear();this.fm=null;this.ho.clear();this.ho=null;d.D(this.$v);this.g=this.$v=null}QX(){const a=this.g.Db();a.addEventListener("pretick",this.tm);a.addEventListener("tick2",this.qm);a.addEventListener("beforelayoutchange",this.lI);a.addEventListener("layoutchange",this.NJ);a.addEventListener("instancedestroy",this.kJ);a.addEventListener("afterload",this.ZH)}a5(){const a=this.g.Db();
a.removeEventListener("pretick",this.tm);a.removeEventListener("tick2",this.qm);a.removeEventListener("beforelayoutchange",this.lI);a.removeEventListener("layoutchange",this.NJ);a.removeEventListener("instancedestroy",this.kJ);a.removeEventListener("afterload",this.ZH)}Ta(a){this.wx.yc(a);a=d.de.TY(a,this);this.yc(a);this.A6(a);this.ho.set(a.Da(),0)}nE(a){a=a.SN();var b=this.wx.fa(a);b=d.de.nE(`${a}:${this.ho.get(a)}`,b,this);this.UR(a);this.yc(b);return b}UR(a){this.ho.set(a,this.ho.get(a)+1)}kda(){for(const a of this.fo)a.Ps||
this.UR(a.SN())}J8(){for(const a of this.ho.keys())this.ho.set(a,0)}yc(a){this.fo.push(a);this.xx.set(a.Da().toLowerCase(),a)}Kh(a){a.Ps||(d.Sq(this.fo,a),d.Sq(this.nh,a),d.Sq(this.mg,a),this.xx.delete(a.Da().toLowerCase()),this.b5(a),a.li||a.i())}ua(a){this.g.ua(a,this.Gfa,null)}I(){return this.g}eQ(a,b){this.fm.has(a)||this.fm.set(a,new Set);this.fm.get(a).add(b)}A6(a){for(const b of a.CN())this.eQ(b,a)}b5(a){for(const [b,e]of this.fm.entries())e.has(a)&&(e.delete(a),0===e.size&&this.fm.delete(b))}V0(a){if(this.fm.has(a))return this.fm.get(a)}hz(a){return this.xx.get(a.toLowerCase())||
null}Z4(a){d.Sq(this.mg,a);this.yv()}BP(a){this.mg.includes(a)?(a.Yu(!0),a.$u(!1),a.lG(!1)):(a.Yu(!1),a.$u(!0),a.lG(!1),this.nh.includes(a)||this.nh.push(a));this.iS()}zy(a){a.Yu(!1);a.$u(!1);a.YF();d.Sq(this.nh,a);this.yv()}uy(a){a.Yu(!1);a.$u(!1);a.lG(!0)}LY(a){this.uy(a);a.YF()}Jba(){if(!this.I().Mk&&this.Xp&&!this.us){var a=!1;for(this.Cw=!0;this.nh.length;){var b=this.nh.pop();b.yd();this.mg.push(b)}b=this.g.hr();var e=this.g.Cd;for(const c of this.mg){if(c.$s)continue;const f=c.ae(b,e);!a&&
f&&(a=!0)}this.Cw=!1;a&&this.I().ga()}}wH(){if(!this.I().Mk&&this.Xp&&!this.us){var a;for(const b of this.mg)b.$s&&(a||(a=new Set),this.jS(b),a.add(b));a&&d.wh(this.mg,a);this.yv()}}jS(a){a.li||a.ZN()&&a.gg&&a.Hn&&a.cN()}iS(){this.Xp||(this.Xp=!0)}yv(){this.mg.length||this.nh.length||this.Cw||(this.Xp=!1)}tA(){for(this.us=!0;this.nh.length;)this.zy(this.nh.pop());const a=new Set;for(const b of this.mg)b.tA()&&a.add(b);d.wh(this.mg,a);this.yv();for(const b of this.fo)b.Tj()}jba(){this.us=!1}pS(a){var b=
a.H();if(b=this.V0(b))if(this.g.Mk)this.$v.push(a);else for(const e of b)e.Ps||(e.li?this.Kh(e):e.ZN()||(this.jS(e),this.Kh(e)))}Il(){for(const a of this.$v)this.pS(a);d.D(this.$v)}na(){return{timelinesJson:this.Wca(),scheduledTimelinesJson:this.Uca(),playingTimelinesJson:this.Sca(),hasRuntimeListeners:this.Xp,changingLayout:this.us,isTickingTimelines:this.Cw}}xa(a){a&&(this.J8(),this.Raa(a.timelinesJson),this.Oaa(a.scheduledTimelinesJson),this.Maa(a.playingTimelinesJson),this.Xp=!a.hasRuntimeListeners,
this.us=!!a.changingLayout,this.Cw=!!a.isTickingTimelines,this.kda(),this.iS(),this.yv())}Wca(){return this.fo.map(a=>a.na())}Raa(a){for(const b of a){a=this.hz(b.name);if(!a){a=this.T$(b);if(!a)continue;a=this.hz(a);a=this.nE(a)}a.xa(b);a.r1()||this.Kh(a)}}T$(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}Uca(){return this.MS(this.nh)}Oaa(a){this.eS(a,this.nh)}Sca(){return this.MS(this.mg)}Maa(a){this.eS(a,this.mg)}vaa(a,b){for(const e of b)if(e===a.Da())return!0;return!1}MS(a){return a.map(b=>
b.Da())}eS(a,b){var e=new Set;for(const c of b)this.vaa(c,a)||e.add(c);d.wh(b,e);e=c=>f=>f.Da()===c;for(const c of a)(a=this.hz(c))&&(b.find(e(c))||b.push(a))}}}
{"use strict";const d=self.A;d.de=class extends d.ja{constructor(a,b,e){super();this.g=e.I();this.Hb=e;this.jf=b;this.Ia=a;this.Tb=[];for(const c of this.jf.jz().Tha())this.Tb.push(d.pQ.Ta(this,c));this.GC=this.Ww=null;this.Xn=d.C(d.Ju);this.Xn.Set(0);this.hm=1;this.Jj=0;this.pj=1;this.Hn=this.Xl=this.ZB=!1;this.gg=!0;this.$s=this.li=!1;this.vs=-1;this.Fn=this.Up=this.Ps=this.KB=!1;this.RU=NaN;this.qh=[""];this.aW="";this.RK=!1}static TY(a,b){const e=b.wx.fa(a[0]);a=d.C(d.de,a[0],e,b);a.i6();return a}static nE(a,
b,e){return d.C(d.de,a,b,e)}static get H7(){return 1}static get wl(){return d.QL(1)}i(){if(!this.li){this.Hb.zy(this);this.Hb.LY(this);for(const a of this.Tb)a.i();d.D(this.Tb);this.Tb=null;this.Xn.i();this.jf=this.Hb=this.g=this.Xn=null;this.li=!0;this.GC=this.Ww=null}}I(){return this.g}bF(a,b,e){const c=[];for(const f of this.Tb){if(a!==f.Ga())continue;const k=f.ol(e);k&&b.constructor===k.wd().constructor&&c.push(k)}return c}r1(){return!!this.Tb.length}Uz(a){this.Ia=a}Da(){return this.Ia}SN(){return this.jf.Da()}Pd(){return this.jf.Pd()}xu(){return this.jf.xu()}Ki(){return this.jf.Ki()}Oi(){return this.jf.Oi()}pk(a){for(const b of this.Tb)b.pk(a)}lr(){return this.jf.lr()}nr(){return this.jf.nr()}Qm(){return this.jf.Qm()}Xu(a){return this.hm=
a}Hh(){return this.IsPlaying()?0<this.hm:!0}DN(){this.Ww||(this.Ww=new Promise(a=>{this.GC=a}))}YF(){this.Ww&&(this.GC(),this.GC=this.Ww=null)}Ur(a){this.qh=d.de.S$(a);this.RK=!0}$O(){d.B.Lc.F.qp(this);this.Hb.ua(d.B.Lc.F.Qna);this.Hb.ua(d.B.Lc.F.Rna);this.Hb.ua(d.B.Lc.F.Sna);this.Hb.ua(d.B.Lc.F.Hna);d.B.Lc.F.qp(null)}OO(){this.vs=this.g.Sk}cN(){this.Up||(this.Up=!0,d.B.Lc.F.qp(this),this.Hb.ua(d.B.Lc.F.Nna),this.Hb.ua(d.B.Lc.F.Ona),this.Hb.ua(d.B.Lc.F.Pna),this.Hb.ua(d.B.Lc.F.Gna),d.B.Lc.F.qp(null))}Yu(a){this.ZB=
a}iO(){return this.vs===this.g.Sk}IsPlaying(a=!1){return this.iO()||this.Xl&&!a?!0:this.ZB}js(){return this.IsPlaying(!0)}$u(a){this.Xl=a}HP(a){this.gg=a;a=this.Ha();if(0>=a||a>=this.Pd())this.gg=!0}lG(a){this.$s=a}kG(a){this.KB=a}i6(){this.Ps=!0}Ha(){return this.Xn.fa()}Wr(a){const b=this.Ha();this.we(a);this.HP(!1);this.gg||this.kG(!0);if(this.js()||this.Xl||!this.Hn)this.js()||this.Xl||this.Hn?this.js()?this.Tg():this.Xl&&(this.Hb.zy(this),this.RP()):this.RP();this.rA(a,!1,!0,!0,b)&&this.I().ga();
this.sS()}we(a){0>a?this.Xn.Set(0):a>=this.Pd()?this.Xn.Set(this.Pd()):this.Xn.Set(a)}sS(){d.B.Lc&&this.constructor===d.de&&(d.B.Lc.F.qp(this),this.Hb.ua(d.B.Lc.F.Kna),this.Hb.ua(d.B.Lc.F.Lna),this.Hb.ua(d.B.Lc.F.Mna),d.B.Lc.F.qp(null))}Play(a=!1){return this.li||this.Xl?!1:this.js()&&this.iO()?this.$ca():this.js()||!this.gg&&!a&&!this.KB?!1:this.ada()}$ca(){this.kG(!1);this.Hb.Z4(this);this.Hb.BP(this);this.DN();return!0}ada(){this.kG(!1);this.Hb.BP(this);this.DN();return!0}Tg(a=!1){this.li||(this.HP(a),
this.Hb.uy(this),this.gg&&this.YF())}Gd(a=!0,b=!1){if(!this.li)if(!this.js()&&this.Xl)this.Hb.zy(this);else if(!this.gg){this.Tg(!0);this.Hh()?this.we(0):this.we(this.Pd());var e=this.Ha();b=b?this.laa(e):this.rA(e,!1,!1,!0);a&&this.sS();b&&a&&this.I().ga()}}vP(){this.Gd(!1,!0)}laa(a){this.rA(a,!1,!1,!0,NaN,!1,!0)}tA(){if(this.li)return!0;if(this.s1())return!1;this.Hb.uy(this);this.vP();return!0}RP(){this.yd(!0)}yd(a){if(!this.$s)if(a){this.Fn=this.Hn=!0;for(const b of this.Tb)b.yd()}else if(this.Yu(!0),
this.$u(!1),this.$O(),this.gg){this.vs=-1;this.Jj=0;this.pj=1;this.Up=this.gg=!1;this.Fn=this.Hn=!0;this.Hh()?this.we(0):this.we(this.Pd());for(const b of this.Tb)b.yd()}else{this.Fn=!0;for(const b of this.Tb)b.bg()}}ae(a,b){if(0!==a||0!==this.RU){this.RU=a;var e=this.Ha();this.we(e+a*b*this.hm);var c;this.lr()||this.nr()?this.lr()&&!this.nr()?c=this.Waa():!this.lr()&&this.nr()?c=this.Tba():this.lr()&&this.nr()&&(c=this.Xaa()):c=this.Qda();if(c){for(const f of this.Tb)f.R5();this.Tg(!0);this.OO();
return!0}return this.rA(this.Ha(),!0,!1,!1,e,!0)}}rA(a,b=!1,e=!1,c=!1,f=NaN,k=!1,h=!1){let l=!1;for(var n of this.Tb)n.Zt();for(const q of this.Tb){n=a;if("number"===typeof f){const r=this.Ha()-q.Xf(),p=f-q.Xf();0>r&&0<p&&(n=q.Xf(),this.we(n))}n=q.sb(n,b,e,c,this.Fn,h);!l&&n&&(l=!0)}for(const q of this.Tb)q.Yt();this.Fn&&k&&(this.Fn=!1);return l}Qda(){if(this.Hh()){if(this.Ha()>=this.Pd())if(this.pj<this.Qm())this.pj++,this.we(0);else return this.we(this.Pd()),!0}else if(0>=this.Ha())if(this.pj<this.Qm())this.pj++,
this.we(this.Pd());else return this.we(0),!0;return!1}Waa(){this.Hh()?this.Ha()>=this.Pd()&&this.we(0):0>=this.Ha()&&this.we(this.Pd());return!1}Tba(){if(this.Hh()){if(this.Ha()>=this.Pd())if(this.we(this.Pd()),this.Xu(-1*this.hm),1===this.Jj)if(this.pj<this.Qm())this.pj++,this.Jj=0;else return!0;else 0===this.Jj&&(this.Jj=1)}else if(0>=this.Ha())if(this.we(0),this.Xu(-1*this.hm),1===this.Jj)if(this.pj<this.Qm())this.pj++,this.Jj=0;else return!0;else 0===this.Jj&&(this.Jj=1);return!1}Xaa(){this.Hh()?
this.Ha()>=this.Pd()&&(this.we(this.Pd()),this.Xu(-1*this.hm)):0>=this.Ha()&&(this.we(0),this.Xu(-1*this.hm));return!1}Tj(){for(const a of this.Tb)a.Tj()}DY(){for(const a of this.Tb)a.AY()}D6(a,b){if(b)for(const e of this.Tb)if(e.Ih()){if(a){if(e.Wj()!==a)continue}else if(e.l1())continue;e.f6(b);this.Hb.eQ(b.H(),this);break}}ZN(){return this.Tb.some(a=>a.Ih()?a.hE():!0)}s1(){return this.Tb.some(a=>a.Ih()?a.hE()?(a=a.H())?a.Ig():!1:!1:!1)}ol(a){for(const b of this.Tb)for(const e of b.Fc)if(e.Sa.Id===
a)return e}VN(a){for(const b of this.Tb)if(a===b.Ga())return b;return null}CN(){const a=[];for(const b of this.Tb)a.push(b.H());return a.filter(b=>b)}na(){return{tracksJson:this.Yca(),name:this.Ia,playheadTime:this.Ha(),playbackRate:this.hm,pingPongState:this.Jj,currentRepeatCount:this.pj,isPlaying:this.ZB,isScheduled:this.Xl,initialStateSet:this.Hn,finishedTriggers:this.Up,complete:this.gg,released:this.li,markedForRemoval:this.$s,completedTick:this.vs,implicitPause:this.KB,isTemplate:this.Ps,tags:this.qh.join(" "),
stringTags:this.aW,tagsChanged:this.RK,firstTick:this.Fn}}xa(a){a&&(this.Saa(a.tracksJson),this.Ia=a.name,this.Xn.Set(a.playheadTime),this.hm=a.playbackRate,this.Jj=a.pingPongState,this.pj=a.currentRepeatCount,this.ZB=!!a.isPlaying,this.Xl=!!a.isScheduled,this.Hn=!!a.initialStateSet,this.Up=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.gg=!!a.complete,this.li=!!a.released,this.$s=!!a.markedForRemoval,this.vs=a.completedTick,this.KB=!!a.implicitPause,this.Ps=!!a.isTemplate,this.qh=
a.tags.split(" "),this.aW=a.stringTags,this.RK=!!a.tagsChanged,this.Fn=!!a.firstTick)}Yca(){return this.Tb.map(a=>a.na())}Saa(a){a.forEach((b,e)=>{this.Tb[e].xa(b)});this.Tb.filter(b=>b.hE())}static S$(a){if(d.Xo(a))return a.slice(0);if(d.Ri(a))return a.split(" ")}}}
{"use strict";const d=self.A;d.pQ=class extends d.ja{constructor(a,b){super();this.eo=a;this.Zb=b;this.kf=b.jz();this.em=this.Ul=NaN;this.qb=this.fh=null;this.gq=0<b.Xf();this.Rp=this.Os=!1;this.kq=null;this.Pc=this.Zb.Mi().Pc;this.Fc=[];for(const e of this.Zb.Qe().zha())this.Fc.push(d.gb.Ta(this,e))}static Ta(a,b){return d.C(d.pQ,a,b)}i(){this.Pc=null;for(const a of this.Fc)a.i();d.D(this.Fc);this.kq=this.Zb=this.qb=this.fh=this.eo=this.Fc=null}Tj(){for(const a of this.Fc)a.Tj();this.qb=this.fh=
null}sc(){return this.eo}I(){return this.eo.I()}E0(){return this.Pc?this.Pc:this.Pc=this.Zb.Mi().Pc}ol(a){for(const b of this.Fc)if(b.Sa.Id===a)return b}Cr(){this.fh||this.Ga()}tl(){return this.fh?!this.fh.jO():!1}hE(){if(!this.Ih())return!1;const a=this.I().qe(this.tu());return a?!a.jO():!1}H(){if(this.Ih()){var a=this.WE();if(-1!==a)return this.I().wf(a)}}AY(){this.fh=null;this.Ul=-1;this.qb=null;this.em=-1}l1(){return!!this.fh}Ga(){return this.fh&&this.tl()?this.fh:this.fh=this.I().qe(this.tu())}f6(a){if(this.fh!==
a){this.Tj();this.fh=a;this.em=a.H().Ja();this.Ul=a.pb;this.qb=a.j();for(const k of this.Aha()){const h=k.Nha;switch(k.yha.Od()){case "instance-variable":var b=a.H(),e=b.x0(k.name),c=b.uN(e);b=b.uu(e);c===k.name&&b===k.type&&h.C7(e);break;case "behavior":var f=k.rL;e=this.H();c=a.H();b=h.Ch(c);f&&b&&(f=f.Da(),e.ou(f),c.ou(f),h.z7(b.Ya))}}}}*Aha(){for(const e of this.Fc){var a=e.wd(),b=this.H();const c={yha:e,Nha:a};switch(e.Od()){case "world-instance":c.Bva=e.Sa.Id;break;case "instance-variable":a=
a.ir();c.name=b.uN(a);c.type=b.uu(a);break;case "effect":b=a.JE(b.Ra);c.Tta=b;break;case "behavior":b=a.Ch(b);c.rL=b;break;case "plugin":c.xva=b.Kb()}yield c}}j(){if(this.qb&&this.tl())return this.qb;const a=this.Ga();a&&(this.qb=a.j());return this.qb}tu(){return this.Ul?this.Ul:this.Zb.tu()}Ki(){return this.Zb.Ki()}Oi(){return this.Zb.Oi()}Wj(){return this.Zb.Wj()}Xf(){return this.Zb.Xf()}nl(){return this.Zb.nl()}pk(a){for(const b of this.E0())b.pk(a);for(const b of this.Fc)b.pk(a)}ml(){return this.Zb.ml()}Cl(a){this.Zb.Cl(a)}WE(){return isNaN(this.em)?
this.Zb.WE():this.em}bk(){const a=this.Ga();return a&&a.ka.bp()?a.ka.bk():this.Zb.bk()}ak(){const a=this.Ga();return a&&a.ka.bp()?a.ka.ak():this.Zb.ak()}fk(){return this.Zb.fk()}Da(){return this.Zb.Da()}Ih(){return 0===this.fk()}yd(){this.Cr();if(this.tl()||!this.Ih()){for(var a of this.Fc)a.yd();a=this.sc().Hh()?0:this.nl();this.kq=this.SE(a);this.Rp=this.Os=!1;this.sb(a)}}bg(){this.Cr();if(this.tl()||!this.Ih()){this.eo.Hh();var a=this.eo.Ha()-this.Xf();this.kq=this.SE(a);for(const b of this.Fc)b.bg()}}R5(){if(!(this.sc().gg||
(this.Cr(),!this.tl()&&this.Ih()||this.gq))){const a=this.eo.Ha();a>=this.Xf()+this.nl()?this.sb(this.nl(),!0,!1,!0):0>=a&&this.sb(0,!0,!1,!0)}}Zt(){for(const a of this.Fc)a.Zt()}sb(a,b=!1,e=!1,c=!1,f=!1,k=!1){this.Cr();if(!this.tl()&&this.Ih()||k&&this.Ih()&&this.H().Ig())return!1;a-=this.Xf();if(0>a)return!1;this.l3(a,b);this.DO(a,b,f);f=k=!1;for(const h of this.Fc){const l=h.sb(a,e,!1,c);k||0===(l&d.de.H7)||(k=!0);f||0===(l&d.de.wl)||(f=!0)}this.k3(a,b);k&&(a=this.j())&&a.Va();return f}Yt(){for(const a of this.Fc)a.Yt()}l3(a,
b){if(b&&this.gq&&!this.Os){if(this.sc().Hh()){if(0>a)return;for(const e of this.Fc)e.sb(0,!1,!1,!0)}else{if(a>this.nl())return;for(const e of this.Fc)e.sb(this.nl(),!1,!1,!0)}for(const e of this.Fc)e.yd();this.Os=!0}}k3(a,b){if(b&&this.gq&&!this.Rp)if(this.sc().Hh()){if(a>=this.nl()){for(const e of this.Fc)e.sb(this.nl(),!1,!1,!0);this.Rp=!0}}else if(0>=a){for(const e of this.Fc)e.sb(0,!1,!1,!0);this.Rp=!0}}DO(a,b,e){!e&&b&&(a=this.SE(a),a!==this.kq&&this.TO(a),this.kq=a)}SE(a){const b=this.sc();
let e=this.kf.B0(a,this.Zb);return e?e:b.Hh()?this.kf.l0(a,this.Zb):this.kf.k0(a,this.Zb)}TO(a){if(d.B.Lc&&this.sc().constructor===d.de){var b=this.sc();d.B.Lc.F.qp(b);d.B.Lc.F.L6(a);a=b.Hb;a.ua(d.B.Lc.F.Fna);a.ua(d.B.Lc.F.TO);d.B.Lc.F.qp(null);d.B.Lc.F.L6(null)}}LX(){return this.Zb.Mi().FX()}iZ(a){this.Zb.Mi().hZ(a)}sE(a){for(const b of this.Fc)b.sE(a)}mp(){for(const a of this.Fc)a.mp()}Fi(){this.Cr();if(this.tl()||!this.Ih())for(const a of this.Fc)a.Fi()}Gi(){this.Cr();if(this.tl()||!this.Ih()){var a=
!1;for(const b of this.Fc){const e=b.Gi();!a&&e&&(a=!0)}a&&(a=this.LX(),a.Wr(this.sc().Ha()),a.pk("noease"),a.Cl(!0),a.Ur(""))}}na(){var a=this.Ga();a=a?a.pb:this.tu();return{propertyTracksJson:this.Tca(),lastKeyframeDataItemJson:this.Qca(),initialStateOfNestedSet:this.Os,endStateOfNestedSet:this.Rp,instanceUid:a}}xa(a){a&&(this.Naa(a.propertyTracksJson),this.Laa(a.lastKeyframeDataItemJson),this.Iaa(a.instanceUid),this.Os=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.Os=a.initialStateOfNestedSet),
this.Rp=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.Rp=a.endStateOfNestedSet))}Qca(){return this.Zb.Mi().D0(this.kq)}Tca(){return this.Fc.map(a=>a.na())}Naa(a){a.forEach((b,e)=>{this.Fc[e].xa(b)})}Iaa(a){if(d.Um(a)&&(a=this.I().qe(a))){var b=this.sc();b.DY();b.D6(this.Zb.Wj(),a)}}Laa(a){this.kq=this.Zb.Mi().C0(a)}}}
{"use strict";const d=self.A;d.gb=class extends d.ja{constructor(a,b){super();this.qd=a;this.Sa=b;this.Ad=b.Qe();this.Mj=this.wd();this.Qc=this.Sa.Ni().Qc}static Ta(a,b){return d.C(d.gb,a,b)}i(){this.qd=null;this.Mj&&(this.Mj.i(),this.Mj=null);this.Ad=this.Sa=this.Qc=null}Qe(){return this.Ad}sc(){return this.qd.sc()}I(){return this.qd.I()}Ga(){return this.qd.Ga()}wd(){if(this.Mj)return this.Mj;let a;switch(this.Sa.Od()){case "behavior":a=new d.gb.gY(this);break;case "effect":a=new d.gb.q_(this);break;
case "instance-variable":a=new d.gb.o2(this);break;case "plugin":a=new d.gb.C4(this);break;case "world-instance":a=new d.gb.R7(this);break;case "value":a=new d.gb.F7(this)}return this.Mj=a}Od(){return this.Sa.Od()}wu(){return this.Sa.fk()}ZE(){return this.Qe().Uy(this.Sa).fk()}ml(){return this.Sa.ml()}Cl(a){this.Sa.Cl(a)}Ki(){return this.Sa.Ki()}Oi(){return this.Sa.Oi()}pk(a){for(const b of this.GN())b.pk(a)}GN(){return this.Qc?this.Qc:this.Qc=this.Sa.Ni().Qc}Tj(){this.wd().Tj()}Ne(){return this.wd().Ne()}yd(){this.wd().yd()}bg(){this.wd().bg()}Zt(){this.wd().Zt()}sb(a,
b=!1,e=!1,c=!1){var f=this.Sa;let k=this.Ad.YE(a,f);k?f=this.Ad.rN(a,f):(k=this.Ad.NE(a,f),f=this.Ad.ME(a,f));return this.wd().sb(a,k,f,b,e,c)}Yt(){this.wd().Yt()}static RN(a,b){const e=b.Sa;b=b.Ad;let c=b.YE(a,e);c||(c=b.NE(a,e));return c}static Z_(a,b){const e=b.Sa;b=b.Ad;return b.YE(a,e)?b.rN(a,e):b.ME(a,e)}NX(){return this.Sa.Ni().GX()}sE(a){this.Sa.Ni().jZ(a)}mp(){this.wd().mp()}Fi(){if(this.wd().Fi()){const a=this.Ad.Uy(this.Sa),b=this.wd().Ne();a.EP(b)}}Gi(){const a=this.wd().Gi();a&&this.OX();
this.wd().ty();return a}OX(){const a=this.sc().Ha(),b=this.wd(),e=d.gb.RN(a,this),c=this.NX();c.fQ(e.fk());c.Wr(a);c.pk(e.Nm());c.Cl(!0);c.Og(b.mz());c.EP(b.Ne())}na(){return{sourceAdapterJson:this.wd().na()}}xa(a){a&&this.wd().xa(a.sourceAdapterJson)}}}
{"use strict";const d=self.A.gb;d.Ti=class{constructor(a){this.oa=a;this.im=null}i(){this.im&&(this.im.i(),this.im=null);this.oa=null}ol(){return this.oa}Tj(){this.im&&this.im.Tj()}Cg(){return this.im?this.im:this.im=this.c9()}ir(){}Ja(){return this.ir()}zu(){}yd(){this.Cg().yd()}bg(){this.Cg().bg()}Zt(){this.Cg().$q()}sb(a,b,e,c,f,k){const h=d.Ti.vN(this.oa)(a,b,e,this.oa);return f?h:this.Cg().Eo(a,h,b,e,c,k)}Yt(){this.Cg().Zq()}mp(){var a=this.Cg();a.mi=a.Ne()}ty(){this.Cg().ty()}Ne(){return this.Cg().Ne()}Fi(){return this.Cg().Fi()}Gi(){return this.Cg().Gi()}mz(){return d.Ti.mz(this.oa)}c9(){const a=
this.oa.wu();switch(this.oa.ZE()){case "combo":case "boolean":case "text":case "string":return new d.Zf.GO(this);case "numeric":case "number":case "angle":return"combo"===a?new d.Zf.GO(this):new d.Zf.r3(this);case "color":case "offsetColor":return new d.Zf.HY(this)}}na(){return{propertyAdapterJson:this.Cg().na()}}xa(a){a&&this.Cg().xa(a.propertyAdapterJson)}static mz(a){const b=a.qd.sc().Ha(),e=d.RN(b,a),c=d.Z_(b,a);return d.Ti.vN(a)(b,e,c,a)}static Vc(){let a=(void 0).Oi();"combo"===(void 0).wu()&&
(a="absolute");switch(a){case "relative":return NaN}}static vN(a){switch(a.ZE()){case "numeric":return d.IF.sb;case "angle":return d.vM.sb;case "boolean":return d.AM.sb;case "color":return d.JM.sb;case "text":return d.nQ.sb}}static $0(a){switch(a.ZE()){case "numeric":return d.IF.El;case "angle":return d.vM.El;case "boolean":return d.AM.El;case "color":return d.JM.El;case "text":return d.nQ.El}}}}{"use strict";const d=self.A;class a extends d.gb.Ti{constructor(b){super(b)}}d.gb.R7=a}
{"use strict";const d=self.A;class a extends d.gb.Ti{constructor(b){super(b);this.Bx=NaN}ir(){return this.oa.Sa.oh[0]}Ja(){return this.Bx?this.Bx:super.Ja()}zu(){return this.oa.qd.Ga()}C7(b){this.oa.Sa.oh[0]!==b&&(this.Bx=b)}sb(b,e,c,f,k,h){if(this.Cg().EM(e.Vc()))return super.sb(b,e,c,f,k,h)}na(){return Object.assign(super.na(),{index:this.Bx})}xa(b){b&&(super.xa(b),this.Bx=b.index)}}d.gb.o2=a}
{"use strict";const d=self.A;class a extends d.gb.Ti{constructor(b){super(b);this.Ya=NaN}ir(){return this.oa.Sa.oh[1]}zu(){var b=this.oa.Sa,e=this.Ya?this.Ya:b.oh[0];b=this.oa.qd.Ga();e=b.gN(e);return b.$c[e].ka}Ch(b){return b.Ky(this.oa.Sa.oh[2])}z7(b){this.oa.Sa.oh[0]!==b&&(this.Ya=b)}sb(b,e,c,f,k,h){const l=this.oa.qd.Ga();if(this.Ch(l.H()))return super.sb(b,e,c,f,k,h)}na(){return Object.assign(super.na(),{sid:this.Ya})}xa(b){b&&(super.xa(b),this.Ya=b.sid)}}d.gb.gY=a}
{"use strict";const d=self.A;class a extends d.gb.Ti{constructor(b){super(b)}ir(){return this.oa.Sa.oh[1]}zu(){const b=this.oa.qd.j().Ae,e=this.JE(b.Ra).Ja();return b.Gu(e)?b.yg(e):null}JE(b){return b.ll(this.oa.Sa.oh[0])}sb(b,e,c,f,k,h){if(this.paa())return super.sb(b,e,c,f,k,h)}paa(){const b=this.oa.qd.j().Ae,e=this.JE(b.Ra);if(e)return b.Gu(e.Ja())}}d.gb.q_=a}
{"use strict";const d=self.A;class a extends d.gb.Ti{constructor(b){super(b)}ir(){return this.oa.Sa.oh[0]}zu(){return this.oa.qd.Ga().ka}sb(b,e,c,f,k,h){var l=this.oa.qd;const n=l.H().Kb();l=l.Ga().H().Kb();if(n===l)return super.sb(b,e,c,f,k,h)}}d.gb.C4=a}
{"use strict";const d=self.A;class a extends d.gb.Ti{constructor(b){super(b);this.Dd=0;this.LB=!1}yd(){const b=this.oa.Qe();let e=this.oa.Sa;e=b.Uy(e);this.Dd=e.tc()}bg(){}Vc(){this.LB||this.oa.sb(0);return this.Dd}sb(b,e,c){const f=d.gb.IF.sb;this.Dd=f(b,e,c,this.oa);this.LB=!0}mp(){}ty(){}Ne(){return this.Dd}Fi(){return!1}Gi(){return!1}na(){return{value:this.Dd,init:this.LB}}xa(b){b&&(this.Dd=b.value,this.LB=b.hasOwnProperty("init")?b.init:!0)}}d.gb.F7=a}"use strict";
function ic(d,a,b){return d.oa.sc().Hh()?a():b()}function jc(d,a,b){return"relative"===d.oa.Oi()?a():b()}function kc(d,a,b){d.Is?(d.Is=!1,a()):b()}function lc(d){if(d.ut)return d.ut;d.ut=d.Mj.zu();return d.ut}function mc(d,a,b,e,c,f){switch(d.oa.Od()){case "behavior":return a();case "effect":return b();case "instance-variable":return e();case "plugin":return c();case "world-instance":return f()}}
function nc(d,a=!1){const b=[];for(const e of d){d=e.qd.Xf();for(const c of e.GN())a&&0===c.Ha()?b.push({time:d+c.Ha(),value:c.Sh}):a||b.push({time:d+c.Ha(),value:c.Sh})}return b.sort((e,c)=>e.time-c.time)}function oc(d,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=d)return a[b];return null}
self.A.gb.Zf=class{constructor(d){this.Mj=d;this.oa=d.ol();this.qb=this.oa.qd.j();this.Id=this.oa.Sa.Id;this.Is=!1;this.ut=this.mi=null}i(){this.ut=this.mi=this.qb=this.oa=this.Mj=null}Tj(){this.ut=this.mi=this.qb=null}ol(){return this.oa}j(){return this.qb?this.qb:this.qb=this.oa.qd.j()}yd(){}bg(){}ty(){this.mi=null}Ne(){}Fi(){}Gi(){}EM(d){return typeof this.Hl()===typeof d}$q(){}Eo(){}Zq(){}up(){return ic(this,()=>{const d=this.oa.Sa;return this.oa.Qe().Uy(d)},()=>{const d=this.oa.Sa;return this.oa.Qe().Oo(d)}).Sh}fA(){const d=
this.oa.sc().Ha()-this.oa.qd.Xf();return ic(this,()=>{const a=this.oa.Sa;return this.oa.Qe().NE(d,a)},()=>{const a=this.oa.Sa,b=this.oa.Qe(),e=b.ME(d,a);return e?e:b.Oo(a)}).Sh}jA(){}Ph(){return this.Mj.Ja()}na(){return{firstAbsoluteUpdate:this.Is,saveState:this.mi}}xa(d){d&&(this.Is=d.firstAbsoluteUpdate,this.mi=d.saveState)}};
{"use strict";const d=self.A,a=new Map,b=[0,0,0];class e extends d.gb.Zf{constructor(c){super(c)}yd(){}bg(){}Ne(){const c=this.oa.Od(),f=lc(this),k=this.Ph();switch(c){case "behavior":return this.HA(f.zc(k));case "effect":return this.HA(f[k]);case "plugin":return this.HA(f.zc(k));case "world-instance":return this.HA(this.Hl())}}Fi(){const c=this.up();return!this.OQ(c,this.Hl())}Gi(){return d.te(this.mi)?!1:!this.OQ(this.mi,this.Hl())}OQ(c,f){return c.uo(f)}up(){const c=super.up();return this.kA(c)}fA(){const c=
super.fA();return this.kA(c)}jA(){}HA(c){return d.Vm(c,d.jb)?c.toArray().slice(0,3):c.slice(0,3)}kA(c){return d.Vm(c,d.jb)?c:new d.jb(c[0],c[1],c[2],1)}EM(){return!0}$q(){var c=this.oa.Ga();a.has(c)||a.set(c,new Map);c=a.get(c);const f=this.oa.Od();c.has(f)||c.set(f,new Map);c=c.get(f);c.has(this.Id)||c.set(this.Id,{cy:!1,color:new d.jb(0,0,0,1)})}OR(c,f,k){c=a.get(c).get(f).get(k);c.cy=!0;return c.color}Eo(c,f){var k=this.oa.sc(),h=this.oa.qd;c=this.oa.Ga();var l=this.oa.wd();const n=this.oa.Od();
l=k.bF(c,l,this.Id);if(1<l.length){if(l=nc(l,!0),k=k.Ha(),k=oc(k,l))if(l=k.time-h.Xf(),0===l)this.OR(c,n,this.Id).rW(f[0],f[1],f[2]);else{if(0>l)return;k=f[0];h=f[1];f=f[2];l=this.oa.sb(l,!1,!0);k=d.jb.tE(k,l[0]);h=d.jb.tE(h,l[1]);f=d.jb.tE(f,l[2]);this.OR(c,n,this.Id).rW(k,h,f)}}else this.Ak(f[0],f[1],f[2]);return d.de.wl}Zq(){const c=this.oa.Ga();if(a.has(c)){var f=a.get(c),k=this.oa.Od();if(f.has(k)){var h=f.get(k);if(h.has(this.Id)){var l=h.get(this.Id),n=l.color;l.cy&&this.Ak(n.cb,n.hb,n.ab);
0===h.size&&f.delete(k);0===f.size&&a.delete(c)}}}}Hl(){const c=this.oa.Od(),f=lc(this),k=this.Ph();switch(c){case "behavior":return this.kA(f.zc(k));case "effect":return f[k].clone();case "plugin":return this.kA(f.zc(k));case "world-instance":return this.j().wb.clone()}}Ak(c,f,k){const h=this.oa.Od(),l=lc(this),n=this.Ph();switch(h){case "behavior":b[0]=c;b[1]=f;b[2]=k;l.Mg(n,b);break;case "effect":l[n].MD(c,f,k);break;case "plugin":b[0]=c;b[1]=f;b[2]=k;l.Mg(n,b);break;case "world-instance":this.j().M6(c,
f,k)}}na(){}xa(){}}d.gb.Zf.HY=e}
{"use strict";const d=self.A;class a extends d.gb.Zf{constructor(b){super(b)}yd(){}bg(){}Ne(){return this.Hl()}Fi(){return this.up()!==this.Ne()}Gi(){return d.te(this.mi)?!1:this.mi!==this.Ne()}Eo(b,e){const c=d.gb.Ti.$0(this.oa);var f=this.oa;const k=f.qd,h=f.Od();var l=f.sc();const n=k.Ga();f=f.wd();l=l.bF(n,f,this.Id);1<l.length&&(l=nc(l),b=oc(b+k.Xf(),l))&&(e=b.value);if(c(this.Ph(),lc(this),e,h))switch(this.Ak(e),h){case "plugin":return d.de.wl}}Hl(){const b=this.oa.Od(),e=lc(this),c=this.Ph();
switch(b){case "behavior":return e.zc(c);case "effect":return e[c];case "instance-variable":return e.Pe(c);case "plugin":return e.zc(c)}}Ak(b){const e=this.oa.Od(),c=lc(this),f=this.Ph();switch(e){case "behavior":c.Mg(f,b);break;case "effect":c[f]=b;break;case "instance-variable":c.jn(f,b);break;case "plugin":c.Mg(f,b)}}}d.gb.Zf.GO=a}
{"use strict";const d=self.A,a=new Map,b=(c,f,k,h,l)=>a.set(c,{Mha:f,Yfa:k,Lga:h,round:l});b("offsetX",(c,f)=>c.y3(f),(c,f)=>c.Qg(f),c=>c.K(),!0);b("offsetY",(c,f)=>c.z3(f),(c,f)=>c.Rg(f),c=>c.L(),!0);b("offsetWidth",(c,f)=>c.IO(f),(c,f)=>c.Ue(f),c=>c.P(),!0);b("offsetHeight",(c,f)=>c.HO(f),(c,f)=>c.Bf(f),c=>c.O(),!0);b("offsetAngle",(c,f)=>c.u3(f),(c,f)=>c.Yc(f),c=>c.ia(),!1);b("offsetOpacity",(c,f,k,h)=>{k=c.xf()+f;0===h.Oc?(1<k?h.Oc+=k-1:0>k&&(h.Oc+=k),c.v3(f)):(c=c.xf()+f,0<f&&0<h.Oc?1<c&&(h.Oc+=
c-1):0<f&&0>h.Oc?(h.Oc+=f,0<h.Oc&&(h.Oc=0)):0>f&&0<h.Oc?(h.Oc+=f,0>h.Oc&&(h.Oc=0)):0>f&&0>h.Oc&&0>c&&(h.Oc+=c))},(c,f)=>{c.qk(f)},c=>c.xf(),!1);b("offsetOriginX",(c,f)=>c.w3(f),(c,f)=>c.Qr(f),c=>c.Zj(),!1);b("offsetOriginY",(c,f)=>c.x3(f),(c,f)=>c.Rr(f),c=>c.$j(),!1);b("offsetZElevation",(c,f)=>c.A3(f),(c,f)=>c.Ve(f),c=>c.Ua(),!0);b("offsetScaleX",(c,f,k)=>{const h=0>c.P()?-1:1;c.IO(k.bk()*h*f)},(c,f,k)=>{c.Ue(k.bk()*f)},(c,f)=>{const k=0>c.P()?-1:1;if(c.Ro()){var h=c.Fa(),l=f.sc().VN(h.Ga());l?h=
h.P()/l.bk():(l=h.Ga().ka,h=l.bp()?h.P()/l.bk():1);return c.P()*k/(f.bk()*h)}return c.P()*k/f.bk()},!1);b("offsetScaleY",(c,f,k)=>{const h=0>c.O()?-1:1;c.HO(k.ak()*h*f)},(c,f,k)=>{c.Bf(k.ak()*f)},(c,f)=>{const k=0>c.O()?-1:1;if(c.Qo()){var h=c.Fa(),l=f.sc().VN(h.Ga());l?h=h.O()/l.ak():(l=h.Ga().ka,h=l.bp()?h.O()/l.ak():1);return c.O()*k/(f.ak()*h)}return c.O()*k/f.ak()},!1);class e extends d.gb.Zf{constructor(c){super(c);this.Oc=this.kb=0;this.lJ=this.nJ=this.mJ=null;this.KV=!1;this.Oq=d.Vm(this.oa.sc(),
d.u7)?new d.gb.Zf.t3(this):new d.gb.Zf.s3(this);c=this.oa.Sa.Id;"world-instance"===this.oa.Od()&&(c=a.get(c),this.mJ=c.Lga,this.nJ=c.Mha,this.lJ=c.Yfa,this.KV=c.round)}i(){this.lJ=this.nJ=this.mJ=this.Oq=null;super.i()}UP(c){this.kb=c}yd(){const c=this.Oq.yd();"number"===typeof c&&(this.kb=c);this.Oc=0}bg(){const c=this.Oq.bg();"number"===typeof c&&(this.kb=c)}Ne(){return this.Hl()}Fi(){return this.up()!==this.Ne()}Gi(){return d.te(this.mi)?!1:this.mi!==this.Ne()}$q(){this.Oq.$q()}Eo(c,f,k,h,l,n,
q){return this.Oq.Eo(c,f,k,h,l,n,q)}Zq(){this.Oq.Zq()}Hl(){const c=lc(this),f=this.Ph(),k=this.oa.qd,h=this.j();return mc(this,()=>c.zc(f),()=>c[f],()=>c.Pe(f),()=>c.zc(f),()=>this.mJ(h,k))}Ak(c){const f=lc(this),k=this.Ph(),h=this.oa.qd,l=this.j();mc(this,()=>f.KF(k,c),()=>f[k]+=c,()=>f.g6(k,c),()=>f.KF(k,c),()=>this.nJ(l,c,h,this))}fT(c){const f=lc(this),k=this.Ph(),h=this.oa.qd,l=this.j();mc(this,()=>f.Mg(k,c),()=>f[k]=c,()=>f.jn(k,c),()=>f.Mg(k,c),()=>this.lJ(l,c,h))}ks(c,f,k,h,l,n){this.Oq.ks(c,
f,k,h,l,n)}Fl(c,f,k){c=(c.toString().split(".")[1]||"").length;const h=this.Hl();this.Ak((0===c?this.KV?Math.round(h):h:d.toFixed(h,c))-h,f,k)}na(){return Object.assign(super.na(),{v:this.kb,a:this.Oc})}xa(c){c&&(super.xa(c),this.kb=c.v,this.Oc=c.a)}}d.gb.Zf.r3=e}
{"use strict";const d=self.A,a=new Map;class b{constructor(e){this.Fe=e}i(){this.Fe=null}yd(){const e=this.Fe,c=this.Fe.ol();return jc(e,()=>ic(e,()=>0,()=>d.gb.Ti.mz(c)),()=>{})}bg(){}$q(){const e=this.Fe,c=this.Fe.ol(),f=c.Sa.Id;jc(e,()=>{},()=>{var k=c.Ga();a.has(k)||a.set(k,new Map);k=a.get(k);const h=c.Od();k.has(h)||k.set(h,new Map);k=k.get(h);k.has(f)||k.set(f,{cy:!1,value:0})})}NR(e,c,f){e=a.get(e).get(c).get(f);e.cy=!0;return e}Eo(e,c,f,k,h,l){const n=this.Fe,q=this.Fe.ol(),r=q.Sa.Id;jc(n,
()=>{const p=n.kb;n.Ak(c-p,f,k);l&&this.ks(e,f,k,h,p,c);n.UP(c)},()=>{var p=q.sc(),v=q.qd;const t=q.Ga();var w=q.wd();const x=q.Od();w=p.bF(t,w,r);if(1<w.length){if(w=nc(w,!0),p=p.Ha(),p=oc(p,w))v=p.time-v.Xf(),0===v?this.NR(t,x,r).value+=c:0>v||(v=q.sb(v,!1,!0),this.NR(t,x,r).value+=c-v)}else n.fT(c)});return mc(n,()=>{},()=>d.de.wl,()=>{},()=>d.de.wl,()=>d.de.wl)}Zq(){const e=this.Fe,c=this.Fe.ol(),f=c.Sa.Id;jc(e,()=>{},()=>{const k=c.Ga();if(a.has(k)){var h=a.get(k),l=c.Od();if(h.has(l)){var n=
h.get(l);if(n.has(f)){var q=n.get(f),r=q.value;q.cy&&e.fT(r);n.delete(f);0===n.size&&h.delete(l);0===h.size&&a.delete(k)}}}})}ks(e,c,f,k,h,l){const n=this.Fe;k||(c&&e===c.Ha()?n.Fl(c.tc(),c,f):f&&e===f.Ha()?n.Fl(f.tc(),c,f):0===l-h&&n.Fl(c.tc(),c,f))}}d.gb.Zf.s3=b}
{"use strict";const d=self.A;class a{constructor(b){this.Fe=b}i(){this.Fe=null}yd(){const b=this.Fe;b.Is=!0;return this.jA(b.up())}bg(){const b=this.Fe;if(b.up()!==b.fA())return b.Is=!0,this.jA(b.fA())}$q(){}Eo(b,e,c,f,k,h){const l=this.Fe,n=l.kb;jc(l,()=>{l.Ak(e-n,c,f);h&&this.ks(b,c,f,k,n,e)},()=>{kc(l,()=>{l.Ak(n,c,f)},()=>{l.Ak(e-n,c,f);h&&this.ks(b,c,f,k,n,e)})});l.UP(e);return mc(l,()=>{},()=>d.de.wl,()=>{},()=>d.de.wl,()=>d.de.wl)}Zq(){}jA(b){return b-this.Fe.Ne()}ks(b,e,c,f,k,h){const l=this.Fe;
f?e&&b===e.Ha()?l.Fl(e.tc(),e,c):c&&b===c.Ha()?l.Fl(c.tc(),e,c):c||l.Fl(e.tc(),e,c):e&&b===e.Ha()?l.Fl(e.tc(),e,c):c&&b===c.Ha()?l.Fl(c.tc(),e,c):0===h-k&&l.Fl(e.tc(),e,c)}}d.gb.Zf.t3=a}
{"use strict";const d=self.A,a=self.eu;d.gb.IF=class{constructor(){}static El(b,e,c,f){let k;switch(f){case "behavior":k=e.zc(b);break;case "effect":k=e[b];break;case "instance-variable":k=e.Pe(b);break;case "plugin":k=e.zc(b)}return k===c?!1:!0}static sb(b,e,c,f){if(!c)return c=f.Sa,c=f.Qe().Oo(c),c.tc();var k=f.Ki();"default"===k&&(k="continuous");"combo"===f.wu()&&(k="discrete");if("discrete"===k)return e.tc();if("continuous"===k||"step"===k){"step"===k&&(k=f.sc().xu(),0!==k&&(k=1/k,b=Math.floor(b*
k)/k));var h=e.Ha();const l=c.Ha();k=e.tc();const n=c.tc();if(k===n)return k;b=d.normalize(b,h,l);const q=e.Nm();e=e.BE("cubic-bezier");c=c.BE("cubic-bezier");e&&e.mx&&c&&c.rB?(h=l-h,h=a.Po(q)(h*b,0,1,h),h=a.Po("cubicbezier")(h,k,k+e.MK,n+c.JI,n)):h=a.Po(q)((l-h)*b,k,n-k,l-h);return"integer"===f.wu()?Math.floor(h):h}}}}
{"use strict";const d=self.A;d.gb.vM=class{constructor(){}static El(a,b,e,c){let f;switch(c){case "behavior":f=b.zc(a);break;case "effect":f=b[a];break;case "instance-variable":f=b.Pe(a);break;case "plugin":f=b.zc(a)}return f===e?!1:!0}static sb(a,b,e,c){if(!e)return b=c.Sa,b=c.Qe().Oo(b),b.tc();var f=c.Ki();"default"===f&&(f="continuous");"combo"===c.wu()&&(f="discrete");if("discrete"===f)return b.tc();if("continuous"===f||"step"===f){"step"===f&&(c=c.sc().xu(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const k=b.Ha(),h=e.Ha();c=b.tc();e=e.tc();if(f=b.BE("angle")){const l=f.AK;if(c===e&&0===l)return c;a=d.normalize(a,k,h);b=self.eu.Po(b.Nm())(a,0,1,1);switch(f.CI){case "closest":return d.pL(c,e,b,l);case "clockwise":return d.ega(c,e,b,l);case "anti-clockwise":return d.dga(c,e,b,l)}}else{if(c===e)return c;a=d.normalize(a,k,h);b=self.eu.Po(b.Nm());return d.pL(c,e,b(a,0,1,1))}}}}}"use strict";
self.A.gb.AM=class{constructor(){}static El(d,a,b,e){let c;switch(e){case "behavior":c=a.zc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.Pe(d);break;case "plugin":c=a.zc(d)}return!!c===!!b?!1:!0}static sb(d,a,b,e){return b?a.tc()?1:0:(d=e.Sa,d=e.Qe().Oo(d),d.tc()?1:0)}};
{"use strict";const d=self.A,a=[0,0,0],b=[0,0,0],e=[0,0,0];d.gb.JM=class{constructor(){}static El(c,f,k,h){let l;switch(h){case "behavior":l=f.zc(c);break;case "effect":l=f[c];break;case "instance-variable":l=f.Pe(c);break;case "plugin":l=f.zc(c)}Array.isArray(k)?(a[0]=k[0],a[1]=k[1],a[2]=k[2]):(e.FD(k),a[0]=Math.floor(255*e.cb),a[1]=Math.floor(255*e.hb),a[2]=Math.floor(255*e.ab));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(e.FD(l),b[0]=Math.floor(255*e.cb),b[1]=Math.floor(255*e.hb),b[2]=Math.floor(255*
e.ab));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static sb(c,f,k,h){if(!k)return f=h.Sa,f=h.Qe().Oo(f),f=f.tc(),a[0]=f[0],a[1]=f[1],a[2]=f[2],a;var l=h.Ki();"default"===l&&(l="continuous");if("discrete"===l)return f=f.tc(),a[0]=f[0],a[1]=f[1],a[2]=f[2],a;if("continuous"===l||"step"===l){"step"===l&&(h=h.sc().xu(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=f.Ha();l=k.Ha();var n=f.tc(),q=k.tc();const r=d.normalize(c,h,l);c=n[0];k=n[1];n=n[2];const p=q[0],v=q[1];q=q[2];f=self.eu.Po(f.Nm());h=l-h;
l=h*r;a[0]=c===p?c:f(l,c,p-c,h);a[1]=k===v?k:f(l,k,v-k,h);a[2]=n===q?n:f(l,n,q-n,h);return a}}}}"use strict";self.A.gb.nQ=class{constructor(){}static El(d,a,b,e){let c;switch(e){case "behavior":c=a.zc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.Pe(d);break;case "plugin":c=a.zc(d)}return c===b?!1:!0}static sb(d,a,b,e){return b?a.tc():(d=e.Sa,d=e.Qe().Oo(d),d.tc())}};
{"use strict";const d=self.A;d.Ug=class{constructor(){this.ux=new Map}i(){for(const a of this.ux.values())a.i();this.ux.clear();this.ux=null}yc(a){a=new d.o7(a);this.ux.set(a.Da(),a)}fa(a){return this.ux.get(a)}static mv(a,b,e,c){if(b)for(const f of b)d.Ug.RQ("create",f,a,e,c)}static wv(a,b,e,c){a.length?b.forEach((f,k)=>{a[k].xa(f)}):b.forEach(f=>{d.Ug.RQ("load",f,a,e,c)})}static RQ(a,b,e,c,f){let k;if("function"===typeof c)switch(a){case "load":k=new c(null,f);break;case "create":k=new c(b,f)}else if("object"===
typeof c)switch(c=c.map.get(b[c.dX]),a){case "load":k=new c(null,f);break;case "create":k=new c(b,f)}switch(a){case "load":k.xa(b);e.push(k);break;case "create":"function"!==typeof k.ml||k.ml()?e.push(k):k.i()}}}}
{"use strict";const d=self.A;d.o7=class{constructor(a){this.Ia="";this.eD=NaN;this.aD=0;this.og=this.kg="default";this.FC=this.vC=!1;this.mt=1;this.kf=null;a&&(this.Ia=a[0],this.eD=a[1],this.aD=a[2],this.kg=a[3],this.og=a[4],this.vC=!!a[6],this.FC=!!a[7],this.mt=a[8],this.kf=new d.oQ(a[5],this))}i(){this.kf.i();this.kf=null}jz(){this.kf||(this.kf=new d.oQ(null,this));return this.kf}Da(){return this.Ia}Uz(a){this.Ia=a}Pd(){return this.eD}xu(){return this.aD}Ki(){return this.kg}Oi(){return this.og}lr(){return this.vC}nr(){return this.FC}Qm(){return this.mt}na(){return{trackDataJson:this.kf.na(),
name:this.Ia,totalTime:this.eD,step:this.aD,interpolationMode:this.kg,resultMode:this.og,loop:this.vC,pingPong:this.FC,repeatCount:this.mt}}xa(a){a&&(this.jz().xa(a.trackDataJson),this.Ia=a.name,this.eD=a.totalTime,this.aD=a.step,this.kg=a.interpolationMode,this.og=a.resultMode,this.vC=a.loop,this.FC=a.pingPong,this.mt=a.repeatCount)}}}
{"use strict";const d=self.A;class a{constructor(b,e){this.kf=e;this.tn=this.OB=null;this.em=this.Ul=NaN;this.og=this.kg="default";this.bh=!1;this.Ad=this.Ej=null;this.df="";this.ct=null;this.NK=0;this.tC=this.kf.jf.Pd();this.Ba=0;this.Ia="";b&&(b[0]&&(this.OB=b[0],this.Ul=b[0][2],this.em=b[0][1]),this.kg=b[1],this.og=b[2],this.bh=!!b[3],b[6]&&(this.df=b[6]),b[7]&&(this.ct=b[7],this.NK=b[7][0],this.tC=b[7][1]),b[8]&&(this.tn=b[8]),b[8]&&(this.tn=b[8]),b[9]&&(this.Ba=b[9]),b[10]&&(this.Ia=b[10]),this.Ej=
new d.tO(b[4],this),this.Ad=new d.hP(b[5],this))}i(){this.kf=this.OB=null;this.Ej&&(this.Ej.i(),this.Ej=null);this.Ad&&(this.Ad.i(),this.Ad=null);this.ct=null}jz(){return this.kf}Mi(){this.Ej||(this.Ej=new d.tO(null,this));return this.Ej}Qe(){this.Ad||(this.Ad=new d.hP(null,this));return this.Ad}WE(){return this.em}tu(){return this.Ul}Ki(){return this.kg}Oi(){return this.og}ml(){return this.bh}Cl(b){this.bh=!!b}Wj(){return this.df}Xf(){return this.NK}nl(){return this.tC}bk(){return this.tn[0]}ak(){this.tn||
(this.tn=[]);return this.tn[1]}fk(){return this.Ba}Da(){return this.Ia}na(){return{keyframeDataJson:this.Ej.na(),propertyTrackDataJson:this.Ad.na(),instanceData:this.OB,additionalInstanceData:this.tn,instanceUid:this.Ul,objectClassIndex:this.em,interpolationMode:this.kg,resultMode:this.og,enabled:this.bh,id:this.df,nestedData:this.ct,type:this.Ba,name:this.Ia}}xa(b){b&&(this.OB=b.instanceData,this.Ul=b.instanceUid,this.em=b.objectClassIndex,this.kg=b.interpolationMode,this.og=b.resultMode,this.bh=
b.enabled,this.df=b.id,this.Ba=b.type?b.type:0,this.Ba=b.name?b.name:"",this.tC=this.kf.jf.Pd(),b.nestedData&&(this.ct=b.nestedData,this.NK=this.ct[0],this.tC=this.ct[1]),b.additionalInstanceData&&(this.tn=b.additionalInstanceData),this.Mi().xa(b.keyframeDataJson),this.Qe().xa(b.propertyTrackDataJson))}}d.oQ=class{constructor(b,e){this.jf=e;this.Lq=[];this.Hw=new Map;d.Ug.mv(this.Lq,b,a,this)}i(){this.jf=null;for(const b of this.Lq)b.i();d.D(this.Lq);this.Lq=null;this.Hw.clear();this.Hw=null}B0(b,
e){const c=this.Hw.get(e);if(c&&c.has(b))return c.get(b);for(const f of e.Mi().RW())if(f.Ha()===b)return c||this.Hw.set(e,new Map),this.Hw.get(e).set(b,f),f}k0(b,e){for(const c of e.Mi().RW())if(c.Ha()>=b)return c}l0(b,e){for(const c of e.Mi().eha())if(c.Ha()<=b)return c}*Tha(){for(const b of this.Lq)yield b}na(){return{trackDataItemsJson:this.Lq.map(b=>b.na())}}xa(b){b&&d.Ug.wv(this.Lq,b.trackDataItemsJson,a,this)}}}
{"use strict";const d=self.A;class a{constructor(b,e){this.Ad=e;this.TC="";this.Ba=this.Id=this.oh=null;this.WJ=this.$J=NaN;this.og=this.kg="default";this.bh=!1;this.Qk=null;b&&(this.TC=b[0][0],this.oh=b[0].slice(1),this.Id=b[1],this.Ba=b[2],this.$J=b[3],this.WJ=b[4],this.kg=b[5],this.og=b[6],this.bh=!!b[7],this.Qk=new d.gP(b[8],this))}i(){this.Qk.i();this.oh=this.Ad=this.Qk=null}Qe(){return this.Ad}Ni(){this.Qk||(this.Qk=new d.gP(null,this));return this.Qk}Od(){return this.TC}fk(){return this.Ba}fQ(b){this.Ba=
b}Ki(){return this.kg}Oi(){return this.og}ml(){return this.bh}Cl(b){this.bh=!!b}na(){return{propertyKeyframeDataJson:this.Qk.na(),sourceAdapterId:this.TC,sourceAdapterArguments:this.oh,property:this.Id,type:this.Ba,min:this.$J,max:this.WJ,interpolationMode:this.kg,resultMode:this.og,enabled:this.bh}}xa(b){b&&(this.TC=b.sourceAdapterId,this.oh=b.sourceAdapterArguments,this.Id=b.property,this.Ba=b.type,this.$J=b.min,this.WJ=b.max,this.kg=b.interpolationMode,this.og=b.resultMode,this.bh=b.enabled,this.Ni().xa(b.propertyKeyframeDataJson))}}
d.hP=class{constructor(b,e){this.Zb=e;this.xq=[];this.Yw=new Map;d.Ug.mv(this.xq,b,a,this)}i(){this.Zb=null;for(const b of this.xq)b.i();d.D(this.xq);this.xq=null;this.Yw.clear();this.Yw=null}Uy(b){return b.Ni().Qc[0]}Oo(b){return b.Ni().Qc.ne(-1)}YE(b,e){const c=this.Yw.get(e);if(c&&c.has(b))return c.get(b);const f=e.Ni();for(const k of f.bM())if(k.Ha()===b)return c||this.Yw.set(e,new Map),this.Yw.get(e).set(b,k),k}rN(b,e){e=e.Ni();for(const c of e.bM())if(c.Ha()>b)return c}ME(b,e){e=e.Ni();for(const c of e.bM())if(c.Ha()>=
b)return c}NE(b,e){e=e.Ni();for(const c of e.xha())if(c.Ha()<=b)return c}*zha(){for(const b of this.xq)yield b}na(){return{propertyTrackDataItemsJson:this.xq.map(b=>b.na())}}xa(b){b&&d.Ug.wv(this.xq,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const d=self.A;class a{constructor(b,e){this.Ej=e;this.Sc=-1;this.sj="noease";this.tj=!1;this.Nw=this.qh=null;b&&(this.Sc=b[0],this.sj=b[1],this.tj=!!b[2],this.qh=(b=b[3])?b.split(" "):[],this.Nw=new Set(this.qh.map(c=>c.toLowerCase())))}i(){this.Ej=null;d.D(this.qh);this.qh=null;this.Nw.clear();this.Nw=null}Mi(){return this.Ej}Ha(){return this.Sc}Wr(b){this.Sc=b}Nm(){return this.sj}pk(b){this.sj=b}ml(){return this.tj}Cl(b){this.tj=!!b}Ur(b){this.qh=b?b.split(" "):[];this.Nw=new Set(this.qh.map(e=>
e.toLowerCase()))}na(){return{time:this.Sc,ease:this.sj,enable:this.tj,tags:this.qh}}xa(b){b&&(this.Sc=b.time,this.sj=b.ease,this.tj=b.enable,this.qh=b.tags,this.Nw=new Set(this.qh.map(e=>e.toLowerCase())))}}d.tO=class{constructor(b,e){this.Zb=e;this.Pc=[];d.Ug.mv(this.Pc,b,a,this)}i(){this.Zb=null;for(const b of this.Pc)b.i();d.D(this.Pc);this.Pc=null}FX(){const b=new a(null,this);this.Pc.push(b);return b}hZ(b){for(const e of this.Pc){if(!b(e))continue;const c=this.Pc.indexOf(e);-1!==c&&(e.i(),this.Pc.splice(c,
1))}this.b7()}b7(){this.Pc.sort((b,e)=>b.Ha()-e.Ha())}D0(b){return this.Pc.indexOf(b)}C0(b){return this.Pc[b]}*RW(){for(const b of this.Pc)yield b}*eha(){for(let b=this.Pc.length-1;0<=b;b--)yield this.Pc[b]}na(){return{keyframeDataItemsJson:this.Pc.map(b=>b.na())}}xa(b){b&&d.Ug.wv(this.Pc,b.keyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.A;class a{constructor(b,e){this.Qk=e;this.Sh=this.Dd=null;this.Ba="";this.Sc=NaN;this.sj="noease";this.tj=!1;this.gj=null;b&&(this.Dd=b[0][0],this.Sh=b[0][1],this.Ba=b[0][2],this.Sc=b[1],this.sj=b[2],this.tj=!!b[3],this.gj=null,b[4]&&(this.gj=new d.SX(b[4],this)))}i(){this.Qk=null;this.gj&&(this.gj.i(),this.gj=null)}Vc(){return this.Dd}Og(b){"color"===this.Ba&&d.Um(b)?(this.Dd[0]=d.$E(b),this.Dd[1]=d.PE(b),this.Dd[2]=d.DE(b)):this.Dd=b}EP(b){"color"===this.Ba&&d.Um(b)?(this.Sh[0]=
d.$E(b),this.Sh[1]=d.PE(b),this.Sh[2]=d.DE(b)):this.Sh=b}tc(){const b=this.Qk.Sa.Oi();if("relative"===b)return this.Vc();if("absolute"===b)return this.Sh}fk(){return this.Ba}fQ(b){this.Ba=b}Ha(){return this.Sc}Wr(b){this.Sc=b}Nm(){return this.sj}pk(b){this.sj=b}ml(){return this.tj}Cl(b){this.tj=!!b}BE(b){if(this.gj)for(const e of this.gj.Zfa())if(e.Wj()===b)return e}na(){const b=this.gj;return{addonDataJson:b?b.na():b,value:this.Dd,aValue:this.Sh,type:this.Ba,time:this.Sc,ease:this.sj,enable:this.tj}}xa(b){b&&
(b.addonDataJson&&this.gj.tta(b.addonDataJson),this.Dd=b.value,this.Sh=b.aValue,this.Ba=b.type,this.Sc=b.time,this.sj=b.ease,this.tj=b.enable)}}d.gP=class{constructor(b,e){this.Sa=e;this.Qc=[];d.Ug.mv(this.Qc,b,a,this)}i(){this.Sa=null;for(const b of this.Qc)b.i();d.D(this.Qc);this.Qc=null}GX(){const b=new a(null,this);this.Qc.push(b);return b}jZ(b){for(const e of this.Qc){if(!b(e))continue;const c=this.Qc.indexOf(e);-1!==c&&(e.i(),this.Qc.splice(c,1))}this.c7()}c7(){this.Qc.sort((b,e)=>b.Ha()-e.Ha())}*bM(){for(const b of this.Qc)yield b}*xha(){for(let b=
this.Qc.length-1;0<=b;b--)yield this.Qc[b]}na(){return{propertyKeyframeDataItemsJson:this.Qc.map(b=>b.na())}}xa(b){b&&d.Ug.wv(this.Qc,b.propertyKeyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.A;class a{constructor(c,f){this.gj=f;this.df=c[0];this.Rl=c[1]}i(){this.Rl=this.gj=null}Wj(){return this.df}na(){return{id:this.df,data:this.Rl}}xa(c){c&&(this.df=c.id,this.Rl=c.data)}}class b extends a{constructor(c,f){super(c,f);this.MK=this.Rl[0];this.mx=!!this.Rl[1];this.JI=this.Rl[2];this.rB=!!this.Rl[3]}i(){super.i()}na(){return Object.assign(super.na(),{startAnchor:this.MK,startEnable:!!this.mx,endAnchor:this.JI,endEnable:!!this.rB})}xa(c){c&&(super.xa(c),this.MK=
c.startAnchor,this.mx=!!c.startEnable,this.JI=c.endAnchor,this.rB=!!c.endEnable)}}class e extends a{constructor(c,f){super(c,f);this.CI=this.Rl[0];this.AK=this.Rl[1]}i(){super.i()}na(){return Object.assign(super.na(),{direction:this.CI,revolutions:this.AK})}xa(c){c&&(super.xa(c),this.CI=c.direction,this.AK=c.revolutions)}}d.SX=class{constructor(c){this.Dp=[];d.Ug.mv(this.Dp,c,{dX:0,map:new Map([["cubic-bezier",b],["angle",e]])},this)}i(){for(const c of this.Dp)c.i();d.D(this.Dp);this.Dp=null}*Zfa(){for(const c of this.Dp)yield c}na(){return{addonDataItemsJson:this.Dp.map(c=>
c.na())}}xa(c){c&&d.Ug.wv(this.Dp,c.addonDataItemsJson,{dX:"id",map:new Map([["cubic-bezier",b],["angle",e]])},this)}}}
{"use strict";const d=self.A;let a=0;d.u7=class extends d.de{constructor(b,e){super(`tween-${a++}`,b,e);this.df="";this.MT=!1;this.hJ="start-value";this.oV=this.nV=null}Ga(){var b=this.Tb;if(b&&b.length&&(b=b[0])){var e=b.Ga();return b.tl()?e:null}}Wj(){return this.df}$O(){if(this.oV)for(const b of this.oV)b(this);if(!this.gg)for(const b of this.Tb)b.Gi()}OO(){this.vs=this.g.Sk}cN(){if(!this.Up&&(this.Up=!0,this.nV))for(const b of this.nV)b(this)}Wr(b){this.VQ();super.Wr(b)}yd(b){if(!this.Hn&&"current-state"===
this.hJ)for(const e of this.Tb)e.Fi();super.yd(b)}Tg(b=!1){super.Tg(b);if(!this.gg)for(const e of this.Tb)e.mp()}Gd(b=!0,e=!1){this.VQ();super.Gd(b,e)}VQ(){for(const b of this.Tb){const e=c=>{c=c.Ha();const f=this.Pd();return 0!==c&&c!==f};b.iZ(e);b.sE(e)}}tA(){if(this.li)return!0;const b=this.Ga();if(b&&b.H().Ig())return!1;this.Hb.uy(this);this.vP();return!0}DO(){}ae(){const b=this.Ga();super.ae(this.I().hr(b),1)}na(){const b=super.na();return Object.assign(b,{tweenDataItemJson:this.jf.na(),id:this.df,
destroyInstanceOnComplete:this.MT,initialValueMode:this.hJ})}xa(b){b&&(this.jf.xa(b.tweenDataItemJson),super.xa(b),this.df=b.id,this.MT=b.destroyInstanceOnComplete,this.hJ=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const d=self.A,a=self.eu;d.rQ=class extends d.ja{constructor(b){super();this.Ia=b[0];this.ri=[];for(const e of b[1])b=d.sQ.Ta(this,e),this.ri.push(b);this.Xw=new Map;this.fD=new Map;this.Uba();a.EX(this.Ia,(e,c,f,k)=>this.sb(e,c,f,k))}static Ta(b){return d.C(d.rQ,b)}i(){for(const b of this.ri)b.i();d.D(this.ri);this.ri=null;this.Xw.clear();this.Xw=null;this.fD.clear();this.fD=null}Y0(b){const e=this.fD.get(b);if(e)return e;for(const c of this.ri)if(c.lf===b)return this.fD.set(b,c),c}o0(b){for(const e of this.ri)if(e.lf>
b)return e}n0(b){for(const e of this.ri)if(e.lf>=b)return e}p0(b){for(let e=this.ri.length-1;0<=e;e--){const c=this.ri[e];if(c.lf<=b)return c}}sb(b,e,c,f){var k=b/f;(b=this.Y0(k))?f=this.o0(k):(b=this.p0(k),f=this.n0(k));k=d.kha(k,b.lf,f.lf,f.lf-b.lf);const h=b.lf,l=b.Dx,n=b.lf+b.YV,q=b.Dx+b.Pfa,r=f.lf+f.UT,p=f.Dx+f.Uea,v=f.lf;f=f.Dx;f=a.Po("spline")(k,h,l,n,q,r,p,v,f,this.Xw.get(b));f+=b.Dx;return(1-f)*e+f*(e+c)}Uba(){this.Xw.clear();for(let e=0;e<this.ri.length-1;e++){var b=this.ri[e];if(!b.mx)continue;
const c=this.ri[e+1];this.Xw.set(b,a.Q_(b.lf,b.lf+b.YV,c.lf+c.UT,c.lf))}}}}{"use strict";const d=self.A;d.sQ=class extends d.ja{constructor(a,b){super();this.lf=b[0];this.Dx=b[1];this.YV=b[2];this.Pfa=b[3];this.UT=b[4];this.Uea=b[5];this.mx=b[6];this.rB=b[7]}i(){}static Ta(a,b){return d.C(d.sQ,a,b)}}}{"use strict";const d=self.A;d.t7=class extends d.ja{constructor(a){super();this.g=a;this.gD=[]}i(){for(const a of this.gD)a.i();d.D(this.gD);this.gD=null}Ta(a){this.gD.push(d.rQ.Ta(a))}}}
{"use strict";const d=self.A;d.a7=class extends d.ja{constructor(a){super();this.M=a;this.ob=[];this.ob.push(d.C(d.wG,this));this.Wa=0;this.oj=this.ob[0]}i(){for(const a of this.ob)a.i();d.D(this.ob);this.M=this.oj=null}H(){return this.M}$(){return this.oj}Hc(){this.$().Hc()}K4(){var a=this.ob,b=++this.Wa;b===a.length?(b=d.C(d.wG,this),a.push(b),this.oj=b):(a=a[b],a.Gd(),this.oj=a)}L4(){const a=this.ob,b=++this.Wa;b===a.length&&a.push(d.C(d.wG,this));const e=a[b];e.OY(a[b-1]);this.oj=e}Na(){this.oj=
this.ob[--this.Wa]}jp(a){const b=this.ob;for(let e=0,c=b.length;e<c;++e)b[e].jp(a)}}}
{"use strict";const d=self.A;d.wG=class extends d.ja{constructor(a){super();this.ob=a;this.M=this.ob.H();this.Td=this.M.I().kd();this.Yb=!0;this.G=[];this.kc=[]}i(){this.oy();this.Td=this.M=this.ob=null}oy(){d.D(this.G);d.D(this.kc)}H(){return this.M}iF(){return this.Yb?!!this.M.G.length:!!this.G.length}ma(){return this.Yb?this.M.ma():this.G}g1(){return!!this.kc.length}e0(){const a=this.ma();return a.length?a:this.kc}Gd(){this.Yb=!0;d.D(this.kc)}Hc(){this.Yb=!0}OY(a){a.Yb?this.Gd():(this.Yb=!1,d.td(this.G,
a.G),d.D(this.kc))}xp(a){this.G.push(a)}rn(a){this.kc.push(a)}ve(a){this.Yb=!!a}rk(a){this.Yb=!1;d.D(this.G);this.G.push(a)}Ru(a){this.Yb=!1;d.td(this.G,a)}av(a){this.Yb=!1;d.D(this.G);for(const b of a)this.G.push(b)}tM(a,b){for(const e of b)a.has(e)||this.kc.push(e)}r7(a){for(const b of a)this.G.push(b);d.wh(this.kc,a)}an(a){a&&(this.Td.vf().Jb().Vd?(this.Yb&&(d.D(this.G),d.td(this.kc,a.H().ma()),this.Yb=!1),a=this.kc.indexOf(a),-1!==a&&(this.G.push(this.kc[a]),this.kc.splice(a,1))):this.rk(a))}jp(a){d.wh(this.G,
a);d.wh(this.kc,a)}}}
{"use strict";const d=self.A;d.x_=class extends d.ja{constructor(a){super();this.Aa=a;this.g=this.Aa.I();this.ob=[];this.ob.push(d.C(d.$M,this,null));this.Wa=0;this.tB=[]}i(){for(const a of this.ob)a.i();d.D(this.ob);d.D(this.tB);this.g=this.Aa=null}la(){return this.Aa}I(){return this.g}vf(){return this.ob[this.Wa]}Pa(a){var b=this.ob;const e=++this.Wa;if(e===b.length)return a=d.C(d.$M,this,a),b.push(a),a;b=b[e];b.Gd(a);return b}Na(){--this.Wa}M4(a){this.tB.push(a)}D4(){this.tB.pop()}V_(){const a=this.tB;
return 0===a.length?null:a.ne(-1)}}}
{"use strict";const d=self.A;d.$M=class extends d.ja{constructor(a,b){super();this.ob=a;this.g=this.ob.I();this.Wv=b;this.dg=this.Ol=0;this.II=this.jq=!1;this.NI=null;this.VI=this.gU=0}i(){this.Gd(null);this.g=this.ob=null}Gd(a){this.Wv=a;this.dg=this.Ol=0;this.II=this.jq=!1}CH(a,b){this.Wv=a;this.Ol=0;this.dg=b}wP(){this.dg=this.Ol=0}Jb(){return this.Wv}Lg(a){this.Wv=a}dn(a){this.Ol=a}Mz(a){this.dg=a}kn(a){this.jq=!!a}Nr(a){this.II=!!a}S5(a){this.NI=a}M1(a,b){this.gU=a;this.VI=b}Sz(a){this.VI=a}ik(){const a=
this.Wv;return a.dC?!0:this.Ol<a.ac.length-1?!!a.Ed().length:!1}}}{"use strict";const d=self.A;d.f3=class extends d.ja{constructor(a){super();this.Aa=a;this.g=this.Aa.I();this.ob=[];this.Wa=-1;this.oj=null;this.MB=[]}i(){d.D(this.ob);this.g=this.Aa=null}xda(a){this.MB=a;a=this.MB.slice(0);this.ob.push(a);this.Wa=0;this.oj=a}la(){return this.Aa}I(){return this.g}gr(){return this.oj}Pa(){const a=++this.Wa,b=this.ob;a===b.length?b.push(this.MB.slice(0)):d.td(b[a],this.MB);this.oj=b[a]}Na(){this.oj=this.ob[--this.Wa]}}}
{"use strict";const d=self.A;d.h3=class extends d.ja{constructor(a){super();this.Aa=a;this.g=this.Aa.I();this.ob=[];this.Wa=-1}i(){d.D(this.ob);this.g=this.Aa=null}la(){return this.Aa}I(){return this.g}oO(){return 0<=this.Wa}gr(){return this.ob[this.Wa]}Pa(){++this.Wa;if(this.Wa===this.ob.length){var a=d.C(d.g3,this);this.ob.push(a);return a}a=this.ob[this.Wa];a.Gd();return a}Na(){--this.Wa}E_(a){const b=this.ob;for(let e=this.Wa;0<=e;--e){const c=b[e];if(c.Da()===a)return c}return null}}}
{"use strict";const d=self.A;d.g3=class extends d.ja{constructor(a){super();this.Hf=a;this.Ia="";this.Wa=0;this.wc=!1}Gd(){this.Ia="";this.Wa=0;this.wc=!1}Uz(a){this.Ia=a}Da(){return this.Ia}Kc(a){this.Wa=a}Ja(){return this.Wa}Tg(){this.wc=!0}}}{"use strict";const d=self.A;d.aY=class extends d.ja{constructor(){super();this.ob=[];this.Wa=-1}i(){d.D(this.ob)}gr(){return this.ob[this.Wa]}Pa(){++this.Wa;if(this.Wa===this.ob.length){const a=[];this.ob.push(a);return a}return this.ob[this.Wa]}Na(){--this.Wa}}}
{"use strict";const d=self.A;function a(b,e){return b.Ja()-e.Ja()}d.w_=class extends d.ja{constructor(b){super();this.g=b;this.Kv=[];this.EK=new Map;this.cI=[];this.kU=new Map;this.rI=new Map;this.xI=new Map;this.LA=new Map;this.yT=new Map;this.LI=new Map;this.Cfa=0;this.bI=[];this.yea=[];this.$U=[];this.TI=new Map;this.Td=d.C(d.x_,this);this.zd=d.C(d.f3,this);this.Hf=d.C(d.h3,this);this.XK=[];this.MC=[];this.LC=[];this.qI=this.Sl=this.nm=0;this.pg=[];this.TA=[];self.c3_callFunction=(e,c)=>this.sA(e,
c)}i(){this.ny();this.Td.i();this.Td=null;this.zd.i();this.zd=null;d.D(this.MC);d.D(this.LC);this.g=null;d.D(this.Kv);this.EK.clear()}Ta(b){b=d.C(d.v_,this,b);this.Kv.push(b);this.EK.set(b.Da().toLowerCase(),b)}k8(b){this.XK.push(b)}Sb(){for(const b of this.TI.values())b.Sb(!1);for(const b of this.Kv)b.Sb();for(const b of this.Kv)b.QH();for(const b of this.XK)b.Sb(!1);d.D(this.XK);this.zd.xda(this.$U)}I(){return this.g}pN(b){return this.EK.get(b.toLowerCase())||null}gca(b){this.cI.push(b);this.kU.set(b.jU,
b)}dca(b){this.rI.set(b.Ya,b)}cca(b){this.xI.set(b.Ya,b)}bca(b){this.LA.set(b.Ya,b)}fca(b){this.TI.set(b.CB.toLowerCase(),b)}eca(b){this.LI.set(b.Ya,b);b.Ig()?this.bI.push(b):this.yea.push(b)}gA(b){2<=b.length&&b.sort(a);let e=this.yT.get(b.length);e||(e=[],this.yT.set(b.length,e));for(let f=0,k=e.length;f<k;++f){const h=e[f];a:{for(let l=0,n=b.length;l<n;++l)if(b[l]!==h[l]){var c=!1;break a}c=!0}if(c)return h}e.push(b);return b}O$(b){this.$U.push(b.$p);return this.Cfa++}kd(){return this.Td}uf(){return this.kd().vf()}Jb(){return this.uf().Jb()}tf(){const b=
this.uf();return b.Jb().lN(b.Ol)}qu(){const b=this.uf();return b.Jb().eN(b.dg)}M_(b){const e=[];for(b=b.rr();b;)d.Bm(e,b.oR()),b=b.rr();return e}FR(b){const e={};for(const c of this.M_(b))e[c.Li()]=c.JR();return Object.create(Object.prototype,e)}LE(b){return this.LI.get(b)||null}a0(b){return this.rI.get(b)||null}K_(b){return this.LA.get(b)||null}Wy(b){return this.TI.get(b.toLowerCase())||null}i5(){for(const b of this.bI)b.n5()}oN(b){return this.kU.get(b.toLowerCase())||null}b0(b){return(b=this.rI.get(b))&&
b.Dj?b:null}j5(){for(const b of this.cI)b.k5()}BS(){for(const b of this.Kv)b.wca()}s5(b){this.BS();this.nm++;for(const e of b.$x())if(b=e.dd)this.g.Ou(e),b.ta(),this.g.Nu();this.nm--}async cZ(b){this.BS();this.nm++;for(const e of this.y9(b))await this.g.dr(e);this.nm--}*y9(b){for(const e of b.$x())if(b=e.dd)this.g.Ou(e),yield*b.rb(),this.g.Nu()}Iv(b,e,c,f){let k=!1;if(!b.Pb())return this.QF(e,c,f);this.Sl++;for(const h of b.$x())if(b=h.dd){this.g.Ou(h);for(const l of b.fB){const n=l.Iv(e,c,f);k=k||
n}b=b.Iv(e,c,f);k=k||b;this.g.Nu()}this.Sl--;return k}*pv(b,e,c,f){let k=!1;if(!b.Pb())return this.QF(e,c,f);this.Sl++;for(const h of b.$x())if(b=h.dd){this.g.Ou(h);for(const l of b.fB){const n=yield*l.pv(e,c,f);k=k||n}b=yield*b.pv(e,c,f);k=k||b;this.g.Nu()}this.Sl--;return k}QF(b,e,c){this.MC.push([b,e,c]);return!1}P4(b,e,c){let f=null;const k=new Promise(h=>f=h);this.LC.push([b,e,c,f]);return k}*Gca(){if(this.g.Eu())throw Error("should not be in breakpoint");const b=this.g.bb;for(;this.LC.length;){const [e,
c,f,k]=this.LC.shift(),h=yield*this.pv(b,e,c,f);k(h)}}async yP(){for(const b of this.Gca())await this.g.dr(b)}zF(){return 0<this.Sl}uv(){return++this.Sl}qv(){--this.Sl}G2(){return 0<this.nm}wz(){return this.G2()||this.zF()}Hca(b){for(const [e,c,f]of this.MC)this.Iv(b,e,c,f);d.D(this.MC)}Le(b){b?this.qI++:this.qI--}nO(){return 0<this.qI}cr(b){for(let e=0,c=b.length;e<c;++e)b[e].ao.Hc()}Jg(b){for(let e=0,c=b.length;e<c;++e)b[e].ao.K4()}Se(b){for(let e=0,c=b.length;e<c;++e)b[e].ao.L4()}Rb(b){for(let e=
0,c=b.length;e<c;++e)b[e].ao.Na()}aE(){const b=d.C(d.eG,this);this.pg.push(b);return b}u5(){if(this.pg.length){var b=this.uf(),e=!1;this.nm++;for(let c=0,f=this.pg.length;c<f;++c){const k=this.pg[c];k.gT()&&k.yca(b);k.ix&&(e=!0)}e&&this.kR();this.nm--}}async eZ(){if(this.pg.length){var b=this.uf(),e=!1;this.nm++;for(let c=0,f=this.pg.length;c<f;++c){const k=this.pg[c];k.gT()&&await k.s9(b);k.ix&&(e=!0)}e&&this.kR();this.nm--}}kR(){const b=d.gga(this.pg,e=>e.ix);for(const e of b)e.i()}ny(){for(const b of this.pg)b.i();
d.D(this.pg)}Y4(b){for(const e of this.pg)e.jp(b)}WD(b){this.TA.push(b)}qy(){d.D(this.TA)}P0(){const b=Promise.all(this.TA);this.TA=[];return b}na(){return{groups:this.Oca(),cnds:this.Nca(),acts:this.Mca(),vars:this.Zca(),waits:this.Vca()}}xa(b){this.Haa(b.groups);this.Baa(b.cnds);this.zaa(b.acts);this.Taa(b.vars);this.Paa(b.waits)}Oca(){const b={};for(const e of this.cI)b[e.Ya.toString()]=e.Hu();return b}Haa(b){for(const [e,c]of Object.entries(b))(b=this.b0(parseInt(e,10)))&&b.Or(c)}Nca(){const b=
{};for(const [e,c]of this.xI){const f=c.na();f&&(b[e.toString()]=f)}return b}Baa(b){const e=new Map;for(const [c,f]of Object.entries(b))e.set(parseInt(c,10),f);for(const [c,f]of this.xI)f.xa(e.get(c)||null)}Mca(){const b={};for(const [e,c]of this.LA){const f=c.na();f&&(b[e.toString()]=f)}return b}zaa(b){const e=new Map;for(const [c,f]of Object.entries(b))e.set(parseInt(c,10),f);for(const [c,f]of this.LA)f.xa(e.get(c)||null)}Zca(){const b={};for(const [e,c]of this.LI)c.Ab||!c.Ig()&&!c.di||(b[e.toString()]=
c.Vc());return b}Taa(b){for(const [e,c]of Object.entries(b))(b=this.LE(parseInt(e,10)))&&b.Og(c)}Vca(){return this.pg.filter(b=>!b.E2()).map(b=>b.na())}Paa(b){this.ny();for(const e of b)(b=d.eG.S8(this,e))&&this.pg.push(b)}zE(b){for(;b;)if(b=b.rr(),b instanceof d.lu)return b;return null}sA(b,e){Array.isArray(e)||(e=[]);b=this.Wy(b.toLowerCase());if(!b)return null;if(!b.Hg())return b.su();var c=b.eh;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].$p);while(e.length<c.length)}c=b.Oe();return c.ZF(c.Fd(),
b.lm,b.su(),...e)}}}
{"use strict";const d=self.A;d.v_=class extends d.ja{constructor(a,b){super();this.Aa=a;this.g=a.I();this.Ia=b[0];this.sB=[];this.jD=new Map;this.aU=new Map;this.Vea=new Map;this.iw=!1;this.QV=[];this.fB=[];this.zT=new Set;for(const e of b[1])this.SQ(e,null,this.sB);this.Ij=this.g.xb?{type:"sheet",name:this.Ia,by:0,children:[]}:null}i(){this.g=this.Aa=null}SQ(a,b,e){switch(a[0]){case 0:case 3:this.P8(a,b,e);break;case 1:this.Q8(a,b,e);break;case 2:this.V8(a,b,e);break;case 4:this.T8(a,b);break;case 5:this.e9(a,
b,e);break;default:throw Error("invalid event type");}}P8(a,b,e){a=d.hl.Ta(this,b,a);if(a.Vd){e.push(a);e=a.ac;for(let c=0,f=e.length;c<f;++c)e[c].cp()&&this.WR(a,c)}else a.cp()?this.WR(a,0):e.push(a)}T8(a,b){a=d.lu.Ta(this,b,a);this.Aa.fca(a)}Q8(a,b,e){a=d.Fy.Ta(this,b,a);e.push(a)}V8(a,b,e){a=d.ZM.Ta(this,b,a);e.push(a)}e9(a,b,e){a=d.Ey.Ta(this,b,a);e.push(a)}WR(a,b){a.Vd||this.Aa.k8(a);var e=a.lN(b),c=e.Ka,f=e.H();if(e.FU){var k=this.aU.get(f);k||(k=new Map,this.aU.set(f,k));e=e.g0().toLowerCase();
f=k.get(c);f||(f=new Map,k.set(c,f));c=f.get(e);c||(c=[],f.set(e,c));c.push([a,b])}else k=this.jD.get(f),k||(k={ML:new Map,Ix:new Map},this.jD.set(f,k)),(f=e.Ch())?(e=k.Ix.get(f),e||(e=new Map,k.Ix.set(f,e))):e=k.ML,k=e.get(c),k||(k=[],e.set(c,k)),k.push([a,b])}Sb(){const a=this.sB;for(let b=0,e=a.length;b<e;++b)a[b].Sb(b<e-1&&a[b+1]instanceof d.hl&&a[b+1].vz())}i8(a){this.QV.push(a)}QH(){d.D(this.fB);this.CQ(this);this.zT.clear()}CQ(a){const b=a.fB,e=a.zT;for(const c of this.QV){const f=c.ow;c.Lb&&
a!==f&&!e.has(f)&&(e.add(f),f.CQ(a),b.push(f))}}la(){return this.Aa}I(){return this.g}Da(){return this.Ia}vS(a,b){this.Vea.set(b,a)}wca(){this.iw=!1}ta(){if(!this.iw){var a=this.g,b=a.sF(),e=b?performance.now():0;this.iw=!0;var c=this.la(),f=c.uf();for(const k of this.sB)k.ta(f),c.cr(k.Ed()),c.qy(),a.$d();f.Gd(null);b&&(this.Ij.by+=performance.now()-e)}}*rb(){if(!this.iw){this.iw=!0;var a=this.g,b=this.la(),e=b.uf();for(const c of this.sB)yield*c.rb(e),b.cr(c.Ed()),b.qy(),a.$d();e.Gd(null)}}Iv(a,
b,e){if(b){const c=b.H();this.OH(a,b,c,e);for(const f of c.ai)this.OH(a,b,f,e)}else return this.OH(a,b,null,null)}OH(a,b,e,c){e=this.jD.get(e);if(!e)return!1;c=c?e.Ix.get(c):e.ML;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [f,k]of c)c=this.jR(b,f,k),a=a||c;return a}*pv(a,b,e){if(b){const c=b.H();yield*this.YG(a,b,c,e);for(const f of c.ai)yield*this.YG(a,b,f,e)}else return yield*this.YG(a,b,null,null)}*YG(a,b,e,c){e=this.jD.get(e);if(!e)return!1;c=c?e.Ix.get(c):e.ML;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [f,k]of c)c=f.Me()?this.jR(b,f,k):yield*this.m9(b,f,k),a=a||c;return a}jR(a,b,e){const c=this.g,f=this.Aa,k=f.Jb(),h=f.kd(),l=f.Sl;let n=!1;k&&f.Jg(k.Fd());f.Jg(b.Fd());const q=1<l;q&&f.zd.Pa();const r=h.Pa(b);a&&(b.ac[e].H().$().rk(a),a.$b()&&a.Yi());a=!0;if(b.Fa()){const p=b.Nq;for(let v=0,t=p.length;v<t;++v)if(!p[v].xP(r)){a=!1;break}}a&&(c.sl(),b.Vd?b.t5(r,e):b.ta(r),n=r.jq);h.Na();q&&f.zd.Na();f.Rb(b.Fd());k&&f.Rb(k.Fd());k||1!==l||(f.qy(),f.nO()||c.$d());return n}*m9(a,
b,e){const c=this.g,f=this.Aa,k=f.Jb(),h=f.kd(),l=f.Sl;let n=!1;k&&f.Jg(k.Fd());f.Jg(b.Fd());const q=1<l;q&&f.zd.Pa();const r=h.Pa(b);a&&(b.ac[e].H().$().rk(a),a.$b()&&a.Yi());a=!0;if(b.Fa()){const p=b.Nq;for(let v=0,t=p.length;v<t;++v)if(!(yield*p[v].TM(r))){a=!1;break}}a&&(c.sl(),b.Vd?yield*b.dZ(r,e):yield*b.rb(r),n=r.jq);h.Na();q&&f.zd.Na();f.Rb(b.Fd());k&&f.Rb(k.Fd());k||1!==l||(f.qy(),f.nO()||c.$d());return n}}}
{"use strict";const d=self.A,a=[];function b(){return!0}function*e(){return!0}d.hl=class extends d.ja{constructor(c,f,k){super();this.dd=c;this.g=c.I();this.Ec=f;this.je=null;this.Td=this.g.la().kd();this.gf=[];this.ot=[];this.fw=this.fC=this.dC=this.pU=!1;this.Vd=!!k[2];this.TB=!1;this.Nq=null;this.ac=[];this.Xg=[];this.pi=[];this.ej=b;this.tp=e;this.uJ=this.Dj=!1;this.jU="";this.VB=!1;this.Ij=this.dB=null;this.Ya=k[4];this.Ds=k[5];this.dd.vS(this,this.Ds);this.Qa=this.g.xb?{fd:k[3][0],HL:k[3][1],
wW:!1,sL:!1,tL:!1,xW:!1}:null;this.la().dca(this);3===k[0]&&this.faa(k[1]);c=0;for(var h of k[6])f=d.KM.Ta(this,h,c++),this.ac.push(f),this.HQ(f.H());c=0;for(const l of k[7])h=d.hy.Ta(this,l,c++),this.Xg.push(h);if(9===k.length){k=k[8];for(const l of k)this.dd.SQ(l,this,this.pi)}this.ac.length&&(this.TB=null===this.ac[0].H()&&this.ac[0].Ka===d.B.lb.F.r_);0===this.ac.length&&(this.ac=a);0===this.Xg.length&&(this.Xg=a);0===this.pi.length&&(this.pi=a)}static Ta(c,f,k){return d.C(d.hl,c,f,k)}faa(c){this.Dj=
!0;this.VB=this.uJ=!!c[0];this.jU=c[1].toLowerCase();this.dB=[];this.la().gca(this);this.g.xb&&(this.Ij={type:"group",name:c[1],by:0,children:[]})}a8(c){this.dB.push(c)}BQ(c,f){for(const k of c.Zg.gm)f.includes(k)||f.push(k)}IQ(c,f){if(c)if(f.includes(c)||f.push(c),c.$a)for(const k of c.En)k.$b()&&this.BQ(k,f);else c.$b()&&this.BQ(c,f)}HQ(c){this.IQ(c,this.gf)}e8(c){this.IQ(c,this.ot)}A5(){this.gf=this.g.Zc}Sb(c){this.fw=!!c;this.Z$();this.$$();for(const k of this.ac)k.Sb();if(0<this.Xg.length){c=
!1;for(var f of this.Xg)f.Sb(),f.o1()&&(c=!0);c?(this.ej=this.Aca,this.tp=this.u9):(this.ej=this.zca,this.tp=this.t9)}f=this.pi;for(let k=0,h=f.length;k<h;++k)f[k].Sb(k<h-1&&f[k+1]instanceof d.hl&&f[k+1].vz());this.Qa&&this.fea();this.Ij&&this.P$().Ij.children.push(this.Ij)}P$(){let c=this.Fa();for(;c;){if(c.Dj)return c;c=c.Fa()}return this.dd}fea(){const c=this.Qa;c.wW=this.ac.every(f=>f.Me());c.sL=this.Xg.every(f=>f.Me());c.tL=this.pi.every(f=>f.Me());c.xW=c.wW&&c.sL&&c.tL}Z$(){if(this.Dj){var c=
this.Fa();for(this.fC=!0;c;){if(!c.Dj){this.fC=!1;break}c=c.Fa()}}}Y$(){var c=this.g.Zc;if(this.gf===c)this.ot=c;else{this.ot=d.sD(this.gf);for(c=this.Fa();c;){for(var f of c.gf)this.e8(f);c=c.Fa()}f=this.la();this.gf=f.gA(this.gf);this.ot=f.gA(this.ot)}}$$(){if(this.h1()){this.Nq=[];for(var c=this.Fa();c;)this.Nq.push(c),c=c.Fa();this.Nq.reverse()}}bv(){this.dC=!0;this.Ec&&this.Ec.bv()}Ed(){return this.gf}Fd(){this.pU||(this.pU=!0,this.Y$());return this.ot}q1(c){return this.gf.includes(c)}la(){return this.dd.la()}I(){return this.g}Fa(){return this.Ec}Eda(c){this.je=
c}rr(){return this.je||this.Ec}tF(){return this.Qa&&this.Qa.HL}Zo(){return this.tF()&&this.Qa.fd}vz(){return this.TB}Hu(){return this.VB}k5(){this.Or(this.uJ)}Or(c){c=!!c;if(!this.Dj)throw Error("not a group");if(this.VB!==c){this.VB=c;for(const f of this.dB)f.tQ();this.dB.length&&(c=this.g.Ma().dd)&&c.QH()}}cp(){return this.ac.length&&this.ac[0].cp()}y2(){return this.je&&this.je instanceof d.lu}h1(){return this.y2()||this.ac.some(c=>c.cp())}lN(c){c=Math.floor(c);if(0>c||c>=this.ac.length)throw new RangeError("invalid condition index");
return this.ac[c]}x2(c){let f=c.Ja();if(0===f)return!0;for(--f;0<=f;--f)if(this.ac[f].H()===c.H())return!1;return!0}eN(c){c=Math.floor(c);if(0>c||c>=this.Xg.length)throw new RangeError("invalid action index");return this.Xg[c]}X$(c){c=Math.floor(c);return 0<=c&&c<this.Xg.length}oR(){return this.pi.filter(c=>c instanceof d.Fy)}xP(c){c.Lg(this);let f=!1;const k=this.ac;for(let h=0,l=k.length;h<l;++h){const n=k[h];c.dn(h);if(n.XB)throw Error("trigger cannot be used as sub-event to a loop");if(n.ta())f=
!0;else if(!this.Vd)return!1}return this.Vd?f:!0}t5(c,f){c.Lg(this);this.ac[f].ta()&&(this.ej(c,0)&&this.Jl(),c.kn(!0))}*TM(c){c.Lg(this);let f=!1;const k=this.ac;for(let h=0,l=k.length;h<l;++h){const n=k[h];c.dn(h);if(n.XB)throw Error("trigger cannot be used as sub-event to a loop");if(n.Me()?n.ta():yield*n.rb())f=!0;else if(!this.Vd)return!1}return this.Vd?f:!0}*dZ(c,f){c.Lg(this);f=this.ac[f];if(f.Me()?f.ta():yield*f.rb())(this.Ay()?this.ej(c,0):yield*this.tp(c,0))&&(this.By()?this.Jl():yield*this.ov()),
c.kn(!0)}ta(c){c.Lg(this);this.TB||c.Nr(!1);this.Vd?this.Fca(c):this.yA(c)}*rb(c){if(this.Zo()||this.g.qc())yield this;c.Lg(this);this.TB||c.Nr(!1);this.Vd?yield*this.F9(c):yield*this.VG(c)}Fca(c){const f=this.ac;let k=0===f.length;for(let l=0,n=f.length;l<n;++l){var h=f[l];h.cp()||(c.dn(l),h=h.ta(),k=k||h)}c.kn(k);k&&(this.ej(c,0)&&this.Jl(),this.fw&&c.Nr(!0))}*F9(c){const f=this.ac;let k=0===f.length;for(let l=0,n=f.length;l<n;++l){var h=f[l];h.cp()||(c.dn(l),h=h.Me()?h.ta():yield*h.rb(),k=k||h)}c.kn(k);
k&&((this.Ay()?this.ej(c,0):yield*this.tp(c,0))&&(this.By()?this.Jl():yield*this.ov()),this.fw&&c.Nr(!0))}yA(c){const f=this.ac;for(let k=0,h=f.length;k<h;++k){const l=f[k];c.dn(k);if(!l.ta()){c.kn(!1);return}}c.kn(!0);this.ej(c,0)&&this.Jl();c.jq&&this.fw&&c.Nr(!0)}*VG(c){const f=this.ac;for(let k=0,h=f.length;k<h;++k){const l=f[k];c.dn(k);if(l.Me()?!l.ta():!(yield*l.rb())){c.kn(!1);return}}c.kn(!0);(this.Ay()?this.ej(c,0):yield*this.tp(c,0))&&(this.By()?this.Jl():yield*this.ov());c.jq&&this.fw&&
c.Nr(!0)}zca(c,f){const k=this.Xg;for(let h=f,l=k.length;h<l;++h)f=k[h],c.Mz(h),f.ta();return!0}*t9(c,f){const k=this.Xg;for(let h=f,l=k.length;h<l;++h)f=k[h],c.Mz(h),f.Me()?f.ta():yield*f.rb();return!0}Aca(c,f){const k=this.la(),h=this.Xg;for(let l=f,n=h.length;l<n;++l){f=h[l];c.Mz(l);const q=f.ta();if(f.DM()&&!0===q)return!1;f.Fg()&&q instanceof Promise&&k.WD(q)}return!0}*u9(c,f){const k=this.la(),h=this.Xg;for(let l=f,n=h.length;l<n;++l){f=h[l];c.Mz(l);let q;q=f.Me()?f.ta():yield*f.rb();if(f.DM()&&
!0===q)return!1;f.Fg()&&q instanceof Promise&&k.WD(q)}return!0}xca(c){this.ej(c,c.dg)&&this.Jl()}*r9(c){if(yield*this.tp(c,c.dg))yield*this.ov()}Jl(){if(this.pi.length){var c=this.Dj&&this.g.sF(),f=c?performance.now():0,k=this.Td,h=k.Pa(this);this.dC?this.Kca(h):this.Jca(h);k.Na();c&&(this.Ij.by+=performance.now()-f)}}Kca(c){const f=this.Dj,k=this.fC,h=this.la(),l=this.pi;for(let n=0,q=l.length,r=q-1;n<q;++n){const p=l[n],v=p.Ed(),t=!k||!f&&n<r;t&&h.Se(v);p.ta(c);t?h.Rb(v):h.cr(v)}}Jca(c){const f=
this.pi;for(let k=0,h=f.length;k<h;++k)f[k].ta(c)}*ov(){if(this.pi.length){var c=this.Td,f=c.Pa(this);this.dC?yield*this.I9(f):yield*this.H9(f);c.Na()}}*I9(c){const f=this.Dj,k=this.fC,h=this.la(),l=this.pi;for(let n=0,q=l.length,r=q-1;n<q;++n){const p=l[n],v=p.Ed(),t=!k||!f&&n<r;t&&h.Se(v);yield*p.rb(c);t?h.Rb(v):h.cr(v)}}*H9(c){const f=this.pi;for(let k=0,h=f.length;k<h;++k)yield*f[k].rb(c)}Kg(c,f){this.g.sl();f.wP();const k=this.ac;if(!this.Vd)for(let h=c.Ol+1,l=k.length;h<l;++h)if(c=k[h],f.dn(h),
!c.ta())return!1;this.ej(f,0)&&this.Jl();return!0}*vg(c,f){this.g.sl();f.wP();const k=this.ac;if(!this.Vd)for(let h=c.Ol+1,l=k.length;h<l;++h)if(c=k[h],f.dn(h),c.Me()?!c.ta():!(yield*c.rb()))return!1;(this.Ay()?this.ej(f,0):yield*this.tp(f,0))&&(this.By()?this.Jl():yield*this.ov());return!0}Me(){return!this.Zo()&&!this.g.qc()&&this.Qa.xW}Ay(){return!this.g.qc()&&this.Qa.sL}By(){return!this.g.qc()&&this.Qa.tL}NG(c){if(this.Fa()){const f=this.Nq;for(let k=0,h=f.length;k<h;++k)if(!f[k].xP(c))return!1}return!0}*TQ(c){if(this.Fa()){const f=
this.Nq;for(let k=0,h=f.length;k<h;++k)if(!(yield*f[k].TM(c)))return!1}return!0}iR(c,f,k){0<f.length?k?(f=f.map(h=>h.fa(0)),c.zd.Pa(),this.je.Vu(f)):this.je.u_(f):k&&c.zd.Pa()}q5(c,f){let k,h;const l=0<c.length;var n=this.g;const q=this.Td,r=n.la(),p=1<r.uv();this.iR(r,f,p);l&&r.Jg(c);f=q.Pa(this);this.NG(f)&&(n.sl(),f.Lg(this),(n=this.je.Fg())&&([h,k]=this.je.zG()),this.yA(f),n&&this.je.Ku(h));q.Na();p&&r.zd.Na();l&&r.Rb(c);r.qv();return k}*aZ(c,f){let k,h;if(this.Zo()||this.g.qc())yield this;const l=
0<c.length;var n=this.g;const q=this.Td,r=n.la(),p=1<r.uv();this.iR(r,f,p);l&&r.Jg(c);f=q.Pa(this);if(yield*this.TQ(f))n.sl(),f.Lg(this),(n=this.je.Fg())&&([h,k]=this.je.zG()),yield*this.VG(f),n&&this.je.Ku(h);q.Na();p&&r.zd.Na();l&&r.Rb(c);r.qv();return k}r5(c){const f=this.Fd(),k=0<f.length,h=this.g,l=this.Td,n=h.la(),q=1<n.uv();q&&n.zd.Pa();this.je.Vu(c);k&&n.Jg(f);c=l.Pa(this);this.NG(c)&&(h.sl(),c.Lg(this),this.yA(c));l.Na();q&&n.zd.Na();k&&n.Rb(f);n.qv()}*bZ(c){if(this.Zo()||this.g.qc())yield this;
const f=this.Fd(),k=0<f.length,h=this.g,l=this.Td,n=h.la(),q=1<n.uv();q&&n.zd.Pa();this.je.Vu(c);k&&n.Jg(f);c=l.Pa(this);if(yield*this.TQ(c))h.sl(),c.Lg(this),yield*this.VG(c);l.Na();q&&n.zd.Na();k&&n.Rb(f);n.qv()}ZF(c,f,k,...h){let l,n;const q=0<c.length,r=this.g,p=this.Td,v=r.la(),t=1<v.uv();t&&v.zd.Pa();0<h.length&&this.je.Vu(h);q&&v.Jg(c);h=p.Pa(this);h.M1(f,k);p.M4(h);r.Pz(!1);this.NG(h)&&(r.sl(),h.Lg(this),(f=this.je.Fg())&&([n,l]=this.je.zG()),this.yA(h),f&&this.je.Ku(n));r.Pz(!0);p.Na();p.D4();
t&&v.zd.Na();q&&v.Rb(c);v.qv();return l||h.VI}}}
{"use strict";const d=self.A,a=[];let b=!1;d.Ey=class extends d.ja{constructor(e,c,f){super();const k=e.I(),h=e.la();this.dd=e;this.Aa=h;this.g=e.I();this.Ec=c;this.Ka=k.Fh(f[1]);this.Ds=f[2];this.dd.vS(this,this.Ds);this.Qa=k.xb?{fd:f[3][0],HL:f[3][1]}:null}static Ta(e,c,f){return d.C(d.Ey,e,c,f)}Sb(){const e=this.Ka,c=this.g.la().FR(this);this.Ka=e.bind(null,this.g.Bj,c)}Fa(){return this.Ec}rr(){return this.Ec}tF(){return this.Qa&&this.Qa.HL}Zo(){return this.tF()&&this.Qa.fd}vz(){return!1}Ed(){return a}Fd(){return this.Ec?
this.Ec.Fd():a}ta(e){e.Lg(this);this.Aa.WD(this.Lca())}async Lca(){try{await this.Ka()}catch(e){console.error(`Unhandled exception running script %c${this.dd.Da()}, event ${this.Ds}:`,"font-size: 1.2em; font-weight: bold;",e),self.Tf&&self.Tf.yda(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*rb(e){e.Lg(this);if(this.Zo()||this.g.qc())yield this;
this.ta(e)}Me(){return!this.Zo()&&!this.g.qc()}static c1(){return b}static a6(){b=!0}}}
{"use strict";const d=self.A;d.lu=class extends d.ja{constructor(a,b,e){super();this.dd=a;this.g=a.I();this.Ec=b;const c=e[1];this.CB=c[0];this.lm=c[1];this.eh=c[2].map(f=>d.Fy.Ta(a,this,f));this.Ca=c[3];this.iJ=[];this.rw=c[4];this.yfa=0;this.Vv=-1;this.Nv=new Map;this.ee=d.hl.Ta(a,b,e);this.ee.Eda(this)}static Ta(a,b,e){return d.C(d.lu,a,b,e)}Sb(){for(const a of this.eh)a.Sb();this.ee.Sb(!1)}oR(){return this.eh}hca(a){this.iJ.push(a)}u_(a){const b=this.eh;for(let e=0,c=b.length;e<c;++e)b[e].Og(a[e].fa(0))}Vu(a){const b=
this.eh;for(let e=0,c=b.length;e<c;++e)b[e].Og(a[e])}uY(){return this.eh.map(a=>a.Vc())}Fa(){return this.Ec}rr(){return this.Ec}Hg(){return this.Ca}su(){switch(this.lm){case 0:return null;case 2:return"";default:return 0}}Oe(){return this.ee}Fg(){return this.rw}zG(){const a=this.yfa++;this.Vv=a;let b;const e=new Promise(c=>b=c);this.Nv.set(a,{resolve:b,VL:0});return[a,e]}Ku(a){const b=this.Nv.get(a);0===b.VL&&(b.resolve(),this.Nv.delete(a));this.Vv=-1}A4(){this.Nv.get(this.Vv).VL++;return this.Vv}p5(a){this.Vv=
a;this.Nv.get(a).VL--}}}
{"use strict";const d=self.A,a=[];d.Fy=class extends d.ja{constructor(b,e,c){super();const f=b.la();this.dd=b;this.Aa=f;this.g=b.I();this.Ec=e;this.zd=f.zd;this.Ia=c[1];this.Ba=c[2];this.$p=c[3];this.di=!!c[4];this.Ab=!!c[5];this.hfa=e instanceof d.lu;this.Ya=c[6];this.Fw=this.g.Li(c[8]);this.Nfa=k=>this.Og(k);this.Lfa=()=>this.Vc();this.rU=!this.Ec||this.di||this.Ab;this.Dd=this.$p;this.UJ=-1;this.hO()&&(this.Dd=this.Dd?1:0);!this.CF()||this.di||this.Ab||(this.UJ=f.O$(this));f.eca(this)}static Ta(b,
e,c){return d.C(d.Fy,b,e,c)}Sb(){if(this.CF()&&!this.di&&!this.Ab&&!this.hfa){const b=this.Aa.zE(this);b&&b.hca(this)}}Da(){return this.Ia}Li(){return this.Fw}Fa(){return this.Ec}rr(){return this.Fa()}Ig(){return!this.Fa()}CF(){return!this.Ig()}Xm(){return 0===this.Ba}Ri(){return 1===this.Ba}hO(){return 2===this.Ba}vz(){return!1}Ed(){return a}ta(){!this.CF()||this.di||this.Ab||this.Og(this.$p)}Me(){return!0}*rb(b){this.ta(b)}Og(b){this.Xm()?"number"!==typeof b&&(b=parseFloat(b)):this.Ri()?"string"!==
typeof b&&(b=b.toString()):this.hO()&&(b=b?1:0);this.rU?this.Dd=b:this.zd.gr()[this.UJ]=b}Vc(){return this.rU?this.Dd:this.zd.gr()[this.UJ]}n5(){this.Dd=this.$p}JR(){return{configurable:!1,enumerable:!0,get:this.Lfa,set:this.Nfa}}}}
{"use strict";const d=self.A,a=[];d.ZM=class extends d.ja{constructor(b,e,c){super();const f=b.la();this.dd=b;this.Aa=f;this.g=b.I();this.Ec=e;this.ow=null;this.afa=c[1];this.Lb=!0}static Ta(b,e,c){return d.C(d.ZM,b,e,c)}Sb(){this.ow=this.Aa.pN(this.afa);this.dd.i8(this);let b=this.Fa();for(;b;)b instanceof d.hl&&b.Dj&&b.a8(this),b=b.Fa();this.tQ();this.g.xb&&this.dd.Ij.children.push(this.ow.Ij)}Fa(){return this.Ec}Ed(){return a}ta(){const b=!!this.Fa(),e=this.g.Zc;b&&this.Aa.Jg(e);this.ow.ta();b&&
this.Aa.Rb(e)}*rb(){const b=!!this.Fa(),e=this.g.Zc;b&&this.Aa.Jg(e);yield*this.ow.rb();b&&this.Aa.Rb(e)}Me(){return!1}tQ(){let b=this.Fa();for(;b;){if(b instanceof d.hl&&b.Dj&&!b.Hu()){this.Lb=!1;return}b=b.Fa()}this.Lb=!0}}}
{"use strict";const d=self.A;d.Jo=class extends d.ja{constructor(h){super();this.lc=h;this.g=h.I()}Sb(){}static VY(h,l){return d.C([f,e,c,k,a,b][l[0]],h,l)}};class a extends d.Jo{constructor(h,l){super(h);this.Kd=this.g.yu();this.Ka=this.g.Fh(l[1]);this.Ka!==d.B.lb.vd.random&&this.Ka!==d.B.lb.vd.mga||this.lc.vG()}pu(){return this.Kd.uk(this.Ka,this.Kd)}}class b extends d.Jo{constructor(h,l){super(h);this.Ks=null;this.CB=l[1];this.lc.vG()}Sb(){const h=this.g.la();this.Ks=h.Wy(this.CB);this.CB=null;
const l=this.Ks.Oe();this.Pl=[...new Set([...this.lc.Oe().Fd(),...l.Fd()])];this.Pl=h.gA(this.Pl)}pu(){const h=this.Ks;if(h.Hg())return d.hl.prototype.ZF.bind(h.Oe(),this.Pl,h.lm,h.su());{const l=h.su();return()=>l}}}class e extends d.Jo{constructor(h,l){super(h);this.M=this.g.wf(l[1]);this.Ka=this.g.Fh(l[2]);this.zK=!!l[3];this.Td=this.g.la().kd();this.lc.rH(this.M)}pu(){return this.M.Kb().uk(this.Ka,this.M.ek().ka)}gu(){const h=this.M,l=h.$().e0();var n=l.length;if(0===n)return this.zK?"":0;var q=
this.lc.SC;q>=n?n=q%n:(0>q&&(q<=-n&&(q%=n),0>q&&(q+=n)),n=q);this.Td.vf().S5(h);return this.Ka.apply(l[n].ka,[])}}class c extends d.Jo{constructor(h,l){super(h);this.M=this.g.wf(l[1]);this.zK=!!l[2];this.lc.rH(this.M)}}class f extends d.Jo{constructor(h,l){super(h);this.M=this.g.wf(l[1]);this.bd=this.M.Ky(l[2]);this.kj=this.M.ou(l[2]);this.Ka=this.g.Fh(l[3]);this.zK=!!l[4];this.Td=this.g.la().kd();this.lc.rH(this.M)}}class k extends d.Jo{constructor(h,l){super(h);this.$h=null;this.KI=l[1]}Sb(){this.$h=
this.g.la().LE(this.KI)}}}
{"use strict";const d=self.A;d.Re=class extends d.ja{constructor(z,E,G){super();this.lc=z;this.Wa=G;this.Ba=E;this.fa=null;this.Ab=this.mf=!1}static Ta(z,E,G){const N=E[0];return d.C([b,e,q,f,h,c,l,b,f,f,r,p,q,t,e,n,k,v,w,x][N],z,N,G,E)}Sb(){}vG(){this.mf=!0}rH(z){this.mf||!z||z.Kb().Kn||(this.mf=!0)}Ja(){return this.Wa}I(){return this.lc.I()}Oe(){return this.lc.Oe()}};function a(z){z=self.jY[z];if(!z)throw Error("invalid expression number");return z}class b extends d.Re{constructor(z,E,G,N){super(z,
E,G);this.SC=0;z=N[1];this.MI=z[0];this.dt=[];this.uB=null;for(let C=1,H=z.length;C<H;++C)this.dt.push(d.Jo.VY(this,z[C]));this.dt.length?this.fa=this.d0:(this.fa=a(this.MI),this.Ab=!0)}Xe(z){if(0>z||z>=this.dt.length)throw new RangeError("invalid numbered node");return this.dt[z]}Sb(){for(var z of this.dt)z.Sb();z=a(this.MI);this.uB=this.dt.length?z(this):z}d0(z){this.SC=z;return this.uB()}}class e extends b{constructor(z,E,G,N){super(z,E,G,N);this.fa=this.S0;14===E&&(this.Oe().A5(),this.lc instanceof
d.hy&&this.Oe().bv())}S0(z){this.SC=z;z=this.uB();return"string"===typeof z?z:""}I$(){return a(this.MI)()}}class c extends b{constructor(z,E,G,N){super(z,E,G,N);this.fa=this.ca;this.Ab=!1}ca(z){this.SC=z;z=this.uB();return this.I().Ma().ca(z)}}class f extends d.Re{constructor(z,E,G,N){super(z,E,G);this.Nea=N[1];this.fa=this.U_;this.Ab=!0}U_(){return this.Nea}}class k extends d.Re{constructor(z,E,G,N){super(z,E,G);this.Dea=N[1];this.fa=this.R_;this.Ab=!0}R_(){return this.Dea}}class h extends d.Re{constructor(z,
E,G,N){super(z,E,G);this.M=this.I().wf(N[1]);this.fa=this.H;z=this.Oe();z.HQ(this.M);this.lc instanceof d.hy?z.bv():z.Fa()&&z.Fa().bv();this.Ab=!0}H(){return this.M}}class l extends d.Re{constructor(z,E,G,N){super(z,E,G);this.Gj=this.I().bb.kr(N[1]);this.fa=this.rc;this.Ab=!0}rc(){return this.Gj}}class n extends d.Re{constructor(z,E,G,N){super(z,E,G);this.eo=this.I().Hb.hz(N[1]);this.fa=this.sc;this.Ab=!0}sc(){return this.eo}}class q extends d.Re{constructor(z,E,G,N){super(z,E,G);this.Wea=N[1];this.fa=
this.h0;this.Ab=!0}h0(){return this.Wea}}class r extends d.Re{constructor(z,E,G,N){super(z,E,G);this.BU=N[1];(z=this.lc.H())&&z.$a?(this.fa=this.f0,this.vG()):(this.fa=this.w0,this.Ab=!0)}w0(){return this.BU}f0(z){z=z||0;const E=this.lc.H();var G=E.$();const N=G.ma();if(N.length)z=N[z%N.length].H();else if(G.g1())G=G.kc,z=G[z%G.length].H();else if(0<E.G.length)G=E.ma(),z=G[z%G.length].H();else return 0;return this.BU+z.qN(E.wj)}}class p extends d.Re{constructor(z,E,G,N){super(z,E,G);this.KI=N[1];
this.$h=null;this.fa=this.c0;this.Ab=!0}Sb(){this.$h=this.I().la().LE(this.KI)}c0(){return this.$h}}class v extends d.Re{constructor(z,E,G,N){super(z,E,G);this.eU=N[1];this.Ks=null;this.fa=this.q0;this.Ab=!0}Sb(){this.Ks=this.I().la().Wy(this.eU);this.eU=null}q0(){return this.Ks}}class t extends d.Re{constructor(z,E,G,N){super(z,E,G);this.QK=[];this.mW=[];this.Ab=!0;for(let C=1,H=N.length;C<H;++C)z=d.Re.Ta(this.lc,N[C],0),this.QK.push(z),this.mW.push(0),z.Ab||(this.Ab=!1);this.fa=this.Z0}Sb(){for(const z of this.QK)z.Sb()}Z0(){const z=
this.QK,E=this.mW;for(let G=0,N=z.length;G<N;++G)E[G]=z[G].fa(0);return E}}class w extends d.Re{constructor(z,E,G,N){super(z,E,G);this.Sea=N[1];this.fa=this.Nm;this.Ab=!0}Nm(){return this.Sea}}class x extends d.Re{constructor(z,E,G,N){super(z,E,G);this.Jea=N[1];this.fa=this.U0;this.Ab=!0}U0(){return this.Jea}}}
{"use strict";const d=self.A;function a(c,f){for(let k=0,h=c.length;k<h;++k)f[k]=c[k].fa(0)}const b=[],e=function(){};d.KM=class extends d.ja{constructor(c,f,k){super();this.ee=c;this.g=c.I();this.Wa=k;this.Ka=this.g.Fh(f[1]);this.BJ=0<f[3];this.FU=2===f[3];this.XB=!!f[4];this.ci=!!f[5];this.di=!!f[6];this.Ya=f[7];this.GU=this.ee.Vd;this.bd=this.M=null;this.kj=-1;this.Kd=null;this.rb=this.ta=e;this.La=[];this.Bb=[];this.Ll=!1;this.si=this.Gb=null;this.Qa=this.g.xb?{fd:f[8][0],Nf:f[8][1]}:null;-1===
f[0]?this.Kd=this.g.yu():(this.M=this.g.wf(f[0]),f[2]&&(this.bd=this.M.Ky(f[2]),this.kj=this.M.ou(f[2])),this.ee.Fa()&&this.ee.Fa().bv());if(10===f.length){c=f[9];for(let h of c)this.La.push(d.Re.Ta(this,h,this.La.length)),this.Bb.push(0)}0===this.La.length&&(this.Bb=this.La=b);this.ee.la().cca(this)}static Ta(c,f,k){return d.C(d.KM,c,f,k)}Sb(){for(const c of this.La)c.Sb(),c.mf&&(this.Ll=!0);this.FU?(this.ta=this.Bca,this.rb=this.z9):this.Kd?(this.LH(),this.rb=this.XG):this.M.Kb().Kn?(this.KH(),
this.rb=this.WG):this.di?(this.ta=this.Ica,this.rb=this.G9):(this.ta=this.HS,this.rb=this.A9)}LH(){this.Hv(this.Kd,this.Kd,this.FH)}KH(){const c=this.M.Kb(),f=this.M.ek().ka;this.Hv(c,f,this.EH)}Hv(c,f,k){const h=this.Ka,l=this.ci,n=this.La;if(0===n.length){const q=c.uk(h,f);this.ta=l?function(){return d.xor(q(),l)}:q}else if(1===n.length){const q=n[0];if(!l&&q.Ab)this.ta=c.sR(h,f,q.fa(0));else{const r=c.uk(h,f);this.ta=function(){return d.xor(r(q.fa(0)),l)}}}else if(2===n.length){const q=n[0],r=
n[1];if(!l&&q.Ab&&r.Ab)this.ta=c.tR(h,f,q.fa(0),r.fa(0));else{const p=c.uk(h,f);this.ta=function(){return d.xor(p(q.fa(0),r.fa(0)),l)}}}else if(3===n.length){const q=n[0],r=n[1],p=n[2];if(!l&&q.Ab&&r.Ab&&p.Ab)this.ta=c.uR(h,f,q.fa(0),r.fa(0),p.fa(0));else{const v=c.uk(h,f);this.ta=function(){return d.xor(v(q.fa(0),r.fa(0),p.fa(0)),l)}}}else this.ta=k}H(){return this.M}Ch(){return this.bd}Oe(){return this.ee}I(){return this.g}Ja(){return this.Wa}mN(){return this.Ja()}cp(){return this.BJ}Me(){return!this.Qa.fd&&
!this.g.qc()&&!this.Qa.Nf}yf(){this.Gb||(this.Gb=new Map);return this.Gb}Au(){this.si||(this.si=new Map);return this.si}FH(){const c=this.Bb;a(this.La,c);return d.xor(this.Ka.apply(this.Kd,c),this.ci)}*XG(){if(this.Qa.fd||this.g.qc())yield this;if(this.Qa.Nf){var c=this.Bb;a(this.La,c);c=this.Ka.apply(this.Kd,c);d.Wm(c)&&(c=yield*c);return d.xor(c,this.ci)}return this.ta()}EH(){const c=this.Bb;a(this.La,c);const f=this.M.ek().ka;return d.xor(this.Ka.apply(f,c),this.ci)}*WG(){if(this.Qa.fd||this.g.qc())yield this;
if(this.Qa.Nf){var c=this.Bb;a(this.La,c);const f=this.M.ek().ka;c=this.Ka.apply(f,c);d.Wm(c)&&(c=yield*c);return d.xor(c,this.ci)}return this.ta()}Bca(){return!0}*z9(){if(this.Qa.fd||this.g.qc())yield this;return!0}Ica(){var c=this.Bb;a(this.La,c);c=this.Ka.apply(this.bd||this.M,c);this.M.ec();return c}*G9(){if(this.Qa.fd||this.g.qc())yield this;if(this.Qa.Nf){var c=this.Bb;a(this.La,c);c=this.Ka.apply(this.bd||this.M,c);d.Wm(c)&&(c=yield*c);this.M.ec();return c}return this.ta()}HS(){const c=this.La,
f=this.Bb,k=this.M.$();for(let h=0,l=c.length;h<l;++h){const n=c[h];n.mf||(f[h]=n.fa(0))}return k.Yb?this.Cca(k):this.Dca(k)}*A9(){if(this.Qa.fd||this.g.qc())yield this;return this.HS()}fH(c){const f=this.La,k=this.Bb;for(let h=0,l=f.length;h<l;++h){const n=f[h];n.mf&&(k[h]=n.fa(c))}}Cca(c){const f=this.M,k=f.$a,h=f.wj,l=this.kj,n=0<=l,q=f.ma(),r=this.Ll,p=this.Bb,v=this.Ka,t=this.ci,w=this.GU&&!this.BJ;c.oy();for(let z=0,E=q.length;z<E;++z){const G=q[z];r&&this.fH(z);var x=void 0;n?(x=k?G.H().Mo(h):
0,x=v.apply(G.$c[l+x].ka,p)):x=v.apply(G.ka,p);d.xor(x,t)?c.xp(G):w&&c.rn(G)}f.ku(!0);c.ve(!1);f.ec();return c.iF()}Dca(c){const f=this.M;var k=f.$a;const h=f.wj,l=f.$b(),n=this.kj,q=0<=n,r=this.Ll,p=this.Bb,v=this.Ka,t=this.ci,w=this.GU&&!this.BJ,x=c.G,z=c.kc,E=w&&!this.ee.x2(this),G=E?z:x;let N=0,C=!1;for(let I=0,K=G.length;I<K;++I){const Q=G[I];r&&this.fH(I);var H=void 0;q?(H=k?Q.H().Mo(h):0,H=v.apply(Q.$c[n+H].ka,p)):H=v.apply(Q.ka,p);d.xor(H,t)?(C=!0,E?(x.push(Q),l&&Q.Zba()):(G[N]=Q,l&&Q.Gda(N),
++N)):E?(G[N]=Q,l&&Q.Fda(N),++N):w&&(z.push(Q),l&&Q.Yba())}d.pe(G,N);l&&f.cea(E,N);k=C;E&&!C&&(C=this.Qba(x));f.ku(k||w);return w?C:c.iF()}Qba(c){var f=this.M;const k=f.$a;f=f.wj;const h=this.Ll,l=this.kj,n=0<=l,q=this.Bb,r=this.Ka,p=this.ci;for(let t=0,w=c.length;t<w;++t){var v=c[t];h&&this.fH(t);if(n){const x=k?v.H().Mo(f):0;v=r.apply(v.$c[l+x].ka,q)}else v=r.apply(v.ka,q);if(d.xor(v,p))return!0}return!1}Qu(c,f){return this.La[c].fa(f)}g0(){const c=this.La;if(!c.length)throw Error("no parameters");
return c[0].I$()}na(){if(!this.Gb||!this.Gb.size)return null;const c={};for(const [f,k]of this.Gb.entries()){let h=k;"collmemory"===f&&(h=[...k.entries()].map(l=>[l[0].pb,l[1].pb,l[2]]));c[f]=h}return{ex:c}}xa(c){this.Gb&&(this.Gb.clear(),this.Gb=null);if(c){var f=this.g,k=c.ex;if(k){c=this.yf();c.clear();for(const [h,l]of Object.entries(k))k=l,"collmemory"===h&&(k=d.C(d.Mu,l.map(n=>[f.qe(n[0]),f.qe(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(h,k)}}}}}
{"use strict";const d=self.A;function a(f,k){for(let h=0,l=f.length;h<l;++h)k[h]=f[h].fa(0)}const b=[],e=function(){},c=function*(){};d.hy=class extends d.ja{constructor(f,k,h){super();this.ee=f;this.g=f=f.I();this.Wa=h;this.Ya=4<=k.length?k[3]:-1;this.KA=5<=k.length?k[4]:0;this.bd=this.M=this.Ka=null;this.kj=-1;this.Kd=null;this.ZA="";this.Pl=this.YA=null;this.rb=this.ta=e;this.La=[];this.Bb=[];this.Ll=!1;this.si=this.Gb=null;const l=(h=-3===k[0])?k[2]:k[5];this.Qa=f.xb||h?{fd:l[0],Nf:l[1],index:l[2]}:
null;-1===k[0]?(this.Kd=f.yu(),this.Ka=f.Fh(k[1])):-2===k[0]?this.ZA=k[1]:h?(this.Ka=f.Fh(k[1]),this.ta=this.$F,this.rb=this.fZ,this.KA=1):(this.Ka=f.Fh(k[1]),this.M=f.wf(k[0]),k[2]&&(this.bd=this.M.Ky(k[2]),this.kj=this.M.ou(k[2])));if(7===k.length){k=k[6];for(const n of k)this.La.push(d.Re.Ta(this,n,this.La.length)),this.Bb.push(0)}0===this.La.length&&(this.Bb=this.La=b);this.ee.la().bca(this)}static Ta(f,k,h){return d.C(d.hy,f,k,h)}Sb(){for(var f of this.La)f.Sb(),f.mf&&(this.Ll=!0);if(this.Kd)this.LH(),
this.rb=this.XG;else if(this.ZA)this.hda(),this.ZA="";else if(this.ta===this.$F){f=this.Ka;const k=this.g.la().FR(this.ee);this.Ka=f.bind(null,this.g.Bj,k)}else this.bd?this.Fg()?(this.ta=this.FS,this.rb=this.w9):(this.ta=this.ES,this.rb=this.v9):this.M.Kb().Kn?(this.KH(),this.rb=this.WG):this.Fg()?(this.ta=this.JS,this.rb=this.C9):this.La.length?this.La.every(k=>k.mf)?(this.ta=this.IS,this.rb=this.B9):this.Ll?(this.ta=this.LS,this.rb=this.E9):this.La.every(k=>k.Ab)?(a(this.La,this.Bb),this.ta=this.DH,
this.rb=this.UQ):(this.ta=this.KS,this.rb=this.D9):(this.ta=this.DH,this.rb=this.UQ)}LH(){this.Hv(this.Kd,this.Kd,this.FH)}KH(){const f=this.M.Kb(),k=this.M.ek().ka;this.Hv(f,k,this.EH)}hda(){const f=this.ee.la(),k=f.Wy(this.ZA);k.Hg()?(this.YA=k.Oe(),this.Pl=[...new Set([...this.ee.Fd(),...this.YA.Fd()])],this.Pl=f.gA(this.Pl),this.ta=d.hl.prototype.q5.bind(this.YA,this.Pl,this.La),this.rb=this.x9):(this.ta=e,this.rb=c)}Hv(f,k,h){const l=this.Ka,n=this.La;if(0===n.length)this.ta=f.uk(l,k);else if(1===
n.length){const q=n[0];if(q.Ab)this.ta=f.sR(l,k,q.fa(0));else{const r=f.uk(l,k);this.ta=function(){return r(q.fa(0))}}}else if(2===n.length){const q=n[0],r=n[1];if(q.Ab&&r.Ab)this.ta=f.tR(l,k,q.fa(0),r.fa(0));else{const p=f.uk(l,k);this.ta=function(){return p(q.fa(0),r.fa(0))}}}else if(3===n.length){const q=n[0],r=n[1],p=n[2];if(q.Ab&&r.Ab&&p.Ab)this.ta=f.uR(l,k,q.fa(0),r.fa(0),p.fa(0));else{const v=f.uk(l,k);this.ta=function(){return v(q.fa(0),r.fa(0),p.fa(0))}}}else this.ta=h}Fg(){return 1===this.KA}DM(){return 2===
this.KA}o1(){return 0!==this.KA}H(){return this.M}Oe(){return this.ee}I(){return this.g}Ja(){return this.Wa}mN(){return this.Qa.index}Me(){return!this.Qa.fd&&!this.g.qc()&&!this.Qa.Nf}yf(){this.Gb||(this.Gb=new Map);return this.Gb}Au(){this.si||(this.si=new Map);return this.si}FH(){const f=this.Bb;a(this.La,f);return this.Ka.apply(this.Kd,f)}*XG(){if(this.Qa.fd||this.g.qc())yield this;if(this.Qa.Nf){const f=this.Bb;a(this.La,f);return yield*this.Ka.apply(this.Kd,f)}return this.ta()}*x9(){if(this.Qa.fd||
this.g.qc())yield this;return yield*this.YA.aZ(this.Pl,this.La)}EH(){const f=this.Bb;a(this.La,f);return this.Ka.apply(this.M.ek().ka,f)}*WG(){if(this.Qa.fd||this.g.qc())yield this;if(this.Qa.Nf){const f=this.Bb;a(this.La,f);return yield*this.Ka.apply(this.M.ek().ka,f)}return this.ta()}DH(){const f=this.Bb,k=this.M.$().ma();for(let h=0,l=k.length;h<l;++h)this.Ka.apply(k[h].ka,f)}*UQ(){if(this.Qa.fd||this.g.qc())yield this;if(this.Qa.Nf){const f=this.Bb,k=this.M.$().ma();for(let h=0,l=k.length;h<l;++h)yield*this.Ka.apply(k[h].ka,
f)}else this.DH()}KS(){const f=this.Bb;a(this.La,f);const k=this.M.$().ma();for(let h=0,l=k.length;h<l;++h)this.Ka.apply(k[h].ka,f)}*D9(){if(this.Qa.fd||this.g.qc())yield this;if(this.Qa.Nf){const f=this.Bb;a(this.La,f);const k=this.M.$().ma();for(let h=0,l=k.length;h<l;++h)yield*this.Ka.apply(k[h].ka,f)}else this.KS()}IS(){const f=this.La,k=this.Bb,h=this.Ka,l=this.M.$().ma();for(let n=0,q=l.length;n<q;++n){const r=l[n];for(let p=0,v=f.length;p<v;++p)k[p]=f[p].fa(n);h.apply(r.ka,k)}}*B9(){if(this.Qa.fd||
this.g.qc())yield this;if(this.Qa.Nf){const f=this.La,k=this.Bb,h=this.Ka,l=this.M.$().ma();for(let n=0,q=l.length;n<q;++n){const r=l[n];for(let p=0,v=f.length;p<v;++p)k[p]=f[p].fa(n);yield*h.apply(r.ka,k)}}else this.IS()}LS(){const f=this.La,k=this.Bb,h=this.Ka,l=this.M.$().ma();for(let q=0,r=f.length;q<r;++q){var n=f[q];n.mf||(k[q]=n.fa(0))}for(let q=0,r=l.length;q<r;++q){n=l[q];for(let p=0,v=f.length;p<v;++p){const t=f[p];t.mf&&(k[p]=t.fa(q))}h.apply(n.ka,k)}}*E9(){if(this.Qa.fd||this.g.qc())yield this;
if(this.Qa.Nf){const k=this.La,h=this.Bb,l=this.Ka,n=this.M.$().ma();for(let q=0,r=k.length;q<r;++q){var f=k[q];f.mf||(h[q]=f.fa(0))}for(let q=0,r=n.length;q<r;++q){f=n[q];for(let p=0,v=k.length;p<v;++p){const t=k[p];t.mf&&(h[p]=t.fa(q))}yield*l.apply(f.ka,h)}}else this.LS()}ES(){var f=this.M;const k=f.$a,h=f.wj,l=this.La,n=this.Ll,q=this.Bb,r=this.Ka,p=this.kj;f=f.$().ma();for(let w=0,x=l.length;w<x;++w){var v=l[w];v.mf||(q[w]=v.fa(0))}for(let w=0,x=f.length;w<x;++w){v=f[w];if(n)for(let z=0,E=l.length;z<
E;++z){var t=l[z];t.mf&&(q[z]=t.fa(w))}t=k?v.H().Mo(h):0;r.apply(v.$c[p+t].ka,q)}}*v9(){if(this.Qa.fd||this.g.qc())yield this;if(this.Qa.Nf){var f=this.M;const l=f.$a,n=f.wj,q=this.La,r=this.Ll,p=this.Bb,v=this.Ka,t=this.kj;f=f.$().ma();for(let w=0,x=q.length;w<x;++w){var k=q[w];k.mf||(p[w]=k.fa(0))}for(let w=0,x=f.length;w<x;++w){k=f[w];if(r)for(let z=0,E=q.length;z<E;++z){var h=q[z];h.mf&&(p[z]=h.fa(w))}h=l?k.H().Mo(n):0;yield*v.apply(k.$c[t+h].ka,p)}}else this.ES()}JS(){const f=this.La,k=this.Bb,
h=this.Ka,l=this.M.$().ma(),n=[];for(let q=0,r=l.length;q<r;++q){const p=l[q];for(let v=0,t=f.length;v<t;++v)k[v]=f[v].fa(q);n.push(h.apply(p.ka,k))}return Promise.all(n)}*C9(){if(this.Qa.fd||this.g.qc())yield this;if(this.Qa.Nf){const f=this.La,k=this.Bb,h=this.Ka,l=this.M.$().ma(),n=[];for(let q=0,r=l.length;q<r;++q){const p=l[q];for(let v=0,t=f.length;v<t;++v)k[v]=f[v].fa(q);n.push(yield*h.apply(p.ka,k))}return Promise.all(n)}return this.JS()}FS(){var f=this.M;const k=f.$a,h=f.wj,l=this.La,n=this.Bb,
q=this.Ka,r=this.kj;f=f.$().ma();const p=[];for(let v=0,t=f.length;v<t;++v){const w=f[v];for(let z=0,E=l.length;z<E;++z)n[z]=l[z].fa(v);const x=k?w.H().Mo(h):0;p.push(q.apply(w.$c[r+x].ka,n))}return Promise.all(p)}*w9(){if(this.Qa.fd||this.g.qc())yield this;if(this.Qa.Nf){var f=this.M;const k=f.$a,h=f.wj,l=this.La,n=this.Bb,q=this.Ka,r=this.kj;f=f.$().ma();const p=[];for(let v=0,t=f.length;v<t;++v){const w=f[v];for(let z=0,E=l.length;z<E;++z)n[z]=l[z].fa(v);const x=k?w.H().Mo(h):0;p.push(yield*q.apply(w.$c[r+
x].ka,n))}return Promise.all(p)}return this.FS()}async $F(){try{await this.Ka()}catch(f){console.error(`Unhandled exception running script %c${this.ee.dd.Da()}, event ${this.ee.Ds}, action ${this.mN()+1}:`,"font-size: 1.2em; font-weight: bold;",f),self.Tf&&self.Tf.yda(this),d.Ey.c1()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),d.Ey.a6())}}*fZ(){if(this.Qa.fd||
this.g.qc())yield this;return this.$F()}na(){return this.Gb&&this.Gb.size?{ex:d.FG(this.Gb)}:null}xa(f){this.Gb&&(this.Gb.clear(),this.Gb=null);f&&(f=f.ex)&&(this.Gb=d.AE(f))}}}
{"use strict";const d=self.A,a=new d.jb;function b(L,O){return d.compare(this.j().K(),L,O)}function e(L,O){return d.compare(this.j().L(),L,O)}function c(){const L=this.j(),O=L.ca();return O.tr()?L.wr(O.tv()):L.pO(O.Kf,L.rc().$N(),L.rc().Ef)}function f(){var L=this.j();const O=L.rc();L=L.Uc();return 0>L.X||0>L.V||L.S>O.P()||L.N>O.O()}function k(L,O,V){const ba=this.$(),ia=ba.ma();if(!ia.length)return!1;let ja=ia[0];var la=ja.j();let va=ja,na=d.FW(la.K(),la.L(),O,V);for(let wa=1,xa=ia.length;wa<xa;++wa)if(ja=
ia[wa],la=ja.j(),la=d.FW(la.K(),la.L(),O,V),0===L&&la<na||1===L&&la>na)na=la,va=ja;ba.an(va);return!0}function h(L){const O=this.j();O.K()!==L&&(O.Qg(L),O.Va())}function l(L){const O=this.j();O.L()!==L&&(O.Rg(L),O.Va())}function n(L,O){const V=this.j();V.yE(L,O)||(V.Nh(L,O),V.Va())}function q(L,O){if(L&&(L=L.M0(this.J))){var [V,ba]=L.Xj(O);O=this.j();if(O.K()!==V||O.L()!==ba)O.Nh(V,ba),O.Va()}}function r(L){if(0!==L){var O=this.j();O.Lu(O.HE()*L,O.cF()*L);O.Va()}}function p(L,O){if(0!==O){var V=this.j();
L=d.Ea(L);V.Lu(Math.cos(L)*O,Math.sin(L)*O);V.Va()}}function v(){return this.j().K()}function t(){return this.j().L()}function w(){return this.g.hr(this.J)}function x(L,O){return d.compare(this.j().P(),L,O)}function z(L,O){return d.compare(this.j().O(),L,O)}function E(L){const O=this.j();O.P()!==L&&(O.Ue(L),O.Va())}function G(L){const O=this.j();O.O()!==L&&(O.Bf(L),O.Va())}function N(L,O){const V=this.j();if(V.P()!==L||V.O()!==O)V.Bc(L,O),V.Va()}function C(){return this.j().P()}function H(){return this.j().O()}
function I(){return this.j().Uc().S}function K(){return this.j().Uc().N}function Q(){return this.j().Uc().X}function R(){return this.j().Uc().V}function U(L,O){return d.Ft(this.j().ia(),d.Ea(O))<=d.Ea(L)}function Z(L){return d.Ke(this.j().ia(),d.Ea(L))}function ca(L,O){L=d.Ea(L);O=d.Ea(O);const V=this.j().ia();return d.Ke(O,L)?d.Ke(V,L)&&!d.Ke(V,O):!(!d.Ke(V,L)&&d.Ke(V,O))}function Y(L){const O=this.j();L=d.Xd(d.Ea(L));isNaN(L)||O.ia()===L||(O.Yc(L),O.Va())}function ha(L){if(!isNaN(L)&&0!==L){var O=
this.j();O.Yc(O.ia()+d.Ea(L));O.Va()}}function ka(L){if(!isNaN(L)&&0!==L){var O=this.j();O.Yc(O.ia()-d.Ea(L));O.Va()}}function za(L,O){const V=this.j(),ba=V.ia();L=d.qL(ba,d.Ea(O),d.Ea(L));isNaN(L)||ba===L||(V.Yc(L),V.Va())}function Oa(L,O,V){const ba=this.j(),ia=ba.ia();O-=ba.K();V-=ba.L();L=d.qL(ia,Math.atan2(V,O),d.Ea(L));isNaN(L)||ia===L||(ba.Yc(L),ba.Va())}function ab(L,O){const V=this.j(),ba=V.ia();L-=V.K();O-=V.L();O=Math.atan2(O,L);isNaN(O)||ba===O||(V.Yc(O),V.Va())}function Ua(){return d.oe(this.j().ia())}
function bb(L,O){return d.compare(d.fX(100*this.j().xf()),L,O)}function mb(){return this.j().Ac()}function Va(L){const O=this.j();L=2===L?!O.Ac():0!==L;O.Ac()!==L&&(O.Pg(L),this.g.ga())}function Pa(L){L=d.ba(L/100,0,1);const O=this.j();O.xf()!==L&&(O.qk(L),this.g.ga())}function fb(L){a.ay(L);L=this.j();L.wb.uo(a)||(L.gQ(a),this.g.ga())}function cb(){const L=this.j().wb;return d.Hz(L.cb,L.hb,L.ab,L.Xa)}function ub(){return d.fX(100*this.j().xf())}function vb(L){return L?this.j().ca()===L:!1}function wb(L){const O=
this.$(),V=O.ma();if(!V.length)return!1;let ba=V[0];for(let ia=1,ja=V.length;ia<ja;++ia){const la=V[ia],va=la.j(),na=ba.j(),wa=va.ca().Ja(),xa=na.ca().Ja();if(0===L){if(wa>xa||wa===xa&&va.gk()>na.gk())ba=la}else if(wa<xa||wa===xa&&va.gk()<na.gk())ba=la}O.an(ba);return!0}function gb(L,O,V){const ba=this.j();L=0===L?ba.Ua():ba.Yf();return d.compare(L,O,V)}function xb(){this.j().W7()}function yb(){this.j().U7()}function zb(L){L&&this.j().V7(L)}function Ab(L,O){L=0===L;O&&(O=O.zg(this.Ga()))&&this.j().T7(O,
L)}function Bb(L){const O=this.j();O.Ua()!==L&&(O.Ve(L),this.g.ga())}function Cb(){return this.j().ca().Ja()}function Db(){return this.j().ca().Da()}function hb(){return this.j().gk()}function Eb(){return this.j().Ua()}function Fb(){return this.j().Yf()}function Gb(L,O){if(O=this.H().Ra.ll(O)){O=O.Ja();L=1===L;var V=this.j().Ae;V.Gu(O)!==L&&(V.NP(O,L),V.mn(),this.g.ga())}}function Hb(L,O,V){var ba=this.H().Ra.ll(L);if(ba){L=ba.Ja();var ia=this.j().Ae,ja=ia.yg(L);O=Math.floor(O);if(!(0>O||O>=ja.length)){ba=
ba.nb.$y(O);if("color"===ba){a.ay(V);O=ja[O];if(a.uo(O))return;O.Cm(a)}else{"percent"===ba&&(V/=100);if(ja[O]===V)return;ja[O]=V}ia.Gu(L)&&this.g.ga()}}}const ib=d.C(d.Rect),Sa=[],jb=[];let kb=!1,Wa=null,lb=!1;const Ma=new Set;function nb(L,O,V,ba){O.pb<V.pb?L.Set(O,V,ba):L.Set(V,O,ba)}function qa(L,O,V){O.pb<V.pb?L.Ho(O,V):L.Ho(V,O)}function Ka(L,O,V){return O.pb<V.pb?L.fa(O,V):L.fa(V,O)}function Ib(L,O,V,ba){if(!O)return!1;L=L.Ga();const ia=0!==V||0!==ba,ja=L.j(),la=L.I(),va=la.fg;var na=la.tf();
const wa=na.Oe().Vd;var xa=na.H();na=na.ci;const Ha=O.$();xa=xa!==O;Wa=O;kb=xa&&!na;lb=!1;let La=0,Ca=0,ma=!1;Ha.Yb?(ib.wa(ja.Uc()),ib.offset(V,ba),va.GE(ja.ca(),O,ib,jb),O=jb):wa?la.v2()&&!Ha.kc.length&&Ha.G.length?O=Ha.G:(O=Ha.kc,lb=!0):O=Ha.G;ia&&(La=ja.K(),Ca=ja.L(),ja.Lu(V,ba),ja.Va());for(const ea of O)if(va.DG(L,ea)){ma=!0;if(na)break;xa&&Ma.add(ea)}ia&&(ja.Nh(La,Ca),ja.Va());d.D(jb);return ma}function Ob(L,O){if(kb){if(O){{L=L.I().Jb().Vd;O=Wa.$();const V=O.G,ba=O.kc;O.Yb?(O.av(Ma),L&&(d.D(ba),
O.tM(Ma,Wa.ma()))):L?lb?O.r7(Ma):(O.tM(Ma,V),O.av(Ma)):O.av(Ma);Wa.ec()}}Ma.clear();Wa=null;kb=!1}}function Pb(L){if(this.g.Ce)return Qb.call(this,L);if(!L)return!1;var O=this.g;const V=O.fg,ba=O.la(),ia=ba.kd();var ja=ba.tf();const la=ja.H();var va=ja.yf(),na=ja.Au();ja=ia.vf();const wa=O.Sk,xa=wa-1,Ha=ja.Jb(),La=ia.Pa(Ha);let Ca=va.get("collmemory");Ca||(Ca=d.C(d.Mu),va.set("collmemory",Ca));na.get("collisionCreatedDestroyCallback")||(na.set("collisionCreatedDestroyCallback",!0),O.Db().addEventListener("instancedestroy",
Na=>{Ca.VM(Na.instance)}));O=L.$();va=la.$().ma();na=null;for(let Na=0;Na<va.length;++Na){const Ba=va[Na];O.Yb?(V.GE(Ba.j().ca(),L,Ba.j().Uc(),Sa),na=Sa,V.uM(Ba,L,na)):na=O.ma();for(let eb=0;eb<na.length;++eb){const Ja=na[eb];if(V.DG(Ba,Ja)||V.HM(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<xa;nb(Ca,Ba,Ja,wa);ma&&(ma=Ha.Ed(),ba.Se(ma),oa=la.$(),ea=L.$(),oa.ve(!1),ea.ve(!1),la===L?(ea=oa.G,d.D(ea),ea.push(Ba),ea.push(Ja),la.ec()):(oa=oa.G,ea=ea.G,d.D(oa),d.D(ea),
oa.push(Ba),ea.push(Ja),la.ec(),L.ec()),Ha.Kg(ja,La),ba.Rb(ma))}else qa(Ca,Ba,Ja)}d.D(Sa)}ia.Na();return!1}function*Qb(L){if(!L)return!1;var O=this.g;const V=O.fg,ba=O.la(),ia=ba.kd(),ja=ia.vf(),la=O.Sk,va=la-1,na=ja.Jb(),wa=ia.Pa(na);var xa=ba.tf();const Ha=xa.H();var La=xa.yf();xa=xa.Au();let Ca=La.get("collmemory");Ca||(Ca=d.C(d.Mu),La.set("collmemory",Ca));xa.get("collisionCreatedDestroyCallback")||(xa.set("collisionCreatedDestroyCallback",!0),O.Db().addEventListener("instancedestroy",Na=>{Ca.VM(Na.instance)}));
O=L.$();La=Ha.$().ma();xa=null;for(let Na=0;Na<La.length;++Na){const Ba=La[Na];O.Yb?(V.GE(Ba.j().ca(),L,Ba.j().Uc(),Sa),xa=Sa,V.uM(Ba,L,xa)):xa=O.ma();for(let eb=0;eb<xa.length;++eb){const Ja=xa[eb];if(V.DG(Ba,Ja)||V.HM(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<va;nb(Ca,Ba,Ja,la);ma&&(ma=na.Ed(),ba.Se(ma),oa=Ha.$(),ea=L.$(),oa.ve(!1),ea.ve(!1),Ha===L?(ea=oa.G,d.D(ea),ea.push(Ba),ea.push(Ja),Ha.ec()):(oa=oa.G,ea=ea.G,d.D(oa),d.D(ea),oa.push(Ba),ea.push(Ja),
Ha.ec(),L.ec()),yield*na.vg(ja,wa),ba.Rb(ma))}else qa(Ca,Ba,Ja)}d.D(Sa)}ia.Na();return!1}function Rb(L){return Ib(this,L,0,0)}function Sb(L,O,V){return Ib(this,L,O,V)}function ob(){return this.j().hk()}function pb(){return this.j().zf()}function qb(L,O){const V=this.$().ma();if(0===V.length)return!1;const ba=L.$();var ia=ba.ma();if(0===ia.length)return!1;ia=new Set(ia);const ja=new Set;for(let va=0,na=V.length;va<na;++va){var la=V[va];if(1===O)for(const wa of la.Vx())wa.br(L)&&ia.has(wa)&&ja.add(wa);
else{if(0===O){if(la=la.Fa(),null===la)continue}else la=la.iz();la.br(L)&&ia.has(la)&&ja.add(la)}}if(0===ja.size)return!1;ba.av(ja);L.ec();return!0}function rb(L,O){const V=this.$().ma();if(0===V.length)return!1;const ba=L.$();var ia=ba.ma();if(ba.Yb){var ja=[...this.g.FL(L)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=new Set;for(let la=0,va=V.length;la<va;++la){const na=V[la];2===O&&!na.zf()&&na.br(L)&&ia.has(na)&&ja.add(na);for(const wa of 0===O?na.children():na.$k())2===
O&&wa.zf()||wa.br(L)&&ia.has(wa)&&ja.add(wa)}if(0===ja.size)return!1;ba.av(ja);L.ec();return!0}function db(L,O){const V=this.$().ma();if(0===V.length)return!1;const ba=L.$();var ia=ba.ma();if(ba.Yb){var ja=[...this.g.FL(L)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=[];for(let la=0,va=V.length;la<va;++la){const na=V[la].FE(O);null!==na&&na.br(L)&&ia.has(na)&&ja.push(na)}if(0===ja.length)return!1;ba.Ru(ja);L.ec();return!0}function g(L,O){return d.compare(this.J.Oy(),
L,O)}function m(L,O,V,ba,ia,ja,la,va){const na=this.J,wa=this.g.qu().H();for(const xa of L.tW(na,wa)){if(!xa.Kb().bW)break;na.Km(xa,{Vt:O,Wt:V,Yq:ba,Xq:ia,Ut:ja,Xt:la,Kx:va})}}function u(L){const O=this.J,V=this.g.qu().H();for(const ba of L.tW(O,V))O.kk(ba)}function y(){this.J.hk()&&this.J.Fa().kk(this.J)}function B(){return this.J.Oy()}function D(L,O){L=Math.floor(L);O=Math.floor(O);const V=this.j();2>L||2>O||!isFinite(L)||!isFinite(O)?(V.Lz(),V.Va()):V.pE(L,O)}function F(L,O,V,ba,ia,ja,la,va){const na=
this.j();na.WP(L,O,{mode:0===V?"absolute":"relative",x:ba,y:ia,gy:ja,sX:la,tX:va})&&na.Va()}function J(){const L=this.j();return L.Dg()?L.pl().Ik:0}function M(){const L=this.j();return L.Dg()?L.pl().Vk:0}function P(L){const O=this.j();L=2===L?!O.Ac():0!==L;O.Ac()!==L&&O.Pg(L)}function S(L,O){this.Q5(L,O)}function T(L,O){this.P5(L,""+O)}function X(L){this.X4(L)}function W(){this.dN()}function fa(){this.zM()}function da(){return this.HI}function aa(L){this.DA(0!==L)}function ua(){return this.Ca}function pa(L,
O,V){return d.compare(this.Ga().Pe(L),O,V)}function sa(L){return!!this.Ga().Pe(L)}function ta(L,O){const V=this.$(),ba=V.ma();if(!ba.length)return!1;let ia=ba[0],ja=ia,la=ia.Pe(O);for(let va=1,na=ba.length;va<na;++va){ia=ba[va];const wa=ia.Pe(O);if(0===L&&wa<la||1===L&&wa>la)la=wa,ja=ia}V.an(ja);return!0}function ra(L){if(this.g.tf().ci){{const ba=this.$();if(ba.Yb){ba.ve(!1);ba.oy();var O=this.ma();for(let ia=0,ja=O.length;ia<ja;++ia){var V=O[ia];V.pb===L?ba.rn(V):ba.xp(V)}this.ec();L=!!ba.G.length}else{O=
ba.G;V=0;for(let ia=0,ja=O.length;ia<ja;++ia){const la=O[ia];O[V]=la;la.pb===L?ba.rn(la):++V}d.pe(O,V);this.ec();L=!!O.length}}}else L=Da(this,L);return L}function Da(L,O){O=L.I().qe(O);if(!O)return!1;const V=L.$();if(!V.Yb&&!V.G.includes(O))return!1;if(L.$a){if(O.H().fE(L))return V.an(O),L.ec(),!0}else if(O.H()===L)return V.an(O),L.ec(),!0;return!1}function Ea(){this.g.Lm(this.J)}function Fa(){return!0}function Ga(){return!0}function Ia(L,O){this.Ga().jn(L,O)}function Qa(L,O){const V=this.Ga(),ba=
V.Pe(L);"number"===typeof ba&&"number"!==typeof O?O=parseFloat(O):"string"===typeof ba&&"string"!==typeof O&&(O=O.toString());V.jn(L,ba+O)}function Ra(L,O){const V=this.Ga(),ba=V.Pe(L);"number"===typeof ba&&("number"!==typeof O&&(O=parseFloat(O)),V.jn(L,ba-O))}function Aa(L,O){this.Ga().jn(L,O?1:0)}function Jb(L){const O=this.Ga();O.jn(L,0===O.Pe(L)?1:0)}function Kb(L){let O;try{O=JSON.parse(L)}catch(V){console.error("Failed to load from JSON string: ",V);return}L=this.Ga();L.ms("state");L.Wc(O,"state")}
function pc(){return JSON.stringify(this.Ga().md("state"))}function qc(){return this.Ga().H().Da()}function rc(){const L=this.g.uf().NI;let O=L.G.length;for(const V of this.g.FL(L))++O;return O}function sc(){return this.g.uf().NI.$().ma().length}function tc(){return this.J.No()}function uc(){return this.J.pb}d.DX=function(L,O){const V=L[1],ba=L[4],ia=L[5],ja=L[6],la=L[7],va=L[8],na=L[10],wa=L[11],xa=L[12],Ha=L[13],La=L[14],Ca=L[15],ma=O.F,ea=O.fb,oa=O.vd;L[3]&&(ma.fka=b,ma.gka=e,ma.sma=c,ma.uma=f,
ma.hoa=k,ea.Qg=h,ea.Rg=l,ea.Hra=n,ea.Ira=q,ea.pna=r,ea.ona=p,oa.aA=v,oa.bA=t,oa.HW=w);ba&&(ma.eka=x,ma.Tja=z,ea.Ue=E,ea.Bf=G,ea.Bc=N,oa.P7=C,oa.Ala=H,oa.fja=I,oa.hja=K,oa.gja=Q,oa.eja=R);ia&&(ma.UX=U,ma.s2=Z,ma.r2=ca,ea.Yc=Y,ea.bqa=ha,ea.cqa=ka,ea.dqa=za,ea.eqa=Oa,ea.C6=ab,oa.TX=Ua);ja&&(ma.Ac=mb,ma.Xja=bb,ea.Pg=Va,ea.qk=Pa,ea.Jqa=fb,oa.Opacity=ub,oa.Lja=cb);la&&(ma.qma=vb,ma.poa=wb,ma.hka=gb,ea.sna=xb,ea.qna=yb,ea.rna=zb,ea.qta=Ab,ea.Ve=Bb,oa.Sma=Cb,oa.Rma=Db,oa.pta=hb,oa.ota=Eb,oa.vsa=Fb);va&&(ea.Mqa=
Gb,ea.Nqa=Hb);Ha&&(ma.hk=ob,ma.zf=pb,ma.noa=qb,ma.goa=rb,ma.loa=db,ma.Rja=g,ea.Km=m,ea.kk=u,ea.epa=y,oa.Gja=B);La&&(ea.Ara=D,ea.WP=F,oa.lna=J,oa.mna=M);na&&(ma.Ac=mb,ea.Pg=P,ea.Dqa=S,ea.Qqa=T,ea.dpa=X);wa&&(ma.gma=da,ea.Tqa=W,ea.zqa=fa);xa&&(ma.Hg=ua,ea.hn=aa);Ca&&(ma.J3=Pb,ma.wma=Rb,ma.xma=Sb,O.F_=Ob);V||(ma.Uja=pa,ma.Vla=sa,ma.ioa=ta,ma.foa=ra,ea.$qa=Ia,ea.wia=Qa,ea.jsa=Ra,ea.Aqa=Aa,ea.ssa=Jb,ma.K3=Fa,ma.PO=Ga,ea.lZ=Ea,ea.HF||(ea.HF=Kb),oa.bY||(oa.bY=pc),oa.rka=rc,oa.qoa=sc,oa.Dla=tc,oa.Esa=uc,
oa.Dna=qc)}}
{"use strict";const d=self.A;d.eG=class extends d.ja{constructor(a){super();this.Aa=a;this.Ba="";this.Sc=-1;this.jx="";this.cC=!1;this.uj=null;this.dg=0;this.gf=[];this.Eq=new Map;this.Nl=null;this.Mv=-1;this.UI=this.eh=null;this.ix=!1}i(){this.Ba="";this.Sc=-1;this.jx="";this.UI=this.eh=this.Nl=this.uj=null;this.Mv=-1;d.D(this.gf);for(const a of this.Eq.values())a.i();this.Eq.clear()}dj(){var a=this.Aa,b=a.I().Zc;const e=a.uf();this.uj=e.Jb();this.dg=e.dg+1;if(a=a.zE(this.uj))this.Nl=a,this.eh=a.uY(),
this.UI=a.iJ.map(c=>c.Vc()),a.Fg()&&(this.Mv=a.A4());for(const c of b)if(b=c.$(),!b.Yb||this.uj.q1(c))this.gf.push(c),this.Eq.set(c,d.C(d.kQ,b))}l2(a){this.Ba="timer";this.dj();this.Sc=this.Aa.I().Ag()+a}j2(a){this.Ba="signal";this.dj();this.jx=a.toLowerCase()}Y1(a){this.Ba="promise";this.dj();a.then(()=>this.oG()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.oG()})}L2(){return"timer"===this.Ba}I2(){return"signal"===this.Ba}E2(){return"promise"===
this.Ba}oG(){this.cC=!0}gT(){return this.L2()?this.Sc<=this.Aa.I().Ag():this.cC}DS(a){a.CH(this.uj,this.dg);for(const [b,e]of this.Eq.entries())e.CH(b.$());if(a=this.Nl)a.Vu(this.eh),a.iJ.map((b,e)=>b.Og(this.UI[e])),a.Fg()&&a.p5(this.Mv)}yca(a){this.DS(a);this.uj.xca(a);this.Nl&&this.Nl.Fg()&&this.Nl.Ku(this.Mv);this.Aa.cr(this.gf);this.ix=!0}async s9(a){this.DS(a);for(const b of this.uj.r9(a))await this.Aa.I().dr(b);this.Nl&&this.Nl.Fg()&&this.Nl.Ku(this.Mv);this.Aa.cr(this.gf);this.ix=!0}jp(a){for(const b of this.Eq.values())b.jp(a)}na(){const a=
{},b={t:this.Sc,st:this.jx,s:this.cC,ev:this.uj.Ya,sm:this.gf.map(e=>e.Ya),sols:a};this.uj.X$(this.dg)&&(b.act=this.uj.eN(this.dg).Ya);for(const [e,c]of this.Eq)a[e.Ya.toString()]=c.na();return b}static S8(a,b){const e=a.I();var c=a.a0(b.ev);if(!c)return null;let f=0;if(b.hasOwnProperty("act")){var k=a.K_(b.act);if(!k)return null;f=k.Ja()}k=d.C(d.eG,a);k.Sc=b.t;k.Ba=-1===k.Sc?"signal":"timer";k.jx=b.st;k.cC=b.s;k.uj=c;k.dg=f;for(var h of b.sm)(c=e.Zy(h))&&k.gf.push(c);for(const [l,n]of Object.entries(b.sols))if(b=
e.Zy(parseInt(l,10)))h=d.C(d.kQ,null),h.xa(a,n),k.Eq.set(b,h);return k}}}{"use strict";const d=self.A;d.kQ=class extends d.ja{constructor(a){super();this.M=null;this.bC=!0;this.G=[];a&&(this.M=a.H(),this.bC=a.Yb,d.td(this.G,a.G))}i(){this.M=null;d.D(this.G)}CH(a){a.ve(this.bC);d.td(a.G,this.G)}jp(a){d.wh(this.G,a)}na(){return{sa:this.bC,insts:this.G.map(a=>a.pb)}}xa(a,b){a=a.I();this.bC=!!b.sa;d.D(this.G);for(const e of b.insts)(b=a.qe(e))&&this.G.push(b)}}}
{"use strict";const d=self.A;function a(b,e){let c=b.get(e);c||(c=new Map,b.set(e,c));return c}d.Al=class extends d.ja{constructor(b){super();this.g=b.Gc;this.Kn=!!b.PW;this.Ff=!!b.bha;this.mfa=!!b.aha;this.wfa=!!b.oha;this.Yea=!!b.Oga;this.bW=!!b.Pha;this.Rfa=!!b.Oha;this.RV=null;this.ET=new Map;this.Eea=new Map;this.Fea=new Map;this.Gea=new Map}i(){this.g=null}I(){return this.g}Ic(){}zr(){return this.mfa}$m(){return this.wfa}jF(){return this.Yea}uk(b,e){if(!e)throw Error("missing 'this' binding");
let c=this.ET.get(b);if(c)return c;c=b.bind(e);this.ET.set(b,c);return c}sR(b,e,c){if(!e)throw Error("missing 'this' binding");const f=a(this.Eea,b);let k=f.get(c);if(k)return k;k=b.bind(e,c);f.set(c,k);return k}tR(b,e,c,f){if(!e)throw Error("missing 'this' binding");var k=a(this.Fea,b);k=a(k,c);let h=k.get(f);if(h)return h;h=b.bind(e,c,f);k.set(f,h);return h}uR(b,e,c,f,k){if(!e)throw Error("missing 'this' binding");var h=a(this.Gea,b);h=a(h,c);h=a(h,f);let l=h.get(k);if(l)return l;l=b.bind(e,c,f,
k);h.set(k,l);return l}Hda(b){if(!this.Kn)throw Error("must be single-global plugin");this.RV=b}ek(){if(!this.Kn)throw Error("must be single-global plugin");return this.RV.ek()}}}
{"use strict";const d=self.A;d.hqa=class extends d.Al{constructor(a,b){super(a);this.Cn=b;this.Afa=0;this.jJ=new Map;this.sM("elem-focused",e=>e.sba());this.sM("elem-blurred",e=>{e&&e.rba()})}i(){super.i()}c8(a){const b=this.Afa++;this.jJ.set(b,a);return b}nca(a){this.jJ.delete(a)}sM(a,b){this.g.Ei(this.Cn,a,e=>{const c=this.jJ.get(e.elementId);b(c,e)})}}}{"use strict";const d=self.A;d.lp=class extends d.ja{constructor(a){super();this.M=a;this.g=a.I();this.ii=a.Kb()}i(){this.ii=this.g=this.M=null}H(){return this.M}I(){return this.g}Kb(){return this.ii}Nd(){return this.M.Nd()}ku(){}Br(){}hp(){}Gz(){}NF(){}Pi(){return null}}}
{"use strict";const d=self.A;d.kp=class extends d.ja{constructor(a,b){super();this.J=a;this.Cn=b;this.g=a.I();this.M=this.J.H();this.eb=this.M.eb;this.qm=this.tm=null;this.Zl=this.Yl=!1;this.Sd=null;this.Hx=!1}i(){this.Hx=!0;this.Bp();this.GA();this.qm=this.tm=null;this.Sd&&(this.Sd.i(),this.Sd=null);this.eb=this.M=this.g=this.J=null}Zz(){return this.Hx}Ga(){return this.J}I(){return this.g}H(){return this.M}Kb(){return this.eb.Kb()}fz(){return this.J.Eh()}ua(a){return this.g.ua(a,this.J,null)}mb(a){return this.g.mb(a,
this.J,null)}mk(a){return this.g.mk(a)}XD(a,b){this.g.Ei(this.Cn,a,b)}YD(a){for(const [b,e]of a)this.XD(b,e)}Oa(a,b){this.g.zl(this.Cn,a,b)}jk(a,b){return this.g.fp(this.Cn,a,b)}wk(a,b){this.g.De?this.Oa(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Cn,handler:a,data:b,responseId:null})}ae(){}hv(){}Rh(){this.Yl||(this.tm||(this.tm=()=>this.ae()),this.g.Db().addEventListener("tick",this.tm),this.Yl=!0)}Bp(){this.Yl&&(this.g.Db().removeEventListener("tick",this.tm),
this.Yl=!1)}jT(){this.Zl||(this.qm||(this.qm=()=>this.hv()),this.g.Db().addEventListener("tick2",this.qm),this.Zl=!0)}GA(){this.Zl&&(this.g.Db().removeEventListener("tick2",this.qm),this.Zl=!1)}md(){return null}Wc(){}zc(){}Mg(){}KF(a,b){if(0!==b){var e=this.zc(a);if("number"!==typeof e)throw Error("expected number");this.Mg(a,e+b)}}Pi(){return null}}}
{"use strict";const d=self.A;d.dG=class extends d.kp{constructor(a,b){super(a,b);this.qb=a.j();this.pD=this.Ct=null}i(){if(this.Ct){const a=this.g.Db();a.removeEventListener("webglcontextlost",this.Ct);a.removeEventListener("webglcontextrestored",this.pD);this.pD=this.Ct=null}this.qb=null;super.i()}d1(){if(!this.Ct){this.Ct=()=>this.Er();this.pD=()=>this.eP();var a=this.g.Db();a.addEventListener("webglcontextlost",this.Ct);a.addEventListener("webglcontextrestored",this.pD)}}Er(){}eP(){}j(){return this.qb}bp(){return!1}bk(){if(!this.bp())throw Error("original size not known");
const a=this.Dh();if(a)return a.P()}ak(){if(!this.bp())throw Error("original size not known");const a=this.Dh();if(a)return a.O()}Dh(){return null}Py(){var a=this.Dh();return a&&(a=a.se())?[a.P(),a.O()]:[100,100]}Qy(){const a=this.Dh();return a?a.Gh():null}Xj(){const a=this.J.j();return[a.K(),a.L()]}Ir(){return!0}}}
{"use strict";const d=self.A,a=d.C(d.Rect);d.gqa=class extends d.dG{constructor(b,e){super(b,e);this.qB=this.Kb().c8(this);this.EU=!0;this.Aea=this.HI=!1;this.Ts=d.C(d.Rect,0,0,-1,-1);b=this.g.W;this.WU=b.Yk;this.VU=b.Xk;this.Rh()}i(){this.Kb().nca(this.qB);this.Fr("destroy");this.qB=-1;super.i()}Fr(b,e){e||(e={});e.elementId=this.qB;this.Oa(b,e)}tS(b){b||(b={});b.elementId=this.qB;this.wk("focus",b)}Rz(b){b=!!b;this.EU!==b&&(this.EU=b,this.Fr("set-visible",{isVisible:b}))}ae(){this.iea()}Oda(){const b=
this.g.W.Vy();return"Android"===d.Xc.Dr&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}iea(){var b=this.j();const e=b.ca();var c=b.K(),f=b.L();let [k,h]=e.ep(c,f),[l,n]=e.ep(c+b.P(),f+b.O());c=this.g.W;f=c.cd;const q=c.Nc;if(b.Ac()&&e.Ac()){if(!this.Oda()){if(0>=l||0>=n||k>=f||h>=q){this.Rz(!1);return}1>k&&(k=1);1>h&&(h=1);l>=f&&(l=f-1);n>=q&&(n=q-1)}a.set(k,h,l,n);b=c.Yk;f=c.Xk;a.Tc(this.Ts)&&this.WU===b&&this.VU===f?this.Rz(!0):(this.Ts.wa(a),this.WU=b,this.VU=f,this.Rz(!0),b=null,this.Aea&&
(b=e.kl()-.2),this.Fr("update-position",{left:Math.round(this.Ts.S)+c.Ko(),top:Math.round(this.Ts.N)+c.Lo(),width:Math.round(this.Ts.width()),height:Math.round(this.Ts.height()),fontSize:b}))}else this.Rz(!1)}dN(){this.tS({focus:!0})}zM(){this.tS({focus:!1})}sba(){this.HI=!0}rba(){this.HI=!1}Q5(b,e){this.Fr("set-css-style",{prop:d.lY(b),val:e})}P5(b,e){this.Fr("set-attribute",{name:b,val:e})}X4(b){this.Fr("remove-attribute",{name:b})}}}
{"use strict";const d=self.A,a=self.aO;d.aG=class extends d.ja{constructor(b){super();this.g=b.Gc;this.cK=d.C(d.dE);this.zC=d.C(d.dE);this.jw=null;this.Mfa=b.Iha||null}i(){this.zC.i();this.cK.i();this.g=null}I(){return this.g}Ic(){}d8(b){this.cK.yc(b)}CN(){return this.cK.CE()}Vg(b){this.zC.yc(b)}yp(b){this.zC.Ho(b)}ma(){return this.zC.CE()}r0(){if(null===this.jw){const b=this.Mfa;if(b){if(this.jw=new b(this),!(this.jw instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.jw=new a(this)}return this.jw}}}{"use strict";const d=self.A;d.cG=class extends d.ja{constructor(a){super();this.g=a.I();this.bd=a;this.M=a.H();this.jj=a.rf();this.jj.d8(this.M)}i(){this.jj=this.M=this.bd=this.g=null}Ch(){return this.bd}H(){return this.M}I(){return this.g}rf(){return this.jj}}}
{"use strict";const d=self.A;d.bG=class extends d.ja{constructor(a,b){super();this.VA=a;this.Cn=b;this.J=a.J;this.g=a.I();this.bd=a.Ch();this.eb=this.bd.eb;this.IU=this.Zl=this.Yl=!1;this.Sd=null}i(){this.Bp();this.GA();this.Vda();this.Sd&&(this.Sd.i(),this.Sd=null);this.eb=this.bd=this.g=this.J=this.VA=null}rf(){return this.bd.rf()}H(){return this.J.H()}j(){return this.J.j()}I(){return this.g}Ch(){return this.bd}fz(){return this.VA.fz()}ua(a){return this.g.ua(a,this.J,this.bd)}mb(a){return this.g.mb(a,
this.J,this.bd)}Iz(){}ae(){}hv(){}Rh(){this.Yl||(this.g.X7(this),this.Yl=!0)}Bp(){this.Yl&&(this.g.kca(this),this.Yl=!1)}jT(){this.Zl||(this.g.Y7(this),this.Zl=!0)}GA(){this.Zl&&(this.g.lca(this),this.Zl=!1)}Vda(){this.IU&&(this.g.jca(this),this.IU=!1)}XD(a,b){this.g.Ei(this.Cn,a,b)}md(){return null}Wc(){}zc(){}Mg(){}KF(a,b){if(0!==b){var e=this.zc(a);if("number"!==typeof e)throw Error("expected number");this.Mg(a,e+b)}}Pi(){return null}}}
{"use strict";const d=self.A;d.B={};d.ra={};d.B4=class extends d.ja{constructor(a){super();this.g=a;this.zea=[];this.tV=new Map;this.Kd=null;this.wea=[];this.nI=new Map;this.NU=this.UV=null}WY(a){const b=this.g.Fh(a[0]);if(!b)throw Error("missing plugin");d.DX(a,b);a=d.C(b,{Gc:this.g,PW:a[1],bha:a[2],aha:a[5],Oga:a[8],oha:a[9],Pha:a[13],Oha:a[14]});a.Ic();this.zea.push(a);this.tV.set(b,a)}YY(){this.Kd=d.C(d.B.lb,{Gc:this.g,PW:!0});this.Kd.Ic()}SY(a){a=this.g.Fh(a[1]);if(!a)throw Error("missing behavior");
const b=d.C(a,{Gc:this.g});b.Ic();this.wea.push(b);this.nI.set(a,b);!this.UV&&d.ra.Co&&b instanceof d.ra.Co?this.UV=b:!this.NU&&d.ra.dha&&b instanceof d.ra.dha&&(this.NU=b)}O0(a){return this.tV.get(a)||null}j1(a){return this.nI.has(a)}P_(a){return this.nI.get(a)||null}yu(){return this.Kd}}}
{"use strict";const d=self.A,a=new Set;d.rz=class extends d.ja{constructor(){super();this.Uk="";this.R=this.U=this.ft=this.et=this.nt=0;this.gw=this.aC=!1;this.ef=null;this.pm="";this.ng=d.C(d.Rect);this.yq=d.C(d.xd);a.add(this)}i(){this.Jh();this.ef=null;a.delete(this)}static Er(){for(const b of a)b.pm="",b.ng.set(0,0,0,0),b.yq.Sj(b.ng)}yO(b){this.Uk=b[0];this.nt=b[1];this.et=b[2];this.ft=b[3];this.U=b[4];this.R=b[5];this.aC=b[6];this.gw=!0}Z2(b,e){if(this.ef)throw Error("already loaded asset");
this.Uk=e;const c={};d.rF(e)&&(c.Sx="remote");this.GF(b,c);return this.ef.xO()}h5(b){if(b===this)throw Error("cannot replace with self");this.Jh();this.Uk=b.Uk;this.nt=b.nt;this.et=b.et;this.ft=b.ft;this.U=b.U;this.R=b.R;this.gw=b.gw;this.ef=b.ef;this.pm=b.pm;this.ng=b.ng;this.yq=b.yq}Rm(){return this.nt}P(){return this.U}O(){return this.R}GF(b,e){if(this.ef)throw Error("already got asset");e=Object.assign({},e,{url:this.Uk,size:this.Rm()});this.ef=b.Ez(e)}BF(){return this.ef&&this.ef.BF()}async Ar(b,
e){if(!this.ef)throw Error("no asset");if(this.pm)throw Error("already loaded texture");this.pm="loading";b=await this.ef.Ar(b,e);if(!b)return this.pm="",null;this.pm="loaded";this.gw||(this.U=b.P(),this.R=b.O(),this.gw=!0);this.ng.set(this.et,this.ft,this.et+(this.aC?this.R:this.U),this.ft+(this.aC?this.U:this.R));this.ng.al(b.P(),b.O());this.yq.Sj(this.ng);this.aC&&this.yq.Eha();return b}Jh(){this.pm&&(this.ef&&this.ef.Jh(),this.pm="",this.ng.set(0,0,0,0),this.yq.Sj(this.ng))}se(){return this.ef?
this.ef.se():null}Gh(){return this.ng}gz(){return this.yq}async A_(){const b=await this.ef.e3(),e=d.ug(this.U,this.R);e.getContext("2d").drawImage(b,this.et,this.ft,this.U,this.R,0,0,this.U,this.R);return e}}}
{"use strict";const d=self.A;d.WX=class extends d.ja{constructor(a){super();this.Ia=a[0];this.Ofa=a[1];this.XB=!!a[2];this.mt=a[3];this.HV=a[4];this.lfa=!!a[5];this.Ya=a[6];this.Ud=a[7].map(b=>d.C(d.VX,b))}i(){for(const a of this.Ud)a.i();d.D(this.Ud)}W2(a){for(const b of this.Ud)b.Nd().GF(a)}X2(a,b){return Promise.all(this.Ud.map(e=>e.Nd().Ar(a,b)))}U4(){for(const a of this.Ud)a.Nd().Jh()}Da(){return this.Ia}Om(a){a=Math.floor(a);if(0>a||a>=this.Ud.length)throw new RangeError("invalid frame");return this.Ud[a]}ql(){return this.Ofa}Qm(){return this.mt}}}
{"use strict";const d=self.A;d.VX=class extends d.ja{constructor(a){super();this.jg=d.C(d.rz);this.jg.yO(a);this.TT=a[7];this.qV=d.C(d.jv,a[8],a[9]);this.JB=a[10].map(b=>d.C(d.H1,this,b));this.wU=new Map;for(const b of this.JB)this.wU.set(b.Da().toLowerCase(),b);this.Lp=null;a=a[11];6<=a.length&&(this.Lp=d.C(d.Fo,a))}i(){this.Lp&&(this.Lp.i(),this.Lp=null);this.jg.i();this.jg=null}Nd(){return this.jg}Zj(){return this.qV.Y}$j(){return this.qV.T}t0(a){return this.wU.get(a.toLowerCase())||null}s0(a){a=
Math.floor(a);return 0>a||a>=this.JB.length?null:this.JB[a]}RE(){return this.JB.length}}}{"use strict";const d=self.A;d.H1=class extends d.ja{constructor(a,b){super();this.Ia=b[0];this.rK=d.C(d.jv,b[1],b[2])}i(){}Da(){return this.Ia}K(){return this.rK.Y}L(){return this.rK.T}Uo(){return this.rK}}}
{"use strict";const d=self.A,a=self.Tf,b=self.pz;d.JF=class extends d.ja{constructor(e,c,f){super();const k=e.Fh(f[1]);this.g=e;this.ii=e.uq.O0(k);this.eb=null;this.NB=k.Instance;this.Wa=c;this.Ya=f[11];this.Ia=f[0];this.Fw=this.g.Li(f[14]);this.ifa=!!f[9];this.$a=!!f[2];this.yJ=!!f[10];this.Cj=f[3].map(h=>({jX:h[0],type:h[1],name:h[2],cha:e.Li(h[3])}));this.Cea=f[4];this.Tea=f[5];this.Ff=this.ii.Ff;this.Ra=null;this.bB=d.C(d.d7,e.mh,e.kh);this.fI=!0;this.gI=!1;this.RI=this.En=null;this.wj=-1;this.QI=
this.vB=this.wB=this.OI=this.ai=null;this.sJ=!1;this.Zg=null;this.CT=f[8].map(h=>d.wM.Ta(this,h));this.WA=[];this.oI=new Map;this.mI=new Map;this.kW=new Set;this.ao=d.C(d.a7,this);this.RA=this.QA=this.Rd=this.jg=this.Zg=this.Cs=null;this.wt=0;this.Gb=new Map;this.si=new Map;this.G=[];this.fJ=!0;this.ii.jF()&&(this.Ra=d.C(d.gl,this,f[12]));f[6]&&(this.jg=d.C(d.rz),this.jg.yO(f[6]));if(f[7]){this.Rd=f[7].map(h=>d.C(d.WX,h));this.QA=new Map;this.RA=new Map;for(const h of this.Rd)this.QA.set(h.Da().toLowerCase(),
h),this.RA.set(h.Ya,h)}this.$a?(this.En=[],this.RI=new Set,this.wj=this.g.N$()):(this.ai=[],this.OI=new Set,this.wB=[],this.vB=[],this.QI=[]);this.eb=d.C(k.Oh,this,f[15]);this.CU=this.lw=null;this.me=d.C(d.Event.Db);if(c=this.eb.Pi()){if(this.lw=new c(this),!(this.lw instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.lw=new b(this);this.g.lD&&!this.$a&&!this.yJ&&this.Ff||this.Ic();this.ii.Kn&&(this.ii.Hda(this),this.f9(f))}static Ta(e,c,f){return d.C(d.JF,
e,c,f)}i(){this.jg&&(this.jg.i(),this.jg=null);if(this.Rd){for(const e of this.Rd)e.i();d.D(this.Rd);this.QA.clear();this.RA.clear()}this.ao.i();this.ao=null;this.Gb.clear();this.si.clear();this.g=this.Zg=null}Faa(e){for(let c=1,f=e.length;c<f;++c){const k=this.g.wf(e[c]);this.En.push(k);this.RI.add(k);k.ai.push(this);k.OI.add(this)}}jda(e){this.sJ=!0;this.Zg=e}$b(){return this.sJ}kba(){var e=0;if(!this.$a)for(var c of this.ai)for(var f of c.CT){const l=f.Da().toLowerCase();this.oI.set(l,f);this.mI.set(l,
e);this.WA.push(f);++e}for(var k of this.CT)c=k.Da().toLowerCase(),this.oI.set(c,k),this.mI.set(c,e),this.WA.push(k),++e;for(var h of this.WA)this.kW.add(h.rf().constructor);if(!this.$a&&this.ai.length){e=this.g.ZT;d.xD(this.wB,e,0);d.xD(this.vB,e,0);d.xD(this.QI,e,0);e=[];c=h=k=0;for(const l of this.ai)if(f=l.wj,this.wB[f]=k,k+=l.Cj.length,this.vB[f]=h,h+=l.Cea,this.QI[f]=c,c+=l.Tea,(f=l.Ra)&&this.Ra)for(const n of f.wg())e.push(n.EY(this.Ra));this.Ra&&this.Ra.H4(e)}}f9(e){const c=this.g.M$(),f=
d.C(d.Instance,{Gc:this.g,RL:this,uid:c});f.eA(e[16],[]);this.g.Yaa(c,f);this.G.push(f)}Ic(){this.$a||this.eb.Ic()}n1(){return 0<this.wt}Br(e){if(this.$a)return Promise.resolve();this.wt++;return 1===this.wt?this.eb.Br(e)||Promise.resolve():Promise.resolve()}hp(){if(!this.$a){this.wt--;if(0>this.wt)throw Error("released textures too many times");0===this.wt&&this.eb.hp()}}Gz(){if(this.$a)throw Error("not applicable to family");this.eb.Gz()}NF(e){return this.$a?Promise.resolve():this.eb.NF(e)}I(){return this.g}Kb(){return this.ii}Da(){return this.Ia}Li(){return this.Fw}Ja(){return this.Wa}Ig(){return this.ifa}vQ(e){return e&&
this.kW.has(e)}z0(){return this.Cj.map(e=>e.jX)}y0(e){return this.Cj.findIndex(c=>c.jX===e)}x0(e){return this.Cj.findIndex(c=>c.name===e)}A$(){return this.Cj.map(e=>e.cha)}uu(e){e=Math.floor(e);if(0>e||e>=this.Cj.length)throw new RangeError("invalid instance variable index");return this.Cj[e].type}uN(e){e=Math.floor(e);if(0>e||e>=this.Cj.length)throw new RangeError("invalid instance variable index");return this.Cj[e].name}Ky(e){return this.oI.get(e.toLowerCase())||null}ou(e){e=this.mI.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}jF(){return this.ii.jF()}wQ(){return this.Ra&&this.Ra.f1()}$(){return this.ao.$()}Nd(){return this.jg}JP(e){this.Cs=e}fE(e){return this.OI.has(e)}aN(e){return this.RI.has(e)}Mo(e){return this.vB[e]}qN(e){return this.wB[e]}fN(e){if(!this.Rd)throw Error("no animations");return this.QA.get(e.toLowerCase())||null}N_(e){if(!this.Rd)throw Error("no animations");return this.RA.get(e)||null}j0(){if(!this.Rd)throw Error("no animations");return this.Rd[0].Om(0)}X_(){if(this.Rd){const e=
this.j0().Nd();return[e.P(),e.O()]}return this.jg?[this.jg.P(),this.jg.O()]:[100,100]}ek(){if(!this.ii.Kn)throw Error("not a single-global plugin");return this.G[0]}ma(){return this.G}*NW(){yield*this.G}*Tga(){yield*this.G;for(const e of this.g.Vl)e.H()===this&&(yield e)}Vg(e){this.G.push(e)}Ev(){this.fJ=!0}JA(){if(this.fJ&&!this.$a){var e=this.G,c=0;for(let f=e.length;c<f;++c)e[c].VS(c);e=this.g.Vl;for(const f of e)f.H()===this&&f.VS(c++);this.fJ=!1}}tN(e){var c=this.G;if(e<c.length)return c[e];
e-=c.length;c=this.g.Vl;for(const f of c)if(f.H()===this){if(0===e)return f;--e}return null}zg(e){if(e&&e.$b()&&e.H()!==this)for(const c of e.Jd)if(c.H()===this)return c;e=this.$().ma();return e.length?e[0]:null}M0(e){const c=this.$().ma();return 0<c.length?c[e.No()%c.length]:null}*tW(e,c){const f=this.$().ma();var k=f.length;const h=c.$(),l=c.$().ma(),n=l.length;var q=e.No();if(c.$a||!h.Yb)q=l.indexOf(e);e=Math.ceil(k/n);k%=n;0===k||q<k?(q*=e,k=e):(q=k*e+(q-k)*(e-1),k=e-1);for(let r=q,p=q+k;r<p;++r)yield f[r]}ku(e){this.eb.ku(e)}ec(){if(this.sJ&&
!this.$a){this.JA();var e=this.$(),c=e.G,f=e.Yb,k=this.g.uf();k=k&&k.Jb()&&k.Jb().Vd;for(const n of this.Zg.gm)if(n!==this){n.JA();var h=n.$();h.ve(f);if(!f){var l=h.G;d.D(l);for(const q of c)l.push(n.tN(q.No()));if(k){l=e.kc;h=h.kc;d.D(h);for(const q of l)h.push(n.tN(q.No()))}}}}}cea(e,c){for(const f of this.Zg.gm){const k=f.$();e?d.pe(k.kc,c):d.pe(k.G,c)}}OS(){this.fI=!0}GH(e){this.gI=!!e}oT(){if(this.fI&&this.Ff){for(const e of this.G)e.j().rT();for(const e of this.g.Vl)e.H()===this&&e.j().rT();
this.fI=!1}}yf(){this.Gb||(this.Gb=new Map);return this.Gb}Au(){this.si||(this.si=new Map);return this.si}YN(){return this.vQ(d.ra.zna)}kF(){return this.vQ(d.ra.aoa)}na(){const e={instances:this.G.map(c=>c.md())};this.Gb&&this.Gb.size&&(e.ex=d.FG(this.Gb));return e}xa(e){this.Gb&&(this.Gb.clear(),this.Gb=null);var c=e.ex;c&&(this.Gb=d.AE(c));c=this.G;e=e.instances;for(let f=0,k=Math.min(c.length,e.length);f<k;++f)c[f].Wc(e[f]);for(let f=e.length,k=c.length;f<k;++f)this.g.Lm(c[f]);for(let f=c.length,
k=e.length;f<k;++f){c=e[f];let h=null;if(this.Ff&&(h=this.g.Pb().Yy(c.w.l),!h))continue;this.g.Hi(this.Cs||this,h,!1,0,0,!0).Wc(c)}this.Ev()}Bh(e){var c=this.g;(c=c.xb&&!c.la().wz())&&a.AG();this.me.dispatchEvent(e);c&&a.bE()}}}{"use strict";const d=self.A;d.MY=class extends d.ja{constructor(a,b){super();this.g=a;this.gm=b;for(const e of this.gm)e.jda(this)}i(){this.g=null}I(){return this.g}i1(){return this.gm.some(a=>a.Ff)}}}
{"use strict";const d=self.A,a=self.Tf,b=self.Fu,e=[];let c=0;const f=new WeakMap,k=new WeakMap;d.Instance=class extends d.ja{constructor(h){super();this.g=h.Gc;this.ge=h.RL;this.ye=this.ka=this.qb=null;this.uU=0;this.pb=h.uid;this.AV=c++;this.qa=0;this.$c=this.Df=e;var l=this.ge.WA;0<l.length&&(this.$c=l.map((n,q)=>d.C(d.iy,{Gc:this.g,rL:n,instance:this,index:q})));this.Jd=this.ge.$b()?[]:null;this.Cd=-1;this.Wb=null;l=this.Kb();l.$m()&&(this.qa|=4);if(l.Ff)if(this.qb=d.C(d.Q7,this,h.Zd),h.uX)this.qb.Tm(h.uX);
else{this.qb.X1();const [n,q]=this.ge.X_();this.qb.Bc(n,q);this.H().wQ()&&this.qb.Ae.Y2()}h.MW?this.Jaa(h.MW):this.Daa()}i(){this.ye&&(this.ye.Dv(),this.ye=null);if(0<this.$c.length){for(var h of this.$c)h.i();d.D(this.$c)}this.ka.i();this.ka=null;if(h=f.get(this))h.clear(),f.delete(this);if(h=k.get(this))h.clear(),k.delete(this);this.Jd&&d.D(this.Jd);this.Wb&&(this.Wb.i(),this.Wb=null);this.ge=this.g=null;0<this.Df.length&&d.D(this.Df);this.qb&&(this.qb.i(),this.qb=null)}Jaa(h){0<h.length&&(this.Df=
[],d.td(this.Df,h))}Daa(){const h=this.ge.Cj.length;if(0!==h){this.Df=[];var l=[0,0,""];for(let n=0;n<h;++n)this.Df.push(l[this.ge.uu(n)])}}eA(h,l){if(this.ka)throw Error("already got sdk instance");for(let n=0,q=this.$c.length;n<q;++n)this.$c[n].eA(l?l[n]:null);this.ka=d.C(this.ge.NB,this,h);if(!(this.ka instanceof d.kp))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,q=this.$c.length;n<q;++n)this.$c[n].Iz();this.ge.CU&&this.XR()}j(){return this.qb}I(){return this.g}L_(){const h=
this.Cd;return-1===h?this.I().Cd:h}sG(h){h=+h;if(0>h||!isFinite(h))h=0;this.Cd=h}o5(){this.Cd=-1}Db(){this.Wb||(this.Wb=d.C(d.Event.Db));return this.Wb}qf(h){this.ka.qf(h)}Ic(h){this.ka.Ic(h)}tda(){this.qa|=2}Qi(){return 0!==(this.qa&2)}pH(){this.qa|=1}jO(){return 0!==(this.qa&1)}$m(){return 0!==(this.qa&4)}n6(){this.qa|=32}FO(){return 0!==(this.qa&32)}uaa(){return 0!==(this.qa&8)}Ida(h){this.qa=h?this.qa|8:this.qa&-9}Uu(h,l){h<<=16;this.qa=l?this.qa|h:this.qa&~h}OE(h){return 0!==(this.qa&h<<16)}Dh(){return this.ka.Dh()}Py(){return this.ka.Py()}Qy(){return this.ka.Qy()}Xj(h){return this.ka.Xj(h)}H(){return this.ge}Ir(){return this.ka.Ir()}br(h){return h.$a?
h.aN(this.H()):this.H()===h}xQ(){if(!this.Kb().bW)throw Error("object does not support scene graph");}hk(){return null!==this.Fa()}Fa(){var h=this.j();return h?(h=h.Fa())?h.Ga():null:null}iz(){var h=this.j();return h?(h=h.iz())?h.Ga():null:null}*Vx(){const h=this.j();if(h)for(const l of h.Vx())yield l.Ga()}zf(){const h=this.j();return h?h.zf():!1}sf(){const h=this.j();return h?h.sf().map(l=>l.Ga()):[]}*children(){const h=this.j();if(h)for(const l of h.children())yield l.Ga()}*$k(){const h=this.j();
if(h)for(const l of h.$k())yield l.Ga()}Oy(){const h=this.j();return h?h.Oy():0}FE(h){const l=this.j();return l?(h=l.FE(h))?h.Ga():null:null}Km(h,l){this.xQ();h.xQ();this.j().Km(h.j(),l||{})}kk(h){const l=this.j();l&&l.kk(h.j())}Sy(){const h=this.j();return h?h.Sy():!1}V6(){var h=this.j();if(h&&(h=h.DK))for(const l of h)if(h=this.g.qe(l[2])){const n=l[3];this.Km(h,{Vt:!!(n>>0&1),Wt:!!(n>>1&1),Yq:!!(n>>2&1),Xq:!!(n>>3&1),Ut:!!(n>>4&1),Kx:!!(n>>5&1),Xt:!!(n>>6&1)})}}$b(){return null!==this.Jd}bs(h){this.Jd.push(h)}p1(h){return!!this.PN(h)}PN(h){const l=
this.Jd;if(null===l||0===l.length)return!1;for(const n of l)if(n.H()===h)return n;return null}Yi(){for(const h of this.Jd)h.H().$().rk(h)}Zba(){for(const h of this.Jd)h.H().$().xp(h)}Gda(h){for(const l of this.Jd)l.H().$().G[h]=l}Yba(){for(const h of this.Jd)h.H().$().rn(h)}Fda(h){for(const l of this.Jd)l.H().$().kc[h]=l}Kb(){return this.ge.Kb()}VS(h){this.uU=h}No(){this.ge.JA();return this.uU}gN(h){const l=this.$c;for(let n=0,q=l.length;n<q;++n)if(l[n].Ch().Ya===h)return n;return-1}Pe(h){h|=0;const l=
this.Df;if(0>h||h>=l.length)throw new RangeError("invalid instance variable");return l[h]}K$(h){const l=this.Df[h];return 0===this.ge.uu(h)?!!l:l}jn(h,l){h|=0;const n=this.Df;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");switch(this.ge.uu(h)){case 0:n[h]=l?1:0;break;case 1:n[h]="number"===typeof l?l:parseFloat(l);break;case 2:n[h]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}g6(h,l){if(0!==l){h|=0;var n=this.Df;if(0>h||h>=
n.length)throw new RangeError("invalid instance variable");var q=n[h];if("number"===typeof q)n[h]="number"===typeof l?n[h]+l:n[h]+parseFloat(l);else{if("boolean"===typeof q)throw Error("can not set offset of boolean variable");if("string"===typeof q)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}yf(){let h=f.get(this);if(h)return h;h=new Map;f.set(this,h);return h}Au(){let h=k.get(this);if(h)return h;h=new Map;k.set(this,h);return h}RR(h){const l=
this.H();if(l.me.hF(h))return!0;for(const n of l.ai)if(n.me.hF(h))return!0;return this.g.me.hF(h)?!0:!1}IA(){const h=new Set;h.add(this);const l=this.j();if(l&&l.zf())for(const n of this.$k())if(h.add(n),n.$b())for(const q of n.Jd)h.add(q);if(this.$b())for(const n of this.Jd)h.add(n);for(const n of h.values())n.lT()}lT(){if(this.RR("instancecreate")){const h=this.H(),l=new d.Event("instancecreate");l.instance=this.Eh();h.Bh(l);for(const n of h.ai)n.Bh(l);this.g.Bh(l)}this.g.ua(this.Kb().constructor.F.K3,
this,null)}aea(){this.g.ua(this.Kb().constructor.F.PO,this,null)}s$(h){if(this.ye){var l=new d.Event("destroy");l.Xga=h;this.Bh(l)}if(this.RR("instancedestroy")){l=this.H();var n=new d.Event("instancedestroy");n.instance=this.Eh();n.Xga=h;l.Bh(n);for(const q of l.ai)q.Bh(n);this.g.Bh(n)}}md(h="full"){const l={};"full"===h?l.uid=this.pb:l.c3=!0;if("visual-state"!==h){var n=f.get(this);n&&n.size&&(l.ex=d.FG(n));-1!==this.Cd&&(l.mts=this.Cd);if(0<this.ge.Cj.length){n={};var q=this.ge.z0();for(let r=
0,p=this.Df.length;r<p;++r)n[q[r].toString()]=this.Df[r];l.ivs=n}if(this.$c.length){n={};for(const r of this.$c)(q=r.md())&&(n[r.Ch().Ya.toString()]=q);l.behs=n}}this.qb&&(l.w=this.qb.na(h));(h=this.ka.md())&&(l.data=h);return l}ms(h="full"){this.qb&&this.qb.ms(h)}Wc(h,l="full"){if("full"===l)this.pb=h.uid;else if(!h.c3)return;if("visual-state"!==l){var n=f.get(this);n&&(n.clear(),f.delete(this));if(n=h.ex)n=d.AE(n),f.set(this,n);this.Cd=h.hasOwnProperty("mts")?h.mts:-1;if(n=h.ivs)for(const [p,v]of Object.entries(n))if(n=
this.ge.y0(parseInt(p,10)),!(0>n||n>=this.Df.length)){var q=v;null===q&&(q=NaN);this.Df[n]=q}}if(this.Kb().Ff){n=h.w;var r=n.l;this.qb.ca().Ya!==r&&(q=this.qb.ca(),(r=q.rc().Yy(r))?(this.qb.Fv(r),q.yp(this,!0),r.Vg(this,!0),r.Sg(),this.qb.Va()):"full"===l&&this.g.Lm(this));this.qb.xa(n,l)}if("visual-state"!==l&&(l=h.behs))for(const [p,v]of Object.entries(l))l=this.gN(parseInt(p,10)),0>l||l>=this.$c.length||this.$c[l].Wc(v);(h=h.data)&&this.ka.Wc(h)}Eh(){return this.ye||this.XR()}XR(){var h=this.qb?
self.qz:b;const l=this.ka.Pi(),n=this.ge.CU,q=n||l||h;b.dj(this);this.ye=new q;b.dj(null);if(l&&!(this.ye instanceof h))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${h.name}'`);if(n&&(h=l||h,!(this.ye instanceof h)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${h.name}'`);return this.ye}J$(h){if(0!==this.Df.length){var l={},n=this.ge.A$();for(let q=0,r=n.length;q<r;++q)l[n[q]]={configurable:!1,enumerable:!0,
get:d.Instance.prototype.K$.bind(this,q),set:d.Instance.prototype.jn.bind(this,q)};l=Object.create(Object.prototype,l);h.Fua={value:l,writable:!1}}}B$(h){var l=this.$c;if(0!==l.length){var n={};for(const q of l)n[q.Ch().Li()]={value:q.fz(),writable:!1};l=Object.create(Object.prototype,n);h.Ix={value:l,writable:!1}}}Bh(h){h.instance=this.Eh();var l=this.g;(l=l.xb&&!l.la().wz())&&a.AG();this.Eh().dispatchEvent(h);l&&a.bE()}}}
{"use strict";const d=self.A;d.x5=class extends d.ja{constructor(a){super();this.lc=a;this.Ec=null;this.$A=[];this.YC=a.P();this.XC=a.O();this.PK=this.OK=1;this.CC=0}i(){this.Ec=null;d.D(this.$A)}$P(a){this.CC=(this.Ec=a)?a.ia():0}Fa(){return this.Ec}zf(){return 0<this.$A.length}sf(){return this.$A}x6(a){this.OK=a}y6(a){this.PK=a}ck(){return this.lc.Ro()?this.Ec.P()/this.Ec.Mb.YC:1}dk(){return this.lc.Qo()?this.Ec.O()/this.Ec.Mb.XC:1}na(){return{sw:this.YC,sh:this.XC,sx:this.OK,sy:this.PK,psa:this.CC,
c:this.$A.map(a=>{let b="";a.So()&&(b+="x");a.To()&&(b+="y");a.Ro()&&(b+="w");a.Qo()&&(b+="h");a.kz()&&(b+="a");a.lz()&&(b+="z");a.Sy()&&(b+="d");return{uid:a.Ga().pb,f:b}})}}xa(a){this.YC=a.sw;this.XC=a.sh;this.OK=a.sx;this.PK=a.sy;this.CC=a.psa}Il(a){const b=this.lc,e=b.I();for(const c of a.c){a=e.qe(c.uid).j();const f=c.f,k={};k.Vt=f.includes("x");k.Wt=f.includes("y");k.Yq=f.includes("w");k.Xq=f.includes("h");k.Ut=f.includes("a");k.Xt=f.includes("z");k.Kx=f.includes("d");b.Km(a,k)}}}}
{"use strict";const d=self.A,a=d.C(d.Rect),b=d.C(d.xd),e=d.C(d.Event,"bboxchange",!1),c=d.C(d.jb,0,0,0,0),f=d.C(d.Fo),k=d.C(d.jb,1,1,1,1),h=d.C(d.Rect,0,0,-1,-1),l=d.C(d.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),q=[];let r=!0;d.Q7=class extends d.ja{constructor(p,v){super();this.J=p;this.M=p.H();this.g=p.I();this.Nk=v;this.Zk=-1;this.qa=196635;this.M.Kb().zr()&&(this.qa|=128);this.ht=this.gt=this.yI=this.FK=this.Xa=this.cf=this.Aj=this.Pj=this.ed=this.T=this.Y=NaN;this.sI=d.C(d.Rect);this.tI=
d.C(d.xd);this.aB=l;this.$w=h;this.Lj=this.yt=this.UC=null;this.Np=this.wb=k;this.Ae=this.Hq=null;this.J.H().wQ()&&(this.Ae=d.C(d.n2,this.J,this));this.DK=this.Mb=null;this.Dq=this.MV=NaN;this.hi=null}pH(){this.qa|=256}i(){this.Hq&&(this.g.Cb().lP(this.Hq),this.Hq=null);this.UC=null;this.yt&&(this.yt.bX.i(),this.yt=null);this.Lj&&(this.Lj.clear(),this.Lj=null);this.Lz();this.hk()&&this.Fa().kk(this);if(this.zf()){const p=[...this.sf()];for(const v of p)this.kk(v)}this.xA();this.Nk=this.g=this.M=this.J=
null}Tm(p){r=!1;this.Nh(p[0],p[1]);this.Ve(p[2]);this.Bc(p[3],p[4]);this.cf=0;this.zr()?this.Yc(p[6]):this.Xa=0;c.Ao(p[7]);this.zA(c);this.Qr(p[8]);this.Rr(p[9]);this.ag(p[10]);this.Ae&&this.Ae.Eaa(p[12]);p[14]&&(this.DK=p[14][1],this.MV=p[14][2]);if(p[15]){var v=p[15];this.pE(v[0],v[1]);p=this.pl();v=v[2];for(let t=0,w=v.length;t<w;++t){const x=v[t];for(let z=0,E=x.length;z<E;++z){const G=x[z],N=p.mr(z,t);N.Qg(G[0]);N.Rg(G[1]);N.Ve(G[2]);N.tG(G[3]);N.uG(G[4])}}}r=!0;this.os()}X1(){this.FK=this.Xa=
this.cf=this.Aj=this.Pj=this.ed=this.T=this.Y=0;this.yI=1;this.ht=this.gt=0;this.os()}I(){return this.g}H(){return this.M}Ga(){return this.J}sv(){return this.kz()?this.Fa().ia()-this.Mb.CC:0}Qg(p){p=+p;if(this.So()){const v=this.Mb;p-=this.K();const t=-this.sv();0===t?this.Y+=p/v.ck():(this.Y+=Math.cos(t)*p/v.ck(),this.To()&&(this.T+=Math.sin(t)*p/v.dk()))}else this.Y=p}y3(p){p=+p;this.So()?this.Qg(this.K()+p):this.Y+=p}K(){if(this.So()){let p=this.Y;const v=this.Mb,t=this.Fa(),w=this.sv();0===w?
p*=v.ck():(p=p*v.ck()*Math.cos(w),this.To()&&(p-=this.T*v.dk()*Math.sin(w)));return t.K()+p}return this.Y}Rg(p){p=+p;if(this.To()){const v=this.Mb;p-=this.L();const t=-this.sv();0===t?this.T+=p/v.dk():(this.So()&&(this.Y-=Math.sin(t)*p/v.ck()),this.T+=Math.cos(t)*p/v.dk())}else this.T=p}z3(p){p=+p;this.To()?this.Rg(this.L()+p):this.T+=p}L(){if(this.To()){let p=this.T;const v=this.Mb,t=this.Fa(),w=this.sv();0===w?p*=v.dk():(p=p*v.dk()*Math.cos(w),this.So()&&(p+=this.Y*v.ck()*Math.sin(w)));return t.L()+
p}return this.T}Nh(p,v){p=+p;v=+v;if(this.WN()){const w=this.So(),x=this.To(),z=this.Mb,E=p-this.K(),G=v-this.L();var t=-this.sv();if(0===t)this.Y=w?this.Y+E/z.ck():p,this.T=x?this.T+G/z.dk():v;else{const N=Math.sin(t);t=Math.cos(t);this.Y=w?x?this.Y+(t*E-N*G)/z.ck():this.Y+t*E/z.ck():p;this.T=x?w?this.T+(N*E+t*G)/z.dk():this.T+t*G/z.dk():v}}else this.Y=p,this.T=v}Lu(p,v){p=+p;v=+v;this.WN()?this.Nh(this.K()+p,this.L()+v):(this.Y+=p,this.T+=v)}yE(p,v){return this.K()===p&&this.L()===v}Ve(p){p=+p;
this.lz()&&(p-=this.Fa().Ua());this.ed!==p&&(this.ed=p,this.wT(),p=this.ca(),0!==this.ed&&p.PS(),p.Sg())}wT(){this.os();if(this.zf()){const p=this.sf();for(let v=0,t=p.length;v<t;v++){const w=p[v];w.lz()&&w.wT()}}}A3(p){this.Ve(this.Ua()+p)}Ua(){return this.lz()?this.Fa().Ua()+this.ed:this.ed}Yf(){return this.ca().Ua()+this.Ua()}Ue(p){p=+p;this.Pj=this.Ro()?this.Pj*(p/this.P()):p}IO(p){p=+p;this.Ro()?this.Ue(this.P()+p):this.Pj+=p}P(){return this.Ro()?this.Fa().P()*this.Pj:this.Pj}Bf(p){p=+p;this.Aj=
this.Qo()?this.Aj*(p/this.O()):p}HO(p){p=+p;this.Qo()?this.Bf(this.O()+p):this.Aj+=p}O(){return this.Qo()?this.Fa().O()*this.Aj:this.Aj}Bc(p,v){p=+p;v=+v;this.Pj=this.Ro()?this.Pj*(p/this.P()):p;this.Aj=this.Qo()?this.Aj*(v/this.O()):v}IN(){if(this.hk()){const p=this.Mb;return Math.min(p.ck(),p.dk())}return 1}zr(){return 0!==(this.qa&128)}Yc(p){p=+p;this.zr()&&(this.kz()&&(p-=this.Fa().ia()),p=d.Xd(p),this.Xa!==p&&(this.Xa=p,this.qH()))}u3(p){p=+p;0!==p&&this.zr()&&(this.Xa=d.Xd(this.Xa+p),this.qH())}qH(){this.qa|=
262144;if(this.zf()){const p=this.sf();for(let v=0,t=p.length;v<t;v++)p[v].qH()}}ia(){return this.kz()?d.Xd(this.Fa().ia()+this.Xa):this.Xa}mS(){const p=this.qa;if(0!==(p&262144)){var v=this.ia();this.FK=Math.sin(v);this.yI=Math.cos(v);this.qa=p&-262145}}cF(){this.mS();return this.FK}HE(){this.mS();return this.yI}Qr(p){this.gt=+p}w3(p){this.gt+=+p}Zj(){return this.gt}Rr(p){this.ht=+p}x3(p){this.ht+=+p}$j(){return this.ht}zA(p){this.wb.Tc(p)||(this.wb===k?(this.wb=d.C(d.jb,p),this.Np=d.C(d.jb,p),this.Np.HD()):
p.Mx(1,1,1,1)?this.Np=this.wb=k:(this.wb.set(p),this.Np.set(p),this.Np.HD()),this.os())}qk(p){p=d.ba(+p,0,1);this.wb.po!==p&&(c.Cm(this.wb),c.po=p,this.zA(c))}v3(p){this.qk(this.xf()+p)}xf(){return this.wb.po}gQ(p){this.wb.uo(p)||(c.Cm(p),c.po=this.wb.po,this.zA(c))}M6(p,v,t){c.MD(p,v,t);this.gQ(c)}XE(){return this.Np}Sy(){return 0!==(this.qa&512)}L5(p){this.Ye(512,p)}So(){return 0!==(this.qa&1024)}H6(p){this.Ye(1024,p)}To(){return 0!==(this.qa&2048)}WN(){return 0!==(this.qa&3072)}I6(p){this.Ye(2048,
p)}Ro(){return 0!==(this.qa&4096)}G6(p){this.Ye(4096,p)}Qo(){return 0!==(this.qa&8192)}F6(p){this.Ye(8192,p)}kz(){return 0!==(this.qa&16384)}E6(p){this.Ye(16384,p)}lz(){return 0!==(this.qa&32768)}J6(p){this.Ye(32768,p)}MQ(){this.qa&=-65025}Km(p,v){if(p!==this&&!p.hk()&&!this.TR(p)&&!this.SR(p)){var t=p.K(),w=p.L(),x=p.P(),z=p.O(),E=p.ia(),G=p.Ua();p.ZS(this);p.H6(v.Vt);p.I6(v.Wt);p.G6(v.Yq);p.F6(v.Xq);p.E6(v.Ut);p.J6(v.Xt);p.L5(v.Kx);v.Vt&&(p.Y=t-this.K(),v.Yq&&(p.Y/=this.P()/this.Mb.YC));v.Wt&&(p.T=
w-this.L(),v.Xq&&(p.T/=this.O()/this.Mb.XC));v.Yq&&(p.Pj=x/this.P(),p.Mb.x6(p.Pj));v.Xq&&(p.Aj=z/this.O(),p.Mb.y6(p.Aj));v.Ut&&(p.Xa=E-this.ia());v.Xt&&(p.ed=G-this.Ua());this.Z7(p);this.Va()}}kk(p){if(p.Fa()===this){var v=p.K(),t=p.L(),w=p.P(),x=p.O(),z=p.ia(),E=p.Ua();p.ZS(null);p.MQ();p.Nh(v,t);p.Bc(w,x);p.Yc(z);p.Ve(E);this.mca(p);this.Va()}}vca(){for(var p of this.children())this.kk(p);(p=this.Fa())&&p.kk(this);this.MQ()}hk(){return null!==this.Fa()}Fa(){const p=this.Mb;return null!==p?p.Fa():
null}iz(){let p=this;for(;p.hk();)p=p.Fa();return p}*Vx(){let p=this.Fa();for(;p;)yield p,p=p.Fa()}k1(p){return this.sf().includes(p)}zf(){const p=this.Mb;return null!==p?p.zf():!1}sf(){const p=this.Mb;return null!==p?p.sf():q}children(){return this.sf()}*$k(){for(const p of this.children())yield p,yield*p.$k()}Oy(){return this.sf().length}FE(p){const v=this.sf();p=Math.floor(+p);return 0>p||p>=v.length?null:v[p]}TG(p){this.Mb||(this.Mb=d.C(d.x5,this));p&&this.Mb.$P(p)}xA(){this.Mb&&(this.Mb.i(),
this.Mb=null)}ZS(p){p?(p.TG(null),this.TG(p)):(this.Mb&&this.Mb.$P(null),this.zf()||this.xA())}SR(p){if(!this.hk())return!1;const v=this.Fa();return v===p?!0:v.SR(p)}TR(p){if(this.k1(p))return!0;for(const v of this.sf())if(v.TR(p))return!0;return!1}Z7(p){this.Mb.sf().push(p)}mca(p){const v=this.Mb.sf(),t=v.indexOf(p);-1!==t&&v.splice(t,1);0!==v.length||this.hk()||this.xA();p.zf()||p.xA()}nG(p){this.Dq=p}os(){if(r){var p=this.g.Cb();this.Hq&&p.lP(this.Hq);this.Hq=p.BX(0!==(this.qa&524288)?p.VC||"<point>":
p.WC||"<default>",this.Ji(),this.Np,this.Ua())}}Sm(){return this.wb===k}ag(p){p|=0;if(0>p||31<p)throw new RangeError("invalid blend mode");this.Ji()!==p&&(this.qa=this.qa&-2080374785|p<<26,this.os())}Ji(){return(this.qa&2080374784)>>26}Fv(p){this.Nk=p;0!==this.Ua()&&this.Nk.PS()}ca(){return this.Nk}rc(){return this.ca().rc()}FA(p){this.Zk=p|0}gk(){this.Nk.Jv();return this.Zk}Ye(p,v){this.qa=v?this.qa|p:this.qa&~p}Ac(){return 0!==(this.qa&1)}Pg(p){this.Ye(1,p)}Gg(){return 0!==(this.qa&8)}Tu(p){p=!!p;
this.Gg()!==p&&(this.Ye(8,p),p?this.Va():this.yS())}pG(p,v){this.Ye(32,p);this.Lj&&this.Lj.clear();if(v.trim()){this.Lj||(this.Lj=new Set);for(const t of v.split(" "))t&&this.Lj.add(t.toLowerCase())}else this.Lj=null}Va(){this.qa|=65554;this.M.OS();this.g.ga();this.Nk.sp()&&(this.ly(this.sI,this.tI,!0),this.qa&=-3,this.jea());0!==(this.qa&4)&&this.J.Db().dispatchEvent(e);if(null!==this.Mb){const p=this.Mb.sf();for(let v=0,t=p.length;v<t;++v)p[v].Va()}}ly(p,v,t){const w=this.K(),x=this.L(),z=this.P(),
E=this.O(),G=this.ia();p.Di(w-this.gt*z,x-this.ht*E,z,E);t&&this.Dg()&&this.m$(p);0===G?v.Sj(p):(p.offset(-w,-x),v.KD(p,this.cF(),this.HE()),v.offset(w,x),v.DL(p));p.normalize()}qT(){const p=this.qa;0!==(p&2)&&(this.ly(this.sI,this.tI,!0),this.qa=p&-3)}Uc(){this.qT();return this.sI}Vj(){this.qT();return this.tI}MF(p){var v=this.K(),t=this.L();v=Math.round(v)-v;t=Math.round(t)-t;if(0===v&&0===t)return p;b.wa(p);b.offset(v,t);return b}F5(p){this.Ye(4,p)}gO(){return 0!==(this.qa&4)}pO(p,v,t){return v&&
0!==this.cf?this.wr(this.ca().tv()):0===this.Ua()||t?p.BD(this.Uc()):this.raa()}raa(){const p=this.ca(),v=this.Yf();if(v>=p.My())return!1;p.XN(v,a);return a.BD(this.Uc())}wr(p){var v=this.Uc();const t=v.S,w=v.X,x=v.N;v=v.V;const z=this.Yf();return p.NY(t,x,z,w,v,z+this.cf)}AA(p){this.Ye(1048576,p)}CA(p){this.Ye(2097152,p)}qG(p){this.UC=p;this.aH();this.Dg()&&(this.hi.LL=null)}Du(){return null!==this.UC||this.Dg()}rl(){return this.xR(this.P(),this.O(),this.ia(),this.cF(),this.HE())}W_(p,v){return this.xR(p,
v,0,0,1)}xR(p,v,t,w,x){let z=this.yt;null===z&&(this.yt=z={bX:d.C(d.Fo),width:NaN,height:NaN,angle:NaN});const E=z.bX;if(z.width===p&&z.height===v&&z.angle===t)return E;const G=this.UC;if(this.Dg()){const N=this.Zj(),C=this.$j(),H=this.pl();let I=this.hi.LL;I||(G?(f.wa(G),f.offset(N,C)):f.Jha(),I=H.m2(f),this.hi.LL=I);H.s7(I,E);E.offset(-N,-C);E.qM(p,v,w,x)}else G?(E.wa(G),E.qM(p,v,w,x)):E.iM(this.Vj(),-this.K(),-this.L());z.width=p;z.height=v;z.angle=t;return E}aH(){this.bQ(!0);const p=this.yt;null!==
p&&(p.width=NaN)}pE(p,v){p=Math.floor(p);v=Math.floor(v);if(!this.Ga().Kb().Rfa)throw Error("object does not support mesh");this.Lz();this.hi={lM:d.C(d.aa.EO,p,v),nX:d.C(d.aa.EO,p,v),LL:null}}Dg(){return null!==this.hi}pl(){if(!this.Dg())throw Error("no mesh");return this.hi.lM}X0(){if(!this.Dg())throw Error("no mesh");return this.hi.nX}VP(p){this.Ye(65536,p)}z2(){return 0!==(this.qa&65536)}bQ(p){this.Ye(131072,p)}D2(){return 0!==(this.qa&131072)}m$(p){const v=this.hi.lM,t=Math.min(v.K0(),0),w=Math.min(v.L0(),
0),x=Math.max(v.H0(),1),z=Math.max(v.I0(),1),E=p.width(),G=p.height();p.offsetLeft(t*E);p.offsetTop(w*G);p.rha((x-1)*E);p.qha((z-1)*G);this.cf=v.J0()}Lz(){this.hi&&(this.hi.lM.i(),this.hi.nX.i(),this.hi=null,this.aH())}WP(p,v,t){p=Math.floor(p);v=Math.floor(v);var w=t.mode||"absolute";if(!n.has(w))throw Error("invalid mode");w="relative"===w;let x=t.x,z=t.y;const E=t.gy;let G="number"===typeof t.sX?t.sX:w?0:-1;t="number"===typeof t.tX?t.tX:w?0:-1;if(!this.Dg())return!1;const N=this.pl(),C=N.mr(p,
v);if(null===C)return!1;let H=!1;"number"===typeof E&&C.Ua()!==E&&(C.Ve(E),H=!0);w&&(x+=p/(N.Ik-1),z+=v/(N.Vk-1));-1!==G||w?(w&&(G+=p/(N.Ik-1)),G=d.ba(G,0,1)):G=C.th;-1!==t||w?(w&&(t+=v/(N.Vk-1)),t=d.ba(t,0,1)):t=C.vh;if(C.K()===x&&C.L()===z&&C.th===G&&C.vh===t)return H;C.Qg(x);C.Rg(z);C.tG(G);C.uG(t);this.aH();return!0}Qi(){return this.J.Qi()}cu(p,v){return this.Uc().Of(p,v)&&this.Vj().Of(p,v)?this.Qi()?void 0:this.Du()?this.rl().Of(p-this.K(),v-this.L()):!0:!1}oaa(){return 0!==(this.qa&16)}rT(){if(this.oaa()&&
this.Gg()&&0===(this.qa&256)){var p=this.Uc(),v=this.M.bB,t=this.aB;a.set(v.$i(p.S),v.aj(p.N),v.$i(p.X),v.aj(p.V));t.Tc(a)||(p=this.J,t===l?(v.Dl(p,null,a),this.aB=d.C(d.Rect,a)):(v.Dl(p,t,a),t.wa(a)),this.qa&=-17)}}yS(){const p=this.aB;p!==l&&(this.M.bB.Dl(this.J,p,null),this.aB=l)}jea(){const p=this.ca();if(p.sp()&&0===(this.qa&256)){var v=p.lt,t=this.Uc(),w=this.$w;a.set(v.$i(t.S),v.aj(t.N),v.$i(t.X),v.aj(t.V));w.Tc(a)||(t=this.J,w===h?(v.Dl(t,null,a),this.$w=d.C(d.Rect,a)):(v.Dl(t,w,a),w.wa(a)),
p.t6())}}zS(){const p=this.$w;p!==h&&(this.ca().lt.Dl(this.J,p,null),this.$w=h)}W7(){const p=this.J,v=this.Nk,t=v.G;t.length&&t.ne(-1)===p||(v.yp(p,!1),v.Vg(p,!1),this.g.ga())}U7(){const p=this.J,v=this.Nk,t=v.G;t.length&&t[0]===p||(v.yp(p,!1),v.Vba(p),this.g.ga())}V7(p){const v=this.J,t=this.Nk;if(t.rc()!==p.rc())throw Error("layer from different layout");p!==t&&(t.yp(v,!0),this.Fv(p),p.Vg(v,!0),this.g.ga())}T7(p,v){const t=this.J;let w=!1;const x=this.Nk;if(p.pb!==t.pb){var z=p.j();if(!z)throw Error("expected world instance");
z=z.ca();x.Ja()!==z.Ja()&&(x.yp(t,!0),this.Fv(z),z.Vg(t,!0),w=!0);p=z.o3(t,p,!!v);(w||p)&&this.g.ga()}}sda(p){this.Ye(64,p)}Cu(){return 0!==(this.qa&64)}na(p){const v={x:this.K(),y:this.L(),w:this.P(),h:this.O(),l:this.ca().Ya,zi:this.gk()};0!==this.Ua()&&(v.ze=this.Ua());0!==this.ia()&&(v.a=this.ia());this.Sm()||(v.c=this.wb.toJSON());.5!==this.Zj()&&(v.oX=this.Zj());.5!==this.$j()&&(v.oY=this.$j());0!==this.Ji()&&(v.bm=this.Ji());this.Ac()||(v.v=this.Ac());this.Gg()||(v.ce=this.Gg());this.gO()&&
(v.be=this.gO());this.Ae&&(v.fx=this.Ae.na());const t=0!==(this.qa&32);t&&(v.sfi=t);this.Lj&&(v.sft=[...this.Lj].join(" "));this.Mb&&"visual-state"!==p&&(v.sgi=this.Mb.na());this.Dg()&&(v.mesh=this.pl().md());return v}ms(p){"visual-state"!==p&&this.vca()}xa(p,v){r=!1;this.Qg(p.x);this.Rg(p.y);this.Ue(p.w);this.Bf(p.h);this.FA(p.zi);this.Ve(p.hasOwnProperty("ze")?p.ze:0);this.Yc(p.hasOwnProperty("a")?p.a:0);p.hasOwnProperty("c")?c.Ao(p.c):p.hasOwnProperty("o")?(c.Cm(this.wb),c.po=p.o):c.Bo(1,1,1,1);
this.zA(c);this.Qr(p.hasOwnProperty("oX")?p.oX:.5);this.Rr(p.hasOwnProperty("oY")?p.oY:.5);this.ag(p.hasOwnProperty("bm")?p.bm:0);this.Pg(p.hasOwnProperty("v")?p.v:!0);this.Tu(p.hasOwnProperty("ce")?p.ce:!0);this.F5(p.hasOwnProperty("be")?p.be:!1);this.pG(p.hasOwnProperty("sfi")?p.sfi:!1,p.hasOwnProperty("sft")?p.sft:"");this.Ae&&p.hasOwnProperty("fx")&&this.Ae.xa(p.fx);if(p.hasOwnProperty("sgi")&&"visual-state"!==v){this.TG(null);const t=this.Mb,w=p.sgi;t.xa(w);const x=this.I().Db(),z=()=>{x.removeEventListener("afterload",
z);0===(this.qa&256)&&t.Il(w)};x.addEventListener("afterload",z)}p.hasOwnProperty("mesh")?(p=p.mesh,this.pE(p.cols,p.rows),this.pl().Wc(p)):this.Lz();this.Va();r=!0;this.os()}}}
{"use strict";const d=self.A;d.wM=class extends d.ja{constructor(a,b){super();const e=a.I(),c=e.uq,f=e.Fh(b[1]);c.j1(f)||c.SY(b);this.g=e;this.M=a;this.jj=c.P_(f);this.eb=null;this.NB=f.Instance;this.Ya=b[2];this.Ia=b[0];this.Fw=this.g.Li(b[3]);this.eb=d.C(f.Oh,this);this.Ic()}static Ta(a,b){return d.C(d.wM,a,b)}i(){this.jj=this.g=null;this.eb.i();this.NB=this.eb=null}Ic(){this.eb.Ic()}I(){return this.g}H(){return this.M}rf(){return this.jj}Da(){return this.Ia}Li(){return this.Fw}}}
{"use strict";const d=self.A,a=self.bO;d.iy=class extends d.ja{constructor(b){super();this.g=b.Gc;this.bd=b.rL;this.jj=this.bd.rf();this.J=b.instance;this.Wa=b.index;this.ye=this.ka=null;this.jj.Vg(this.J)}i(){this.ye&&(this.ye.Dv(),this.ye=null);this.jj.yp(this.J);this.ka.i();this.J=this.jj=this.bd=this.g=this.ye=this.ka=null}eA(b){if(this.ka)throw Error("already got sdk instance");this.ka=d.C(this.bd.NB,this,b);this.gaa()}I(){return this.g}Ch(){return this.bd}rf(){return this.jj}Ph(){return this.Wa}Iz(){this.ka.Iz()}md(){return this.ka.md()}Wc(b){return this.ka.Wc(b)}static yG(b,
e){var c=b.J,f=e.J;const k=c.H().Ja(),h=f.H().Ja();if(k!==h)return k-h;c=c.AV;f=f.AV;return c!==f?c-f:b.VA.Ph()-e.VA.Ph()}gaa(){const b=this.ka.Pi(),e=b||a;a.dj(this);this.ye=new e;a.dj(null);if(b&&!(this.ye instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}fz(){return this.ye}}}
{"use strict";const d=self.A;d.gl=class extends d.ja{constructor(a,b){super();this.lc=a;this.Yg=[];this.fj=[];this.pB=new Map;this.Zh=[];this.it=!0;for(const e of b)a=d.C(d.YM,this,e,this.Yg.length),this.Yg.push(a),this.pB.set(a.Da().toLowerCase(),a),3<=e.length&&this.Zh.push(this.nH(e[2]));this.I().b8(this)}i(){d.D(this.Yg);d.D(this.fj);this.pB.clear();d.D(this.Zh);this.lc=null}H4(a){if(a.length){this.Yg=a.concat(this.Yg);for(const b of a)this.pB.set(b.Da().toLowerCase(),b);for(let b=0,e=this.Yg.length;b<
e;++b)this.Yg[b].wda(b)}}nH(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const f=d.C(d.jb);f.Ao(c);a[b]=f}}return a}I(){return this.lc.I()}mn(){d.D(this.fj);let a=!0;for(const b of this.Yg)b.Lb&&(this.fj.push(b),b.nb.it||(a=!1));this.it=a}wg(){return this.Yg}f1(){return 0<this.Yg.length}ll(a){return this.pB.get(a.toLowerCase())||null}nN(a){a=Math.floor(+a);if(0>a||a>=this.Yg.length)throw new RangeError("invalid effect type index");return this.Yg[a]}Gu(a){return this.nN(a).Lb}NP(a,
b){this.nN(a).Nz(b)}Cu(){return 0<this.fj.length}yg(a){return this.Zh[a]}static v5(a){return a&&a instanceof d.jb?{t:"color",v:a.toJSON()}:a}static b3(a){if("object"===typeof a){if("color"===a.t){const b=d.C(d.jb);b.Ao(a.v);return b}throw Error("invalid effect parameter type");}return a}static AP(a){return a.map(d.gl.v5)}static zO(a){return a.map(d.gl.b3)}md(){return this.Yg.map(a=>({name:a.Da(),active:a.Lb,params:d.gl.AP(this.Zh[a.Ja()])}))}Wc(a){for(const b of a)if(a=this.ll(b.name))a.Nz(b.active),
this.Zh[a.Ja()]=d.gl.zO(b.params);this.mn()}}}
{"use strict";const d=self.A;d.YM=class extends d.ja{constructor(a,b,e){super();this.Ra=a;this.df=b[0];this.Ia=b[1];this.Wa=e;this.nb=null;this.Lb=!0}i(){this.nb=this.Ra=null}EY(a){a=d.C(d.YM,a,[this.df,this.Ia],-1);a.nb=this.nb;a.Lb=this.Lb;return a}VR(a){a=a.ON(this.df);if(!a)throw Error("failed to find shader program '"+this.df+"'");this.nb=a}Da(){return this.Ia}wda(a){this.Wa=a}Ja(){return this.Wa}I(){return this.Ra.I()}Nz(a){this.Lb=!!a}Y_(){const a=[];for(let b=0,e=this.nb.Qq.length;b<e;++b){const c=
this.nb.$y(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(d.C(d.jb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const d=self.A;d.n2=class extends d.ja{constructor(a,b){super();this.J=a;this.Xfa=b;this.Ra=a.H().Ra;this.Cp=[];this.fj=[];this.it=!0;this.Zh=[];for(const e of this.Ra.wg())this.Cp.push(!0);this.mn()}i(){d.D(this.Cp);d.D(this.fj);d.D(this.Zh);this.Ra=this.J=null}Eaa(a){for(const b of a)this.Zh.push(this.nH(b))}nH(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const f=d.C(d.jb);f.Ao(c);a[b]=f}}return a}Y2(){for(const a of this.Ra.wg())this.Zh.push(a.Y_())}I(){return this.J.I()}mn(){d.D(this.fj);
const a=this.Ra.wg(),b=this.fj,e=this.Cp;let c=!0;for(let f=0,k=a.length;f<k;++f)if(e[f]){const h=a[f];b.push(h);h.nb.it||(c=!1)}this.it=c;this.Xfa.sda(!!b.length)}yg(a){return this.Zh[a]}Gu(a){return this.Cp[a]}NP(a,b){this.Cp[a]=!!b}wg(){return this.Ra.wg()}na(){return this.Ra.wg().map(a=>({name:a.Da(),active:this.Cp[a.Ja()],params:d.gl.AP(this.Zh[a.Ja()])}))}xa(a){for(const b of a)if(a=this.Ra.ll(b.name))this.Cp[a.Ja()]=b.active,this.Zh[a.Ja()]=d.gl.zO(b.params);this.mn()}}}
{"use strict";const d=self.A,a=[],b=d.C(d.Fo),e=d.C(d.Fo),c=d.C(d.xd);d.C(d.Rect);d.C(d.Rect);let f=null,k=null,h=null;d.GY=class extends d.ja{constructor(l){super();this.g=l;this.Zw=[]}i(){this.g=null}T4(l,n){const q=l.j(),r=n.j();q&&r&&q.Gg()&&r.Gg()&&this.Zw.push([l,n])}uM(l,n,q){for(const [r,p]of this.Zw){let v;if(l===r)v=p;else if(l===p)v=r;else continue;v.br(n)&&(q.includes(v)||q.push(v))}}HM(l,n){if(!this.Zw.length)return!1;for(const [q,r]of this.Zw)if(l===q&&n===r||l===r&&n===q)return!0;return!1}IM(){d.D(this.Zw)}DG(l,
n){if(!l||!n||l===n)return!1;l=l.j();n=n.j();if(!l.Gg()||!n.Gg())return!1;const q=l.ca(),r=n.ca();return q.N2(r)?this.Yda(l,n):this.Xda(l,n)}Yda(l,n){if(!l.Uc().BD(n.Uc())||!l.Vj().GL(n.Vj())||l.Qi()&&n.Qi())return!1;if(l.Qi())return this.EG(l,n);if(n.Qi())return this.EG(n,l);if(!l.Du()&&!n.Du())return!0;const q=l.rl(),r=n.rl();return q.Px(r,n.K()-l.K(),n.L()-l.L())}Xda(l,n){var q=l.Qi(),r=n.Qi();if(q&&!r)return this.mQ(l,n);if(r&&!q)return this.mQ(n,l);if(r||q)return!1;r=l.ca();q=n.ca();b.wa(l.rl());
e.wa(n.rl());var p=b.Bd;for(let v=0,t=p.length;v<t;v+=2){const w=v+1,x=p[w],[z,E]=r.ep(p[v]+l.K(),x+l.L());p[v]=z;p[w]=E}l=e.Bd;for(let v=0,t=l.length;v<t;v+=2){r=v+1;p=l[r];const [w,x]=q.ep(l[v]+n.K(),p+n.L());l[v]=w;l[r]=x}b.hM();e.hM();return b.Px(e,0,0)}mQ(l,n){var q=l.ca(),r=n.ca();f||(f=d.C(d.Fo));k||(k=d.C(d.Rect));h||(h=d.C(d.xd));var p=n.K(),v=n.L();const [t,w]=r.ep(p,v),[x,z]=q.tg(t,w);q=x-p;v=z-v;k.wa(n.Uc());k.offset(q,v);if(!l.Uc().BD(k))return!1;h.wa(n.Vj());h.offset(q,v);if(!l.Vj().GL(h))return!1;
f.wa(n.rl());r=f.Bd;for(let E=0,G=r.length;E<G;E+=2)p=E+1,r[E]+=q,r[p]+=v;f.hM();return this.EG(l,n,x,z,f,k,h)}EG(l,n,q,r,p,v,t){v=void 0!==v?v:n.Uc();const w=l.K(),x=l.L();var z=l.Ga().ka;q=void 0!==q?q:n.K();r=void 0!==r?r:n.L();l=n.Du();t=void 0!==t?t:n.Vj();z.lla(v,a);for(let N=0,C=a.length;N<C;++N){var E=a[N];z=E.Q0();if(v.Uga(z,w,x)&&(c.Sj(z),c.offset(w,x),c.GL(t)))if(l){var G=void 0!==p?p:n.rl();if(E=E.EN()){if(E.Px(G,q-(w+z.S),r-(x+z.N)))return d.D(a),!0}else if(b.iM(c,0,0),b.Px(G,q,r))return d.D(a),
!0}else if(G=E.EN()){if(b.iM(t,0,0),G.Px(b,-(w+z.S),-(x+z.N)))return d.D(a),!0}else return d.D(a),!0}d.D(a);return!1}Yr(l,n,q,r){const p=l.$();var v=this.g.Jb();if(!v)throw Error("cannot call outside event");v=v.Vd;if(p.Yb){r||(p.ve(!1),d.D(p.G));for(var t of l.ma()){var w=t.j(),x=w.ca();const [z,E]=x.tg(n,q,w.Yf());if(w.cu(z,E)){if(r)return!1;p.xp(t)}else v&&p.rn(t)}}else{t=v?p.kc:p.G;w=0;for(let z=0,E=t.length;z<E;++z){x=t[z];const G=x.j(),N=G.ca(),[C,H]=N.tg(n,q,G.Yf());if(G.cu(C,H)){if(r)return!1;
v?p.xp(x):t[w++]=x}else v&&(t[w++]=x)}r||(t.length=w)}l.ec();return r?!0:p.iF()}GE(l,n,q,r){l=l?1!==l.he||1!==l.ie:!1;if(n.$a)for(const p of n.En)l||p.gI?d.Bm(r,p.ma()):(p.oT(),p.bB.Kz(q,r));else l||n.gI?d.Bm(r,n.ma()):(n.oT(),n.bB.Kz(q,r))}}}
{"use strict";const d=self.A;d.d7=class extends d.ja{constructor(a,b){super();this.vI=a;this.uI=b;this.lj=d.C(d.Mu)}i(){this.lj.i();this.lj=null}Mm(a,b,e){let c=this.lj.fa(a,b);return c?c:e?(c=d.C(d.b1,this,a,b),this.lj.Set(a,b,c),c):null}$i(a){a=Math.floor(a/this.vI);return isFinite(a)?a:0}aj(a){a=Math.floor(a/this.uI);return isFinite(a)?a:0}Dl(a,b,e){if(b)for(let c=b.S,f=b.X;c<=f;++c)for(let k=b.N,h=b.V;k<=h;++k){if(e&&e.Of(c,k))continue;const l=this.Mm(c,k,!1);l&&(l.Kh(a),l.$o()&&this.lj.Ho(c,
k))}if(e)for(let c=e.S,f=e.X;c<=f;++c)for(let k=e.N,h=e.V;k<=h;++k)b&&b.Of(c,k)||this.Mm(c,k,!0).pF(a)}Kz(a,b){let e=this.$i(a.S);const c=this.aj(a.N),f=this.$i(a.X);a=this.aj(a.V);if(isFinite(f)&&isFinite(a))for(;e<=f;++e)for(let k=c;k<=a;++k){const h=this.Mm(e,k,!1);h&&h.uE(b)}}}}{"use strict";const d=self.A;d.b1=class extends d.ja{constructor(a,b,e){super();this.Y=b;this.T=e;this.G=d.C(d.dE)}i(){this.G.i();this.G=null}$o(){return this.G.$o()}pF(a){this.G.yc(a)}Kh(a){this.G.Ho(a)}uE(a){d.Bm(a,this.G.CE())}}}
{"use strict";const d=self.A;d.Yoa=class{constructor(){this.rect=new d.Rect;this.Lx=0}Set(a,b,e,c){this.rect.set(a,b,e,c);this.rect.normalize();this.Lx=0;return this}}}
{"use strict";const d=self.A,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),e=self.cl.wo,c=e.create(),f=d.C(d.xd),k=d.C(d.Rect);d.iE=class extends d.ja{constructor(h){super();this.g=h;this.Dk=null;this.KU=!1;this.Qj=this.ib=null;this.YI="high-performance";this.zn=this.yn=this.Vh=this.Wh=this.Nc=this.cd=this.Xk=this.Yk=0;this.Fs=!0;this.rj=this.Gk=this.cW=0;this.ST=this.dU="letterbox-scale";this.Rea=this.Qea=0;this.hB=e.create();
this.zj=this.jL="high";this.eq=!1;this.Ov=[];this.kD=new Set;this.OC=self.C3_Shaders;this.ig=this.Gn=0;this.Ls=NaN;this.EB=null;this.MJ=new Map;this.ew=NaN;this.qD=new Map;this.RC="";this.GK=1;this.SV=d.C(d.Rect);this.HK="";this.TV=this.kx=null;this.Mw=0;this.He=-1;this.Rn=0;this.SJ=l=>this.Rn=l.progress;this.If=null;this.Jf={Tx:null,Wx:null,fy:null};this.KK=this.WV=this.LK=0;this.Nj="fade-in";this.JK=null;this.VV=new Promise(l=>this.JK=l)}qda(h){this.YI=h}Mda(h){this.KU=!!h}async ug(h){this.Dk=h.canvas;
this.g.Ei("runtime","window-resize",q=>this.zH(q));this.g.Ei("runtime","fullscreenchange",q=>this.tba(q));this.g.Ei("runtime","fullscreenerror",q=>this.uba(q));this.Dk.addEventListener("webglcontextlost",q=>this.Cv(q));this.Dk.addEventListener("webglcontextrestored",()=>this.xH());this.eq=!!h.isFullscreen;var l=navigator.gpu&&this.KU;let n=!1;if(l)try{await this.ZR(!0)}catch(q){this.Qj=null}if(!this.Cb())try{await this.YR(!0)}catch(q){this.ib=null}this.Cb()||(n=!0);if(!this.Cb()&&l)try{await this.ZR(!1)}catch(q){this.Qj=
null}if(!this.Cb())try{await this.YR(!1)}catch(q){this.ib=null}l=this.Cb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.b6(n);this.Bc(h.windowInnerWidth,h.windowInnerHeight,!0);this.Qj?await this.jaa():this.ib&&await this.iaa();l.mG(this.Fs);l.sk()&&(this.Ls=0);h=!1;for(const q of this.g.aI){for(const r of q.wg())r.VR(l),r.nb.Cx&&(h=!0);q.mn()}this.g.Kda(h)}async ZR(h){h={powerPreference:this.YI,depth:this.g.zm,failIfMajorPerformanceCaveat:h};this.Qj=d.C(d.aa.$sa);
await this.Qj.Ta(this.Dk,h)}async YR(h){h={powerPreference:this.YI,JW:!0,depth:this.g.zm,failIfMajorPerformanceCaveat:h};"Android"===d.Xc.Dr&&"Chromium"===d.Xc.ky&&75>d.Xc.gE&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),h.TW=1);"standard"===this.g.ws?h.alpha=!0:(h.alpha=!1,h.KL=!0);this.ib=d.C(d.aa.N7,this.Dk,h);await this.ib.sz()}async jaa(){if(this.OC){const h=[];for(const [l,n]of Object.entries(this.OC))h.push(this.Qj.rE(l,
n.Jwa,d.aa.ata.Ry()));await Promise.all(h)}}async iaa(){if(this.OC){const h=[];for(const [l,n]of Object.entries(this.OC))n.src=n.yua,h.push(this.ib.rE(n,d.aa.kv.Ry(),l));await Promise.all(h);this.ib.l5();this.ib.Mh()}this.ib.sk()&&(this.EB=d.C(d.aa.AQ,this.ib))}i(){this.Dk=this.ib=this.g=null}zH(h){const l=this.g,n=h.devicePixelRatio;l.De&&(self.devicePixelRatio=n);l.mda(n);this.eq=!!h.isFullscreen;this.Bc(h.innerWidth,h.innerHeight);l.ga();l.xb&&(l.Eu()||self.Tf.$la())&&l.SF()}tba(h){this.eq=!!h.isFullscreen;
this.Bc(h.innerWidth,h.innerHeight,!0);this.g.ga()}uba(h){this.eq=!!h.isFullscreen;this.Bc(h.innerWidth,h.innerHeight,!0);this.g.ga()}Bc(h,l,n=!1){h=Math.floor(h);l=Math.floor(l);if(0>=h||0>=l)throw Error("invalid size");if(this.Yk!==h||this.Xk!==l||n){this.Yk=h;this.Xk=l;n=this.ru();"letterbox-scale"===n?this.A8(h,l):"letterbox-integer-scale"===n?this.z8(h,l):"off"===n?this.x8(h,l):this.y8(h,l);this.hea(n);this.Dk.width=this.Wh;this.Dk.height=this.Vh;this.g.zl("canvas","update-size",{marginLeft:this.yn,
marginTop:this.zn,styleWidth:this.cd,styleHeight:this.Nc});h=this.Cb();h.Bc(this.Wh,this.Vh,!0);for(var q of this.Ov)h.kZ(q);d.D(this.Ov);h.au(this.hB,this.xg()/this.Uf());q=this.g.bb;q.op();q.np()}}A8(h,l){const n=this.g.jl(),q=this.g.mh,r=this.g.kh,p=q/r;h/l>p?(this.cd=Math.round(l*p),this.Nc=l,this.yn=Math.floor((h-this.cd)/2),this.zn=0):(this.cd=h,this.Nc=Math.round(h/p),this.yn=0,this.zn=Math.floor((l-this.Nc)/2));this.Wh=Math.round(this.cd*n);this.Vh=Math.round(this.Nc*n);this.g.dv(q,r)}z8(h,
l){const n=this.g.jl();1!==n&&(h+=1,l+=1);const q=this.g.mh,r=this.g.kh;var p=q/r;p=h/l>p?l*p*n/q:h/p*n/r;1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p));this.Wh=Math.round(q*p);this.Vh=Math.round(r*p);this.cd=this.Wh/n;this.Nc=this.Vh/n;this.yn=Math.max(Math.floor((h-this.cd)/2),0);this.zn=Math.max(Math.floor((l-this.Nc)/2),0);this.g.dv(q,r)}y8(h,l){const n=this.g.jl();this.cd=h;this.Nc=l;this.Wh=Math.round(this.cd*n);this.Vh=Math.round(this.Nc*n);this.zn=this.yn=0;h=this.kl();this.g.dv(this.cd/h,
this.Nc/h)}x8(h,l){const n=this.g.jl();this.cd=this.g.Mf;this.Nc=this.g.Lf;this.Wh=Math.round(this.cd*n);this.Vh=Math.round(this.Nc*n);this.eq?(this.yn=Math.floor((h-this.cd)/2),this.zn=Math.floor((l-this.Nc)/2)):this.zn=this.yn=0;this.g.dv(this.g.Mf,this.g.Lf)}hea(h){if("high"===this.jL)this.Gk=this.Wh,this.rj=this.Vh,this.zj="high";else{let n;if("off"===this.ru()){var l=this.g.Mf;n=this.g.Lf}else l=this.g.mh,n=this.g.kh;this.Wh<l&&this.Vh<n?(this.Gk=this.Wh,this.rj=this.Vh,this.zj="high"):(this.Gk=
l,this.rj=n,this.zj="low","scale-inner"===h?(h=l/n,l=this.Yk/this.Xk,l<h?this.Gk=this.rj*l:l>h&&(this.rj=this.Gk/l)):"scale-outer"===h&&(h=l/n,l=this.Yk/this.Xk,l>h?this.Gk=this.rj*l:l<h&&(this.rj=this.Gk/l)))}}Y5(h){if(!a.has(h))throw Error("invalid fullscreen mode");this.dU=h;h=this.g.bb;h.op();h.np()}Vy(){return this.dU}N5(h){if(!a.has(h))throw Error("invalid fullscreen mode");this.ST=h;h=this.g.bb;h.op();h.np()}ru(){return this.eq?this.ST:this.Vy()}OP(h){if(!b.has(h))throw Error("invalid fullscreen scaling quality");
this.jL=h;this.g.bb.op()}static nR(h){switch(h){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}xg(){return this.Gk}Uf(){return this.rj}mG(h){this.Fs=!!h}Jda(h){this.cW=h}F2(){return this.Cb().Yo()}Cv(h){console.log("[Construct 3] WebGL context lost");h.preventDefault();this.Ov=[];this.kD.clear();this.ib.yl();this.g.Cv()}async xH(){await this.ib.LF();
await this.sta();for(const h of this.g.aI)for(const l of h.wg())l.VR(this.ib);await this.g.xH();console.log("[Construct 3] WebGL context restored")}Vo(){return this.ib}Bu(){return this.Qj}Cb(){return this.Qj||this.ib}Pm(){return"low"===this.zj?1/this.g.jl():this.kl()}kl(){const h=this.ru();if("off"===h||"crop"===h)return 1;const l=this.g.mh,n=this.g.kh,q=l/n,r=this.Wh/this.Vh;return"scale-inner"!==h&&r>q||"scale-inner"===h&&r<q?this.Nc/n:this.cd/l}LP(h,l,n){l=l||this.Gk;n=n||this.rj;const q=l/2+this.Qea,
r=n/2+this.Rea;{let p=this.hB;if(l!==this.Gk||n!==this.rj)h.au(c,l/n),p=c;h.Tr(p)}l=h.$t(q,r,100*this.g.jl(),q,r,n||this.rj);h.Pr(l)}J5(h){var l=this.cd/2;const n=this.Nc/2;h.Tr(this.hB);l=h.$t(l,n,100,l,n);h.Pr(l)}Ko(){return this.yn}Lo(){return this.zn}mu(h){h.depth=this.g.zm;const l=this.Ov,n=l.findIndex(r=>r.t2(h));let q;-1!==n?(q=l[n],l.splice(n,1)):q=this.Cb().XY(h);this.kD.add(q);return q}bn(h){if(!this.kD.has(h))throw Error("render target not in use");this.kD.delete(h);this.Ov.push(h)}*rD(){for(const h of this.g.bb.$x())for(const l of h.cc){const n=
this.MJ.get(l);n&&(yield n)}}xN(h){if(!this.Cb().sk())return null;let l=this.MJ.get(h);l||(l={name:h.Da(),mM:d.C(d.aa.AQ,this.ib),tD:0,SW:0},this.MJ.set(h,l));return l.mM}eea(){const h=this.Cb();if(h.sk()&&0===this.ig){this.ig=h.bi;this.ew=NaN;for(const l of this.rD())l.tD=NaN}}lea(){this.ib&&this.ib.sk()&&this.mea();this.Qj&&this.Qj.sk()&&this.nea()}mea(){if(isNaN(this.ew)&&(this.ew=this.EB.sN(this.Gn,this.ig),!isNaN(this.ew))){if(this.g.xb)for(const h of this.rD())if(h.tD=h.mM.sN(this.Gn,this.ig),
isNaN(h.tD))return;this.EB.UM(this.ig);this.Ls=Math.min(this.ew,1);if(this.g.xb){for(const h of this.rD())h.mM.UM(this.ig),h.SW=Math.min(h.tD,1);self.Tf.B7(this.Ls,[...this.rD()])}this.Gn=this.ig;this.ig=0}}nea(){if(0!==this.ig){for(var h=this.Gn;h<this.ig;++h){var l=this.qD.get(h);if(l&&!l.oz())return}l=this.g.Pb();h=d.i3(l.cc.length+1);for(var n=this.Gn;n<this.ig;++n){var q=this.qD.get(n);if(q){q=q.ez();for(let r=0,p=Math.min(h.length,q.length/2);r<p;++r){const v=q[2*r],t=q[2*r+1];h[r]=0===Number(v)||
0===Number(t)?NaN:h[r]+Number(t-v)/1E9}}}this.Ls=d.ba(h[0],0,1);if(this.g.xb){n=[];l=l.cc;for(let r=0,p=Math.min(l.length,h.length-1);r<p;++r)n.push({name:l[r].Da(),SW:d.ba(h[r+1],0,1)});self.Tf.B7(this.Ls,n)}for(h=this.Gn;h<this.ig;++h)this.qD.delete(h);this.Gn=this.ig;this.ig=0}}l8(h){this.qD.set(this.Qj.bi,h)}Xy(){return this.Ls}jQ(h,l,n,q,r,p){this.RC=h;this.GK=l;this.SV.Di(n,q,r,p);return this.kx?this.kx:this.kx=new Promise(v=>{this.TV=v})}bba(){if(this.RC){var h=this.Dk,l=this.SV,n=d.ba(Math.floor(l.S),
0,h.width),q=d.ba(Math.floor(l.N),0,h.height),r=l.width();r=0===r?h.width-n:d.ba(Math.floor(r),0,h.width-n);l=l.height();l=0===l?h.height-q:d.ba(Math.floor(l),0,h.height-q);(0!==n||0!==q||r!==h.width||l!==h.height)&&0<r&&0<l&&(h=d.ug(r,l),h.getContext("2d").drawImage(this.Dk,n,q,r,l,0,0,r,l));d.bu(h,this.RC,this.GK).then(p=>{this.HK=URL.createObjectURL(p);this.kx=null;this.TV(this.HK)});this.RC="";this.GK=1}}W1(h){this.ib&&(2===h?(this.If=d.C(d.aa.mP,this.Cb()),this.If.h6(),this.If.V5(),this.If.W5(),
this.If.d6(),this.If.S6(),this.If.Bc(300,200)):0===h?(h=this.g.Xs)&&h.Ar(this.ib).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===h&&(this.Qaa().then(l=>{"done"===this.Nj?this.ib.Uj(l):this.Jf.Tx=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.dS("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.Nj?this.ib.Uj(l):this.Jf.Wx=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.dS("splash-images/splash-website-512.png").then(l=>
{"done"===this.Nj?this.ib.Uj(l):this.Jf.fy=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async Qaa(){var h=(new URL("splash-images/splash-logo.svg",this.g.EE())).toString();h=await d.il(h);h=await this.g.Q4(h);return await this.ib.xy(h,{Ux:"high"})}async dS(h){h=(new URL(h,this.g.EE())).toString();h=await d.il(h);return await this.ib.xy(h,{Ux:"high"})}lF(){this.g.zl("runtime","hide-cordova-splash")}h7(){this.Mw=Date.now();this.g.Db().addEventListener("loadingprogress",this.SJ);this.He=
requestAnimationFrame(()=>this.gR());3!==this.g.Ws&&this.lF()}async s_(){if(this.ib){this.Rn=1;var h=this.g.Ws;4===h&&await this.VV;this.VV=this.JK=null;-1!==this.He&&(cancelAnimationFrame(this.He),this.He=-1);this.g.Db().removeEventListener("loadingprogress",this.SJ);this.SJ=null;this.If&&(this.If.i(),this.If=null);this.g.W4();this.ib.gv();this.Jf.Tx&&(this.ib.Uj(this.Jf.Tx),this.Jf.Tx=null);this.Jf.Wx&&(this.ib.Uj(this.Jf.Wx),this.Jf.Wx=null);this.Jf.fy&&(this.ib.Uj(this.Jf.fy),this.Jf.fy=null);
this.ib.ry();this.ib.ju();this.Nj="done";this.Gn=this.ib.bi;3===h&&this.lF()}}gR(){if(-1!==this.He){var h=this.ib;if(h){h.gv();this.He=-1;var l=this.g.tb.aJ,n=this.g.Ws;3!==n&&(this.J5(h),h.ry(),h.Kr(),h.Mh(),h.Ng(null));if(0===n)this.d$(l);else if(1===n)this.iA(l,120,0);else if(2===n)this.c$(l);else if(3!==n)if(4===n)this.e$(l);else throw Error("invalid loader style");h.ju();this.He=requestAnimationFrame(()=>this.gR())}}}c$(h){h?this.If.GP(1,0,0):this.If.GP(.6,.6,.6);this.If.Vr(Math.round(100*this.Rn)+
"%");h=this.cd/2;const l=this.Nc/2;f.iX(h-150,l-100,h+150,l+100);this.ib.Ng(this.If.se());this.ib.Gr(f,this.If.Gh())}iA(h,l,n){const q=this.ib;q.jG();h?q.Af(1,0,0,1):q.Af(.118,.565,1,1);h=this.cd/2;const r=this.Nc/2,p=l/2;k.Di(h-p,r-4+n,Math.floor(l*this.Rn),8);q.Rect(k);k.Di(h-p,r-4+n,l,8);k.offset(-.5,-.5);k.AD(.5,.5);q.Af(0,0,0,1);q.vO(k);k.AD(1,1);q.Af(1,1,1,1);q.vO(k)}d$(h){var l=this.g.Xs;if(l)if(l=l.se()){var n=l.P(),q=l.O(),r=this.cd/2,p=this.Nc/2,v=n/2;q/=2;f.iX(r-v,p-q,r+v,p+q);this.ib.Ng(l);
this.ib.xd(f);this.iA(h,n,q+16)}else this.iA(h,120,0);else this.iA(h,120,0)}e$(h){const l=this.ib,n=this.Jf.Tx,q=this.Jf.Wx,r=this.Jf.fy,p=Date.now();0===this.LK&&(this.Mw=p);const v=this.g.yr()||this.g.gfa&&!this.g.u2(),t=v?0:200,w=v?0:3E3;let x=1;"fade-in"===this.Nj?x=Math.min((p-this.Mw)/300,1):"fade-out"===this.Nj&&(x=Math.max(1-(p-this.KK)/300,0));l.jG();l.Af(.231*x,.251*x,.271*x,x);k.set(0,0,this.cd,this.Nc);l.Rect(k);const z=Math.ceil(this.cd),E=Math.ceil(this.Nc);let G;256<this.Nc?(l.Af(.302*
x,.334*x,.365*x,x),G=Math.max(.005*E,2),k.Di(0,.8*E-G/2,z,G),l.Rect(k),h?l.Af(x,0,0,x):l.Af(.161*x,.953*x,.816*x,x),h=z*this.Rn,k.Di(.5*z-h/2,.8*E-G/2,h,G),l.Rect(k),l.Af(x,x,x,x),l.Mh(),q&&(h=1.5*d.ba(.22*E,105,.6*z),G=h/8,k.Di(.5*z-h/2,.2*E-G/2,h,G),l.Ng(q),l.Rect(k)),n&&(G=h=Math.min(.395*E,.95*z),k.Di(.5*z-h/2,.485*E-G/2,h,G),l.Ng(n),l.Rect(k)),r&&(h=1.5*d.ba(.22*E,105,.6*z),G=h/8,k.Di(.5*z-h/2,.868*E-G/2,h,G),l.Ng(r),l.Rect(k))):(l.Af(.302*x,.334*x,.365*x,x),G=Math.max(.005*E,2),k.Di(0,.85*E-
G/2,z,G),l.Rect(k),h?l.Af(x,0,0,x):l.Af(.161*x,.953*x,.816*x,x),h=z*this.Rn,k.Di(.5*z-h/2,.85*E-G/2,h,G),l.Rect(k),l.Af(x,x,x,x),l.Mh(),n&&(G=h=.55*E,k.Di(.5*z-h/2,.45*E-G/2,h,G),l.Ng(n),l.Rect(k)));this.LK++;"fade-in"===this.Nj&&300<=p-this.Mw&&2<=this.LK&&(this.Nj="wait",this.WV=p);"wait"===this.Nj&&p-this.WV>=w&&1<=this.Rn&&(this.Nj="fade-out",this.KK=p);("fade-out"===this.Nj&&p-this.KK>=300+t||v&&1<=this.Rn&&500>p-this.Mw)&&this.JK()}}}
{"use strict";const d=self.A,a=self.Tf,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;d.zP=class extends d.ja{constructor(c){c=Object.assign({},b,c);super();this.Rw=c.messagePort;this.Bea=c.baseUrl;this.De=!!c.isInWorker;e=c.ife;this.vj=c.exportType;this.DJ=!!c.isiOSCordova;this.gfa=!!c.isFBInstantAvailable;this.Dfa=c.opusWasmScriptUrl;this.pV=c.opusWasmBinaryUrl;this.Ce=this.Iea=this.xb=!("preview"!==this.vj||!c.isDebug);this.BI=
0;this.MA=[];this.vea=[];this.vK=this.zV=this.KC="";this.kh=this.mh=0;this.NT=self.devicePixelRatio;this.Ws=this.Lf=this.Mf=this.mK=this.lK=0;this.lD=!1;this.Lk=!0;this.gL=!1;this.Xs=null;this.tb=d.C(d.dY,this,c);this.bb=d.C(d.T2,this);this.Aa=d.C(d.w_,this);this.uq=d.C(d.B4,this);this.fg=d.C(d.GY,this);this.Hb=d.C(d.p7,this);this.UK=d.C(d.t7,this);this.Zc=[];this.fK=new Map;this.gK=new Map;this.ZT=0;this.xea=[];this.aI=[];this.Xv=[];this.Vl=[];this.PB=new Map;this.GB=!1;this.Tw=this.hK=0;this.aq=
new Map;this.bq=new Set;this.QB=new Set;this.AC=[];this.MU=[];this.W=null;this.zm=!1;this.SI="vsync";this.ws="standard";this.nd="trilinear";this.Jn=!1;this.dK=!0;this.zJ=this.sV=!1;this.Sfa={WW:f=>{this.mm=this.He=-1;this.ae(f)},Rha:f=>{this.mm=-1;this.ae(f,!1,"skip-render")},Dha:()=>{this.He=-1;this.SF()}};this.mm=this.He=-1;this.Hs=this.rm=this.Sk=0;this.sU=this.WB=this.IB=!1;this.vJ=!0;this.tt=0;this.Kfa=new d.OF(1);this.Ifa=()=>Math.random();this.jB=this.kB=this.nC=this.co=0;this.Cd=1;this.iV=
30;this.WI=d.C(d.Ju);this.XI=d.C(d.Ju);this.iL=d.C(d.Ju);this.BB=-1;this.wC=this.am=this.AB=this.Vp=0;this.Mk=!1;this.Lw=this.bx="";this.Vs=null;this.mq="";this.CK=this.uK=null;this.Wb=d.C(d.Event.Db);this.GI=new Map;this.oK=new Map;this.zfa=0;this.JU=this.OT=this.PT=!1;this.hL=[];this.Tp={pretick:d.C(d.Event,"pretick",!1),tick:d.C(d.Event,"tick",!1),tick2:d.C(d.Event,"tick2",!1),instancedestroy:d.C(d.Event,"instancedestroy",!1),beforelayoutchange:d.C(d.Event,"beforelayoutchange",!1),layoutchange:d.C(d.Event,
"layoutchange",!1)};this.Tp.instancedestroy.instance=null;this.me=d.C(d.Event.Db);this.lW=null;this.vn=d.C(d.gp,d.iy.yG);this.Ip=d.C(d.gp,d.iy.yG);this.wn=d.C(d.gp,d.iy.yG);this.Dw=d.C(d.Q2,this,c.jobScheduler);c.canvas&&(this.W=d.C(d.iE,this));this.Rw.onmessage=f=>this._OnMessageFromDOM(f.data);this.Ei("runtime","visibilitychange",f=>this.Oba(f));this.Ei("runtime","opus-decode",f=>this.rea(f.arrayBuffer));this.Ei("runtime","get-remote-preview-status-info",()=>this.Q$());this.Ei("runtime","js-invoke-function",
f=>this.sA(f));this.Ei("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Wb.addEventListener("window-blur",f=>this.yH(f));this.Wb.addEventListener("window-focus",()=>this.Pba());this.Hb.QX();this.Bj=null;this.bfa=new WeakMap;this.Uv={keyboard:null,NL:null,oM:null}}static Ta(c){return d.C(d.zP,c)}i(){d.D(this.Zc);this.fK.clear();this.gK.clear();this.bb.i();this.bb=null;this.Aa.i();this.Aa=null;this.uq.i();this.uq=null;this.tb.i();this.tb=null;this.fg.i();this.fg=null;this.Hb.i();this.Hb=
null;this.UK.i();this.UK=null;this.W&&(this.W.i(),this.W=null);this.Wb.i();this.Wb=null}["_OnMessageFromDOM"](c){const f=c.type;if("event"===f)this.oS(c);else if("result"===f)this.Hba(c);else throw Error(`unknown message '${f}'`);}oS(c){if(this.JU){var f=c.component,k=c.handler,h=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var q=c.responseId;if("runtime"===f&&(n&&(c=new d.Event(k),c.data=h,this.Wb.Aga(c)),l)){c=new d.Event(k,!0);for(const [r,p]of Object.entries(h))c[r]=
p;this.Bh(c)}if(c=this.GI.get(f))if(c=c.get(k)){n=null;try{n=c(h)}catch(r){console.error(`Exception in '${f}' handler '${k}':`,r);null!==q&&this.wA(q,!1,""+r);return}null!==q&&(n&&n.then?n.then(r=>this.wA(q,!0,r)).catch(r=>{console.error(`Rejection from '${f}' handler '${k}':`,r);this.wA(q,!1,""+r)}):this.wA(q,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${k}' for component '${f}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${f}'`)}else this.hL.push(c)}wA(c,
f,k){this.Rw.postMessage({type:"result",responseId:c,isOk:f,result:k})}Hba(c){const f=c.responseId,k=c.isOk;c=c.result;const h=this.oK.get(f);k?h.resolve(c):h.reject(c);this.oK.delete(f)}Ei(c,f,k){let h=this.GI.get(c);h||(h=new Map,this.GI.set(c,h));if(h.has(f))throw Error(`[Runtime] Component '${c}' already has handler '${f}'`);h.set(f,k)}zl(c,f,k){this.Rw.postMessage({type:"event",component:c,handler:f,data:k,responseId:null})}fp(c,f,k){const h=this.zfa++,l=new Promise((n,q)=>{this.oK.set(h,{resolve:n,
reject:q})});this.Rw.postMessage({type:"event",component:c,handler:f,data:k,responseId:h});return l}F4(){if(!this.xb)throw Error("not in debug mode");this.zl("runtime","post-to-debugger",{type:"reload"})}async Tm(c){this.xb?await a.Tm(this):self.Tf&&self.Tf.Mla(this);var [f]=await Promise.all([this.tb.bN("data.json"),this.aba(),this.Dw.Tm()]);this.Caa(f);await this.kaa(c);this.yr()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.Vo()?(f=this.Vo(),
console.info(`[C3 runtime] Hosted in ${this.De?"worker":"DOM"}, rendering with WebGL ${f.Md} [${f.Ax}] (${f.w2()?"desynchronized":"standard"} compositing)`)):this.Bu()&&console.info(`[C3 runtime] Hosted in ${this.De?"worker":"DOM"}, rendering with experimental WebGPU`);this.Cb().bJ&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.JU=!0;for(const k of this.hL)this.oS(k);d.D(this.hL);
this.W&&this.W.h7();for(const k of c.runOnStartupFunctions)this.MA.push(this.Eca(k));await Promise.all([this.tb.yQ(),...this.MA]);d.D(this.MA);if(this.tb.aJ)this.W&&this.W.lF();else return this.W&&await this.W.s_(),await this.Wb.yL(new d.Event("beforeruntimestart")),await this.gv(),this.Rw.postMessage({type:"runtime-ready"}),this}async Eca(c){try{await c(this.Bj)}catch(f){console.error("[C3 runtime] Error in runOnStartup function: ",f)}}Caa(c){c=c.project;this.KC=c[0];this.zV=c[16];this.vK=c[31];
const f=c[39]||"loading-logo.png";this.Jn=!!c[9];this.mh=this.Mf=c[10];this.kh=this.Lf=c[11];this.lK=this.mh/2;this.mK=this.kh/2;this.ws=c[36];this.SI=c[37];"low-latency"===this.ws&&this.q2()&&77>=d.Xc.gE&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.ws="standard");this.zm=!!c[40];this.nd=c[14];this.lD=!!c[18];this.Ws=c[19];this.Tw=c[21];
this.sV=c[22];const k=this.tb;k.gda(c[7],c[25]);k.Bda(c[8]);k.pda(c[32]);k.uda(c[28]);k.Lda(c[29]);if(0===this.Ws){let r="";this.yr()?k.qA(f)&&(r=k.UE(f)):r=k.tU+f;r&&(this.Xs=k.Ez({url:r}))}this.W&&(this.W.Y5(d.iE.nR(c[12])),this.W.OP(c[23]?"high":"low"),this.W.mG(0!==c[24]),this.W.qda(c[34]),this.W.Jda(c[41]),this.W.Mda(c[13]));this.uq.YY();this.AC=self.BM();for(var h of c[2])this.uq.WY(h);this.AC=self.BM();this.Kaa();for(var l of c[3])h=d.JF.Ta(this,this.Zc.length,l),this.Zc.push(h),this.fK.set(h.Da().toLowerCase(),
h),this.gK.set(h.Ya,h);for(const r of c[4])this.Zc[r[0]].Faa(r);for(var n of c[27])l=n.map(r=>this.Zc[r]),this.xea.push(d.C(d.MY,this,l));for(const r of this.Zc)r.kba();for(const r of c[5])this.bb.Ta(r);(n=c[1])&&(n=this.bb.kr(n))&&this.bb.T5(n);for(var q of c[33])this.Hb.Ta(q);for(const r of c[35])this.UK.Ta(r);this.haa();for(const r of c[6])this.Aa.Ta(r);this.Aa.Sb();this.daa();d.D(this.AC);this.$d();q="any";c=c[20];1===c?q="portrait":2===c&&(q="landscape");this.zl("runtime","set-target-orientation",
{targetOrientation:q})}$D(c){this.MA.push(c)}N$(){return this.ZT++}b8(c){this.aI.push(c)}async kaa(c){this.W&&(await this.W.ug(c),this.W.W1(this.Ws))}async aba(){if(!this.tb.fO("audio/webm; codecs=opus")){var c=null;try{c=this.DJ&&this.tb.ww?await this.tb.OM(this.pV):await this.tb.hu(this.pV)}catch(f){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",f);return}c?this.JX(c):this.IX();await this.KX([this.Dfa])}}async rea(c){return await this.ZD("OpusDecode",{arrayBuffer:c},
[c])}async gv(){this.IB=!0;this.co=Date.now();if(this.lD){for(var c of this.Zc)c.$a||c.yJ||!c.Ff||c.Ic();this.tb.yQ().then(()=>{this.Lk=!1;this.rS()})}else this.Lk=!1;this.tb.e6();this.xb&&a.fqa(e);for(const f of this.bb.hj)f.U8();c=this.bb.m0();await c.mH(null,this.Cb());await c.iT(!0);this.Vp=performance.now();this.lD||this.rS();(await this.fp("runtime","before-start-ticking")).isSuspended?this.tt++:this.ae()}rS(){this.ua(d.B.lb.F.XO,null,null);this.zl("runtime","register-sw")}Fh(c){c=Math.floor(c);
const f=this.AC;if(0>c||c>=f.length)throw Error("invalid object reference");return f[c]}Kaa(){for(const c of self.kY){const f=d.first(Object.keys(c));this.MU.push(f)}}Li(c){c=Math.floor(c);const f=this.MU;if(0>c||c>=f.length)throw Error("invalid prop reference");return f[c]}EE(){return this.Bea}la(){return this.Aa}kd(){return this.Aa.kd()}uf(){return this.Aa.uf()}Jb(){return this.Aa.Jb()}tf(){return this.Aa.tf()}v2(){return 0===this.uf().Ol}qu(){return this.Aa.qu()}yu(){return this.uq.yu()}wf(c){c=
Math.floor(c);if(0>c||c>=this.Zc.length)throw new RangeError("invalid index");return this.Zc[c]}VE(c){return this.fK.get(c.toLowerCase())||null}Zy(c){return this.gK.get(c)||null}*$fa(){for(const c of this.Zc)c.$a||(yield*c.NW())}Db(){return this.Wb}Bh(c){c.Gc=this.Bj;const f=this.xb&&!this.Aa.wz();f&&a.AG();this.me.dispatchEvent(c);f&&a.bE()}Io(c){c.Gc=this.Bj;return this.me.yL(c)}p6(c,f){if(this.mh!==c||this.kh!==f)this.mh=c,this.kh=f,c=this.bb,c.op(),c.np()}dv(c,f){if(this.Mf!==c||this.Lf!==f)this.Mf=
c,this.Lf=f,c=this.bb,c.op(),c.np()}mda(c){this.NT=c}jl(){return this.NT}xg(){return this.W?this.W.xg():this.Mf}Uf(){return this.W?this.W.Uf():this.Lf}Pm(){return this.W?this.W.Pm():1}kl(){return this.W?this.W.kl():1}Ko(){return this.W?this.W.Ko():0}Lo(){return this.W?this.W.Lo():0}jN(){return this.W?this.W.cd:0}iN(){return this.W?this.W.Nc:0}Vy(){return this.W?this.W.Vy():"off"}mu(c){return this.W?this.W.mu(c):null}bn(c){this.W&&this.W.bn(c)}Kda(c){this.gL=!!c}Xy(){return this.W?this.W.Xy():NaN}AF(){return"nearest"!==
this.nd}W4(){this.Xs&&(this.Xs.i(),this.Xs=null)}Pb(){return this.bb.Pb()}Ez(c){return this.tb.Ez(c)}oE(c,f,k,h,l){return this.Hi(c,f,!1,k,h,!1,l,void 0,l)}Hi(c,f,k,h,l,n,q,r,p){var v=null;let t=null;c instanceof d.JF?(t=c,t.$a&&(v=t.En,t=v[Math.floor(this.Hr()*v.length)]),v=t.Cs):(v=c,t=this.wf(v[1]));c=t.Kb().Ff;if(this.Lk&&c&&!t.yJ)return null;const w=f;c||(f=null);var x=k&&!n&&v&&!this.aq.has(v[2])?v[2]:this.Tw++;const z=v?v[0]:null,E=d.C(d.Instance,{Gc:this,RL:t,Zd:f,uX:z,MW:v?v[3]:null,uid:x});
this.aq.set(x,E);x=null;c&&(x=E.j(),"undefined"!==typeof h&&"undefined"!==typeof l&&(x.Qg(h),x.Rg(l)),t.OS());f&&(p||f.Vg(E,!0),1===f.he&&1===f.ie||t.GH(!0),f.rc().CO(t));this.hK++;let G=!0;r&&(r=r.H(),r.$b()&&t.$b()&&t.Zg===r.Zg&&(G=!1));if(t.$b()&&!k&&!n&&G){for(var N of t.Zg.gm)N!==t&&(r=this.Hi(N,w,!1,x?x.K():h,x?x.L():l,!0,!1,void 0,p),E.bs(r));for(var C of E.Jd){C.bs(E);for(const H of E.Jd)C!==H&&C.bs(H)}}c&&!k&&q&&this.QG(E,z,x,f,h,l,p);if(t.$b()&&!k&&!n&&q)for(const H of E.Jd)if(k=H.j())N=
H.Kb(),C=H.H().Cs[0],N.Ff?this.QG(H,C,k,f,k.K(),k.L(),p):this.QG(H,C,k,f,void 0,void 0,p);!n&&q&&("undefined"===typeof h&&(h=z[0]),"undefined"===typeof l&&(l=z[1]),f=x.iz(),h=h-x.K()+f.K(),l=l-x.L()+f.L(),f.Nh(h,l));t.Ev();l=v?d.sD(v[5]):null;v=v?v[4].map(H=>d.sD(H)):null;c&&z&&z[13]&&E.tda();E.eA(l,v);this.Vl.push(E);this.GB=!0;this.xb&&a.Nla(E);return E}QG(c,f,k,h,l,n,q){var r=k.MV,p=k.DK;c.j().nG(r);if(p){"undefined"===typeof l&&(l=f[0]);"undefined"===typeof n&&(n=f[1]);r=new Set;k=f[0];f=f[1];
for(const z of p){var v=z[1],t=z[2];p=z[3];var w=!!z[4];const E=z[5];t=this.bb.TE(z[0]).ca(v).u0(t);v=this.wf(t[1]);var x=c.p1(v);const G=r.has(v);x&&!G&&w?(w=c.PN(v),x=l+t[0][0]-k,t=n+t[0][1]-f,w.j().Nh(x,t),w.j().nG(E),c.Km(w,{Vt:!!(p>>0&1),Wt:!!(p>>1&1),Yq:!!(p>>2&1),Xq:!!(p>>3&1),Ut:!!(p>>4&1),Kx:!!(p>>5&1),Xt:!!(p>>6&1)}),r.add(v)):(v=this.Hi(t,h,!1,l+t[0][0]-k,n+t[0][1]-f,!1,!0,c,q),v.j().nG(E),c.Km(v,{Vt:!!(p>>0&1),Wt:!!(p>>1&1),Yq:!!(p>>2&1),Xq:!!(p>>3&1),Ut:!!(p>>4&1),Kx:!!(p>>5&1),Xt:!!(p>>
6&1)}))}}}Lm(c){if(!this.bq.has(c)){var f=c.H(),k=this.PB.get(f);if(k){if(k.has(c))return;k.add(c)}else k=new Set,k.add(c),this.PB.set(f,k);this.xb&&a.Ola(c);c.pH();this.GB=!0;if(c.$b())for(const h of c.Jd)this.Lm(h);for(const h of c.children())h.Sy()&&this.Lm(h);this.bb.mO()||this.Mk||(f=this.la(),f.Le(!0),c.aea(),f.Le(!1));c.s$(this.bb.mO())}}$d(){this.GB&&(this.u$(),this.v$(),this.GB=!1,this.ga())}u$(){for(const c of this.Vl){const f=c.H();f.Vg(c);for(const k of f.ai)k.Vg(c),k.Ev()}d.D(this.Vl)}v$(){this.Wb.Mr(!0);
for(const [c,f]of this.PB.entries())this.w$(c,f),f.clear();this.PB.clear();this.Wb.Mr(!1)}w$(c,f){for(const h of f){var k=this.Tp.instancedestroy;k.instance=h;this.Wb.dispatchEvent(k);this.aq.delete(h.pb);if(k=h.j())k.yS(),k.zS(),k.pH();this.bq.add(h);this.hK--}d.wh(c.ma(),f);c.Ev();this.QB.add(c);0===c.ma().length&&c.GH(!1);for(const h of c.ai)d.wh(h.ma(),f),h.Ev(),this.QB.add(h);if(c.Kb().Ff){c=new Set([...f].map(h=>h.j().ca()));for(const h of c)h.ica(f)}}*FL(c){for(const f of this.Vl)c.$a?f.H().fE(c)&&
(yield f):f.H()===c&&(yield f)}M$(){return this.Tw++}Yaa(c,f){this.aq.set(c,f)}Cv(){this.Wb.dispatchEvent(d.C(d.Event,"webglcontextlost"));this.cv(!0);for(var c of this.Zc)!c.$a&&c.n1()&&c.hp();(c=this.Pb())&&c.Cv();d.rz.Er();d.cO.Er()}async xH(){await this.Pb().mH(null,this.Vo());this.Wb.dispatchEvent(d.C(d.Event,"webglcontextrestored"));this.cv(!1);this.ga()}Oba(c){this.cv(c.hidden)}yH(c){this.yr()&&this.sV&&!d.Xc.xz&&!c.data.parentHasFocus&&(this.cv(!0),this.zJ=!0)}Pba(){this.zJ&&(this.cv(!1),
this.zJ=!1)}AS(){const c=this.Sfa;"vsync"===this.SI?-1===this.He&&(this.He=self.requestAnimationFrame(c.WW)):"unlimited-tick"===this.SI?(-1===this.mm&&(this.mm=d.VF(c.Rha)),-1===this.He&&(this.He=self.requestAnimationFrame(c.Dha))):-1===this.mm&&(this.mm=d.VF(c.WW))}F8(){-1!==this.He&&(self.cancelAnimationFrame(this.He),this.He=-1);-1!==this.mm&&(d.tY(this.mm),this.mm=-1)}Ym(){return 0<this.tt}cv(c){var f=this.Ym();this.tt+=c?1:-1;0>this.tt&&(this.tt=0);c=this.Ym();!f&&c?(console.log("[Construct 3] Suspending"),
this.F8(),this.Wb.dispatchEvent(d.C(d.Event,"suspend")),this.ua(d.B.lb.F.q4,null,null)):f&&!c&&(console.log("[Construct 3] Resuming"),this.Vp=this.nC=f=performance.now(),this.am=this.wC=this.AB=this.BB=0,this.Wb.dispatchEvent(d.C(d.Event,"resume")),this.ua(d.B.lb.F.n4,null,null),this.Eu()||this.ae(f))}X7(c){this.vn.yc(c)}Y7(c){this.wn.yc(c)}kca(c){this.vn.Kh(c)}jca(c){this.Ip.Kh(c)}lca(c){this.wn.Kh(c)}v8(){this.vn.Lh(!0);for(const c of this.vn)c.ae();this.vn.Lh(!1)}u8(){this.Ip.Lh(!0);for(const c of this.Ip);
this.Ip.Lh(!1)}w8(){this.wn.Lh(!0);for(const c of this.wn)c.hv();this.wn.Lh(!1)}*j9(){this.vn.Lh(!0);for(const c of this.vn){const f=c.ae();d.Wm(f)&&(yield*f)}this.vn.Lh(!1)}*i9(){this.Ip.Lh(!0);for(const c of this.Ip)d.Wm(void 0)&&(yield*void 0);this.Ip.Lh(!1)}*k9(){this.wn.Lh(!0);for(const c of this.wn){const f=c.hv();d.Wm(f)&&(yield*f)}this.wn.Lh(!1)}async ae(c,f,k){this.sU=!0;const h="background-wake"===k;k="background-wake"!==k&&"skip-render"!==k;this.IB&&(!this.Ym()||f||h)&&(f=performance.now(),
this.WB=!0,this.dba(c||0),c=this.j7(),this.Ce&&await c,c=this.Wb.Bga(this.Tp.pretick),c instanceof Promise&&await c,c=this.i7(),this.Ce&&await c,this.iba()&&await this.W$(),this.bb.xr()&&await this.$aa(),c=this.k7(),this.Ce&&await c,k&&this.SF(),this.Ym()||h||this.AS(),this.Sk++,this.rm++,this.Hs++,this.WB=!1,this.am+=performance.now()-f)}async j7(){const c=this.Aa,f=this.xb;this.$d();c.Le(!0);this.Ou(this.Pb());f&&a.Xr();this.Ce?await c.eZ():c.u5();f&&a.HX();this.Nu();c.Le(!1);this.$d();c.Le(!0)}async i7(){const c=
this.xb,f=this.Ce,k=this.Wb,h=this.Tp,l=this.lW;c&&a.Xr();f?await this.Cy(this.j9()):this.v8();f?await this.Cy(this.i9()):this.u8();c&&a.CX();c&&a.Xr();f?await this.SM(h.tick):k.dispatchEvent(h.tick);c&&a.MX();this.Aa.Le(!1);this.Bh(l.tick)}async k7(){const c=this.Aa,f=this.Wb,k=this.Tp,h=this.xb,l=this.Ce;h&&a.Xr();l?await c.cZ(this.bb):c.s5(this.bb);h&&a.HX();this.fg.IM();this.xS();this.vJ=!1;c.Le(!0);h&&a.Xr();l?await this.Cy(this.k9()):this.w8();h&&a.CX();h&&a.Xr();l?await this.SM(k.tick2):f.dispatchEvent(k.tick2);
h&&a.MX();c.Le(!1);l&&await c.yP()}xS(){if(0!==this.bq.size){var c=this.Wb;c.Mr(!0);for(const f of this.QB)f.ao.jp(this.bq);this.QB.clear();this.Aa.Y4(this.bq);for(const f of this.bq)f.i();this.bq.clear();c.Mr(!1)}}async $aa(){const c=this.bb;let f=0;for(;c.xr()&&10>f++;)await this.ZQ(c.Uw)}dba(c){let f=0;0!==this.nC&&(f=Math.max(c-this.nC,0)/1E3,.5<f&&(f=0),this.kB=Math.min(f,1/this.iV));this.nC=c;this.jB=this.kB*this.Cd;this.WI.yc(this.jB);this.XI.yc(f*this.Cd);this.iL.yc(this.kB);this.W&&this.W.lea();
1E3<=c-this.Vp&&(this.Vp+=1E3,1E3<=c-this.Vp&&(this.Vp=c),this.AB=this.BB,this.BB=0,this.wC=Math.min(this.am/1E3,1),this.am=0,this.W&&this.W.eea(),this.xb&&a.Msa());this.BB++}async ZQ(c){const f=this.Wb,k=this.bb.Pb();await k.Wda();k.dea(c,this.Cb());k===c&&this.Aa.ny();this.fg.IM();this.xS();f.dispatchEvent(this.Tp.beforelayoutchange);d.el.PP(!0);await c.mH(k,this.Cb());d.el.PP(!1);await c.iT(!1);f.dispatchEvent(this.Tp.layoutchange);this.ga();this.vJ=!0;this.$d()}ga(){this.dK=!0}Vo(){return this.W?
this.W.Vo():null}Bu(){return this.W?this.W.Bu():null}Cb(){return this.W?this.W.Cb():null}SF(){const c=this.W;if(c&&!c.F2()){var f=this.Cb(),k=f.sk(),h=k&&f.Iu();k=k&&!1;h&&f.vY();if(this.dK){var l=this.bb.Pb();f.gv();var n=this.xb;n&&a.Xr();this.dK=!1;var q=null;h&&(q=c.EB.cE(),f.BG(q));h=null;k&&(h=f.Wra(2*(1+l.cc.length)),f.S7(0));this.zm&&"low"===c.zj?f.U5(c.xg(),c.Uf()):f.D5();this.tca(this.Cb(),l);q&&f.wE(q);k&&(f.S7(1),this.W.l8(h));f.ju();n&&(a.sia(),a.Nsa());c&&c.bba()}else f.J1()}}tca(c,
f){c.Mh();c.fG();c.Af(1,1,1,1);c.Te(null);c.Ng(null);c.gn(this.zm);f.qf(c)}ua(c,f,k){if(!this.IB)return!1;var h=!this.WB&&!this.Aa.zF();let l=0;h&&(l=performance.now());const n=this.xb;n&&this.Pz(!1);c=this.Aa.Iv(this.bb,c,f,k);h&&(h=performance.now()-l,this.am+=h,n&&a.Eia(h));n&&this.Pz(!0);return c}async mb(c,f,k){if(!this.Ce)return this.ua(c,f,k);if(!this.IB)return!1;if(this.Eu())return this.Aa.P4(c,f,k);if(!this.Pb())return this.Aa.QF(c,f,k);const h=performance.now();c=this.Aa.pv(this.bb,c,f,
k);for(f=c.next();!f.done;)await this.dr(f.value),f=c.next();this.Ym()||this.Aa.zF()||(await this.Aa.yP(),this.sU&&!this.WB&&this.AS());this.am+=performance.now()-h;return f.value}mk(c){return this.Kfa.yc(c)}Ou(c){this.Xv.push(c)}Nu(){if(!this.Xv.length)throw Error("layout stack empty");this.Xv.pop()}Ma(){return this.Xv.length?this.Xv.ne(-1):this.Pb()}hr(c){return c&&-1!==c.Cd?this.kB*c.Cd:this.jB}sG(c){if(isNaN(c)||0>c)c=0;this.Cd=c}XP(c){this.iV=d.ba(c,1,120)}Ag(){return this.WI.fa()}QE(){return this.XI.fa()}gF(){return this.iL.fa()}sl(){++this.Hs}qe(c){if(this.Mk)throw Error("cannot call while loading state - wait until afterload event");
return this.aq.get(c)||null}uS(){this.aq.clear();for(const c of this.Zc)if(!c.$a)for(const f of c.ma())this.aq.set(f.pb,f)}yr(){return"preview"===this.vj}u2(){return"cordova"===this.vj}q2(){return"Android"===d.Xc.Dr&&("cordova"===this.vj||"playable-ad"===this.vj||"instant-games"===this.vj)}r6(c){c=!!c;this.Jn!==c&&(this.Jn=c,this.bb.np(),this.ga())}w5(c){this.bx=c}a3(c){this.Lw=c}HF(c){this.Vs=c}iba(){return!(!this.bx&&!this.Lw&&null===this.Vs)}async W$(){this.bx&&(this.$d(),await this.M9(this.bx),
this.OG());this.Lw&&(await this.L9(this.Lw),this.OG(),this.xb&&a.Xra());if(null!==this.Vs){this.$d();try{await this.dR(this.Vs),this.mq=this.Vs,await this.mb(d.B.lb.F.VO,null),this.mq=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.mb(d.B.lb.F.WO,null)}this.OG()}}OG(){this.Lw=this.bx="";this.Vs=null}HR(){this.uK||(this.uK=localforage.vL({name:"c3-localstorage-"+this.vK,description:this.KC}));return this.uK}IR(){this.CK||(this.CK=localforage.vL({name:"c3-savegames-"+
this.vK,description:this.KC}));return this.CK}async M9(c){const f=await this.Xca();try{await this.IR().setItem(c,f),console.log("[Construct 3] Saved state to storage ("+f.length+" chars)"),this.mq=f,await this.mb(d.B.lb.F.o4,null),this.mq=""}catch(k){console.error("[Construct 3] Failed to save state to storage: ",k),await this.mb(d.B.lb.F.p4,null)}}async L9(c){try{const f=await this.IR().getItem(c);if(!f)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+f.length+" chars)");
await this.dR(f);this.mq=f;await this.mb(d.B.lb.F.VO,null);this.mq=""}catch(f){console.error("[Construct 3] Failed to load state from storage: ",f),await this.mb(d.B.lb.F.WO,null)}}async Xca(){const c={c3save:!0,version:1,rt:{time:this.Ag(),timeRaw:this.QE(),walltime:this.gF(),timescale:this.Cd,tickcount:this.Sk,execcount:this.Hs,next_uid:this.Tw,running_layout:this.Pb().Ya,start_time_offset:Date.now()-this.co},types:{},layouts:{},events:this.Aa.na(),timelines:this.Hb.na(),user_script_data:null};
for(var f of this.Zc)f.$a||f.YN()||(c.types[f.Ya.toString()]=f.na());for(const k of this.bb.hj)c.layouts[k.Ya.toString()]=k.na();f=this.UG("save");f.saveData=null;await this.Io(f);c.user_script_data=f.saveData;return JSON.stringify(c)}async dR(c){var f=this.bb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Wb.dispatchEvent(d.C(d.Event,"beforeload"));
for(var k of this.$fa())k.ms();this.Mk=!0;k=c.rt;this.WI.Set(k.time);k.hasOwnProperty("timeRaw")&&this.XI.Set(k.timeRaw);this.iL.Set(k.walltime);this.Cd=k.timescale;this.Sk=k.tickcount;this.Hs=k.execcount;this.co=Date.now()-k.start_time_offset;var h=k.running_layout;if(h!==this.Pb().Ya)if(h=f.TE(h))await this.ZQ(h);else return;for(const [l,n]of Object.entries(c.types))h=this.Zy(parseInt(l,10)),!h||h.$a||h.YN()||h.xa(n);this.$d();this.uS();this.Mk=!1;this.Tw=k.next_uid;for(const [l,n]of Object.entries(c.layouts))(k=
f.TE(parseInt(l,10)))&&k.xa(n);this.Aa.xa(c.events);for(const l of this.Zc)if(!l.$a&&l.$b())for(const n of l.ma()){k=n.No();for(const q of l.Zg.gm)if(q!==l){h=q.ma();if(0>k||k>=h.length)throw Error("missing sibling instance");n.bs(h[k])}}this.Hb.xa(c.timelines);f.op();f.np();this.Wb.dispatchEvent(d.C(d.Event,"afterload"));f=this.UG("load");f.saveData=c.user_script_data;await this.Io(f);this.ga()}async KX(c){c=(await Promise.all(c.map(f=>this.tb.il(f)))).map(f=>URL.createObjectURL(f));this.Dw.I1(c)}IX(){this.Dw.y5()}JX(c){this.Dw.z5(c)}ZD(c,
f,k){return this.Dw.ZD(c,f,k)}qF(c,f){this.zl("runtime","invoke-download",{url:c,filename:f})}async Q4(c){var f=f||2048;var k=k||2048;return this.De?(await this.fp("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:f,surfaceHeight:k,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,f,k)}Jr(){this.PT||(this.PT=!0,this.zl("runtime","enable-device-orientation"))}cn(){this.OT||(this.OT=!0,this.zl("runtime","enable-device-motion"))}Hr(){return this.Ifa()}Q$(){const c=
this.Vo();return{fps:this.AB,cpu:this.wC,gpu:this.Xy(),layout:this.Pb()?this.Pb().Da():"",renderer:c?c.Ax:"<unavailable>"}}Eu(){return this.xb?a.Eu():!1}dr(c){return this.Ce?a.dr(c):Promise.resolve()}qc(){return this.Ce?a.uja():!1}Pz(c){c?this.BI--:this.BI++;this.gea()}gea(){this.Ce=this.xb&&this.Iea&&0===this.BI}sF(){return this.xb&&a.sF()}wF(){return this.xb&&this.Cb().sk()&&a.wF()}async Cy(c){if(c)for(const f of c)await this.dr(f)}SM(c){return this.Cy(this.Wb.Cga(c))}sA(c){return this.Aa.sA(c.name,
c.params)}UG(c){c=d.C(d.Event,c,!1);c.Gc=this.Bj;return c}haa(){var c={};for(const f of this.Zc)c[f.Li()]={value:f.lw,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Bj=new self.A1(this,c);this.lW={tick:this.UG("tick")}}daa(){const c={};for(const f of this.la().bI)c[f.Li()]=f.JR();this.Bj.eaa(c)}fS(c,f){this.bfa.set(c,f)}};self.C3_CreateRuntime=d.zP.Ta;self.C3_InitRuntime=(c,f)=>c.Tm(f)}
{"use strict";const d=self.A;d.Q2=class extends d.ja{constructor(a,b){super();this.g=a;this.iq=new Map;this.Bfa=0;this.pw=b.inputPort;b.outputPort.onmessage=e=>this.qS(e);this.bV=b.maxNumWorkers;this.Ew=1;this.lU=this.uw=!1}async Tm(){}I1(a){this.pw.postMessage({type:"_import_scripts",scripts:a})}y5(){this.pw.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}z5(a){this.pw.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}ZD(a,b,e){e||(e=[]);const c=this.Bfa++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:e};b=new Promise((f,k)=>{this.iq.set(c,{resolve:f,progress:void 0,reject:k,uL:!1})});this.pw.postMessage(a,e);this.gS();return b}qS(a){a=a.data;const b=a.type,e=a.jobId;switch(b){case "result":this.yba(e,a.result);break;case "progress":this.xba(e,a.progress);break;case "error":this.wba(e,a.error);break;case "ready":this.zba();break;default:throw Error(`unknown message from worker '${b}'`);}}yba(a,b){const e=this.iq.get(a);if(!e)throw Error("invalid job ID");
e.uL||e.resolve(b);this.iq.delete(a)}xba(a,b){a=this.iq.get(a);if(!a)throw Error("invalid job ID");!a.uL&&a.progress&&a.progress(b)}wba(a,b){const e=this.iq.get(a);if(!e)throw Error("invalid job ID");e.uL||e.reject(b);this.iq.delete(a)}zba(){this.uw&&(this.uw=!1,this.Ew++,this.Ew<this.bV?this.gS():this.pw.postMessage({type:"_no_more_workers"}))}async gS(){if(!(this.Ew>=this.bV||this.uw||this.lU||this.iq.size<=this.Ew))try{this.uw=!0,(await this.g.fp("runtime","create-job-worker")).outputPort.onmessage=
a=>this.qS(a)}catch(a){this.lU=!0,this.uw=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Ew} so far)`,a)}}}}self.C3_Shaders={};
{"use strict";const d=self.A;let a=null,b="",e="",c=[],f="",k="",h="";const l=d.C(d.aY);function n(q,r){q=q[1];r=r[1];if("number"===typeof q&&"number"===typeof r)return q-r;q=""+q;r=""+r;return q<r?-1:q>r?1:0}d.B.lb=class extends d.Al{constructor(q){super(q);this.Hf=this.g.la().Hf;this.Td=this.g.la().kd();this.mw=this.Yp=0;this.fU=new Map}i(){super.i()}ga(){this.g.ga()}ua(q){this.g.ua(q,null,null)}bz(q,r){a&&q===b&&r===e||(a=new RegExp(q,r),b=q,e=r);a.lastIndex=0;return a}HN(q,r,p){if(q===f&&r===
k&&p===h)return c;const v=this.bz(r,p);c=q.match(v);f=q;k=r;h=p;return c}async oH(q,r){if(r.length){this.Yp+=r.length;var p=[];for(const v of r)p.push(q.CO(v));await d.J4(p,()=>{this.mw++});this.mw++;this.mw===this.Yp&&(this.g.ua(d.B.lb.F.V3,null,null),this.Yp=this.mw=0)}}mT(q,r){for(const p of r)0===p.G.length&&q.m3(p)}BR(){return l}uca(q){var r=this.g.la();const p=r.kd(),v=p.vf(),t=v.Jb(),w=t.Ed();var x=v.ik();const z=p.Pa(t),E=r.Hf,G=E.Pa();if(x)for(x=0;x<q&&!G.wc;++x)r.Se(w),G.Kc(x),t.Kg(v,z),
r.Rb(w);else for(r=0;r<q&&!G.wc;++r)G.Kc(r),t.Kg(v,z);p.Na();E.Na();return!1}*q9(q){var r=this.g.la();const p=r.kd(),v=p.vf(),t=v.Jb(),w=t.Ed();var x=v.ik();const z=p.Pa(t),E=r.Hf,G=E.Pa();if(x)for(x=0;x<q&&!G.wc;++x)r.Se(w),G.Kc(x),yield*t.vg(v,z),r.Rb(w);else for(r=0;r<q&&!G.wc;++r)G.Kc(r),yield*t.vg(v,z);p.Na();E.Na();return!1}sea(){var q=this.g.la();const r=q.kd(),p=r.vf(),v=p.Jb(),t=v.Ed();var w=p.ik();const x=r.Pa(v),z=q.Hf,E=z.Pa();if(w)for(w=0;!E.wc;++w)q.Se(t),E.Kc(w),v.Kg(p,x)||E.Tg(),q.Rb(t);
else for(q=0;!E.wc;++q)E.Kc(q),v.Kg(p,x)||E.Tg();r.Na();z.Na();return!1}*J9(){var q=this.g.la();const r=q.kd(),p=r.vf(),v=p.Jb(),t=v.Ed();var w=p.ik();const x=r.Pa(v),z=q.Hf,E=z.Pa();if(w)for(w=0;!E.wc;++w)q.Se(t),E.Kc(w),(yield*v.vg(p,x))||E.Tg(),q.Rb(t);else for(q=0;!E.wc;++q)E.Kc(q),(yield*v.vg(p,x))||E.Tg();r.Na();z.Na();return!1}x$(q,r,p){var v=this.g.la();const t=v.kd(),w=t.vf(),x=w.Jb(),z=x.Ed(),E=w.ik(),G=t.Pa(x),N=v.Hf,C=N.Pa();C.Uz(q);if(p<r)if(E)for(q=r;q>=p&&!C.wc;--q)v.Se(z),C.Kc(q),
x.Kg(w,G),v.Rb(z);else for(v=r;v>=p&&!C.wc;--v)C.Kc(v),x.Kg(w,G);else if(E)for(q=r;q<=p&&!C.wc;++q)v.Se(z),C.Kc(q),x.Kg(w,G),v.Rb(z);else for(v=r;v<=p&&!C.wc;++v)C.Kc(v),x.Kg(w,G);t.Na();N.Na();return!1}*n9(q,r,p){var v=this.g.la();const t=v.kd(),w=t.vf(),x=w.Jb(),z=x.Ed(),E=w.ik(),G=t.Pa(x),N=v.Hf,C=N.Pa();C.Uz(q);if(p<r)if(E)for(q=r;q>=p&&!C.wc;--q)v.Se(z),C.Kc(q),yield*x.vg(w,G),v.Rb(z);else for(v=r;v>=p&&!C.wc;--v)C.Kc(v),yield*x.vg(w,G);else if(E)for(q=r;q<=p&&!C.wc;++q)v.Se(z),C.Kc(q),yield*x.vg(w,
G),v.Rb(z);else for(v=r;v<=p&&!C.wc;++v)C.Kc(v),yield*x.vg(w,G);t.Na();N.Na();return!1}y$(q){var r=this.g.la();const p=r.kd(),v=p.vf(),t=v.Jb(),w=t.Ed();var x=v.ik();const z=p.Pa(t),E=r.Hf,G=E.Pa(),N=q.$b(),C=q.$(),H=l.Pa();d.td(H,C.ma());if(x)for(let I=0,K=H.length;I<K&&!G.wc;++I)r.Se(w),x=H[I],q.$().rk(x),N&&x.Yi(),G.Kc(I),t.Kg(v,z),r.Rb(w);else{C.ve(!1);q=C.G;d.D(q);q.push(null);for(let I=0,K=H.length;I<K&&!G.wc;++I)r=H[I],q[0]=r,N&&r.Yi(),G.Kc(I),t.Kg(v,z)}p.Na();E.Na();d.D(H);l.Na();return!1}*o9(q){var r=
this.g.la();const p=r.kd(),v=p.vf(),t=v.Jb(),w=t.Ed();var x=v.ik();const z=p.Pa(t),E=r.Hf,G=E.Pa(),N=q.$b(),C=q.$(),H=l.Pa();d.td(H,C.ma());if(x)for(let I=0,K=H.length;I<K&&!G.wc;++I)r.Se(w),x=H[I],q.$().rk(x),N&&x.Yi(),G.Kc(I),yield*t.vg(v,z),r.Rb(w);else{C.ve(!1);q=C.G;d.D(q);q.push(null);for(let I=0,K=H.length;I<K&&!G.wc;++I)r=H[I],q[0]=r,N&&r.Yi(),G.Kc(I),yield*t.vg(v,z)}p.Na();E.Na();d.D(H);l.Na();return!1}z$(q,r){var p=this.g.la();const v=p.kd(),t=p.tf(),w=v.vf(),x=w.Jb(),z=x.Ed(),E=w.ik(),
G=v.Pa(x),N=p.Hf,C=N.Pa(),H=q.$b(),I=q.$(),K=l.Pa();d.D(K);const Q=I.ma();for(let R=0,U=Q.length;R<U;++R)K.push([Q[R],t.Qu(1,R)]);K.sort(n);1===r&&K.reverse();if(E)for(let R=0,U=K.length;R<U&&!C.wc;++R)p.Se(z),r=K[R][0],q.$().rk(r),H&&r.Yi(),C.Kc(R),x.Kg(w,G),p.Rb(z);else{I.ve(!1);q=I.G;d.D(q);q.push(null);for(let R=0,U=K.length;R<U&&!C.wc;++R)p=K[R][0],q[0]=p,H&&p.Yi(),C.Kc(R),x.Kg(w,G)}v.Na();N.Na();d.D(K);l.Na();return!1}*p9(q,r){var p=this.g.la();const v=p.kd(),t=p.tf(),w=v.vf(),x=w.Jb(),z=x.Ed(),
E=w.ik(),G=v.Pa(x),N=p.Hf,C=N.Pa(),H=q.$b(),I=q.$(),K=l.Pa();d.D(K);const Q=I.ma();for(let R=0,U=Q.length;R<U;++R)K.push([Q[R],t.Qu(1,R)]);K.sort(n);1===r&&K.reverse();if(E)for(let R=0,U=K.length;R<U&&!C.wc;++R)p.Se(z),r=K[R][0],q.$().rk(r),H&&r.Yi(),C.Kc(R),yield*x.vg(w,G),p.Rb(z);else{I.ve(!1);q=I.G;d.D(q);q.push(null);for(let R=0,U=K.length;R<U&&!C.wc;++R)p=K[R][0],q[0]=p,H&&p.Yi(),C.Kc(R),yield*x.vg(w,G)}v.Na();N.Na();d.D(K);l.Na();return!1}mA(q,r){let p=this.fU.get(q);if(p)return p;if(!r)return null;
p={so:null,QD:new Map};this.fU.set(q,p);return p}K9(q,r,p,v,t){r.Oe().r5(p);v&&q.Rb(t)}*l9(q,r,p,v,t){yield*r.Oe().bZ(p);v&&q.Rb(t)}}}{"use strict";const d=self.A;d.B.lb.Oh=class extends d.ja{constructor(a){super();this.M=a;this.g=a.I();this.ii=a.Kb()}Ic(){}i(){this.ii=this.g=this.M=null}}}{"use strict";const d=self.A;d.B.lb.Instance=class extends d.ja{constructor(a){super();this.J=a;this.M=this.J.H();this.eb=this.M.eb;this.g=this.J.I()}i(){this.g=this.eb=this.M=this.J=null}}}
{"use strict";const d=self.A,a=[];d.B.lb.F={z_(){return!0},UO(){return!0},Y3(){return!0},q4(){return!0},n4(){return!0},Ym(){return this.g.Ym()},r_(){const b=this.g.uf();return b.II?!1:!b.jq},Bsa(){const b=this.g.tf().yf();let e=b.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,b.set("TriggerOnce_lastTick",-1));const c=this.g.Sk;b.set("TriggerOnce_lastTick",c);return this.g.vJ||e!==c-1},y_(b){const e=this.g.tf().yf(),c=e.get("Every_lastTime")||0,f=this.g.Ag();e.has("Every_seconds")||e.set("Every_seconds",
b);const k=e.get("Every_seconds");if(f>=c+k)return e.set("Every_lastTime",c+k),f>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",f),e.set("Every_seconds",b),!0;f<c-.1&&e.set("Every_lastTime",f);return!1},Hu(b){return(b=this.g.la().oN(b))&&b.Hu()},yr(){return this.g.yr()},xz(){return d.Xc.xz},XO(){return!0},H3(){return!0},Jka(){return!0},o4(){return!0},p4(){return!0},VO(){return!0},WO(){return!0},Ena(b){return!!this.g.qe(b)},rma(b){switch(b){case 0:return"browser"===d.Xc.lE;case 1:return"iOS"===
d.Xc.Dr;case 2:return"Android"===d.Xc.Dr;case 8:return"cordova"===d.Xc.lE;case 9:return"scirra-arcade"===this.g.vj;case 10:return"nwjs"===d.Xc.lE;case 13:return"windows-uwp"===this.g.vj;default:return!1}},$oa(b,e,c){return this.bz(e,c).test(b)},IY(b,e,c){return d.compare(b,e,c)},Pja(b,e,c){return b>=e&&b<=c},JY(b,e,c){return d.compare(b.Vc(),e,c)},Qja(b){return!!b.Vc()},$ja(b,e){const c=this.g.Ag();return 0===b?(b=this.g.tf().yf(),!b.get("CompareTime_executed")&&c>=e?(b.set("CompareTime_executed",
!0),!0):!1):d.compare(c,b,e)},oma(b){return isNaN(b)},UX(b,e,c){return d.Ft(d.Ea(b),d.Ea(c))<=d.Ea(e)},s2(b,e){return d.Ke(d.Ea(b),d.Ea(e))},r2(b,e,c){b=d.Ea(b);e=d.Ea(e);c=d.Ea(c);return d.Ke(c,e)?d.Ke(b,e)&&!d.Ke(b,c):!(!d.Ke(b,e)&&d.Ke(b,c))},Hma(b,e){return"number"===typeof b?0===e:1===e},Pka(b){return!!b},doa(b,e,c,f){if(!b)return!1;const k=this.BR(),h=k.Pa(),l=b.$();d.td(h,l.ma());l.Yb&&d.D(l.kc);const n=this.g.tf();let q=0;for(let r=0,p=h.length;r<p;++r){const v=h[r];h[q]=v;e=n.Qu(1,r);f=n.Qu(3,
r);d.compare(e,c,f)?++q:l.rn(v)}d.pe(h,q);l.Ru(h);e=!!h.length;d.D(h);k.Na();b.ec();return e},eoa(b,e){if(!b)return!1;const c=this.BR(),f=c.Pa(),k=b.$();d.td(f,k.ma());k.Yb&&d.D(k.kc);const h=this.g.tf();let l=0;for(let n=0,q=f.length;n<q;++n){const r=f[n];f[l]=r;(e=h.Qu(1,n))?++l:k.rn(r)}d.pe(f,l);k.Ru(f);e=!!f.length;d.D(f);c.Na();b.ec();return e},koa(b,e){if(!b)return!1;const c=b.$(),f=c.ma();e=Math.floor(e);if(e>=f.length)return!1;c.an(f[e]);b.ec();return!0},ooa(b){if(!b)return!1;const e=b.$(),
c=e.ma(),f=Math.floor(this.g.Hr()*c.length);if(f>=c.length)return!1;e.an(c[f]);b.ec();return!0},coa(b){if(!b||!b.G.length)return!1;b.$().ve(!0);b.ec();return!0},moa(b,e,c){if(!b)return!1;const f=b.$();var k=f.ma();const h=this.g.Jb().Vd,l=this.g.tf().ci;f.Yb?(d.td(a,k),f.oy(),f.ve(!1)):h?(d.td(a,f.kc),d.D(f.kc)):(d.td(a,f.G),d.D(f.G));for(let n=0,q=a.length;n<q;++n)k=a[n],d.xor(k.j().cu(e,c),l)?f.xp(k):f.rn(k);b.ec();return d.xor(!!f.G.length,l)},joa(b){if(!b)return!1;var e=b.$a;let c=null;const f=
this.g.Vl;for(let k=f.length-1;0<=k;--k){const h=f[k];if(e){if(h.H().fE(b)){c=h;break}}else if(h.H()===b){c=h;break}}c||(e=b.ma(),e.length&&(c=e.ne(-1)));if(!c)return!1;b.$().an(c);b.ec();return!0},hpa(b){return this.g.Ce?this.q9(b):this.uca(b)},bta(){return this.g.Ce?this.J9():this.sea()},Yka(b,e,c){return this.g.Ce?this.n9(b,e,c):this.x$(b,e,c)},Zka(b){return this.g.Ce?this.o9(b):this.y$(b)},$ka(b,e,c){return this.g.Ce?this.p9(b,c):this.z$(b,c)},Tma(b){return b?b.Ac():!1},Qma(b){return b?!b.G.length:
!1},Pma(b,e,c){return b?d.compare(100*b.xf(),e,c):!1},V3(){return!0},lma(){return 0<this.Yp}}}
{"use strict";const d=self.A;function a(h,l){const n=h[0]-l[0];return 0!==n?n:h[1]-l[1]}function b(h,l){return h[1]-l[1]}const e=[],c=[],f=d.C(d.Rect),k=d.C(d.jb);d.B.lb.fb={O6(h,l){h.Og(l)},RX(h,l){h.Xm()&&"number"!==typeof l&&(l=parseFloat(l));h.Og(h.Vc()+l)},l7(h,l){h.Xm()&&h.Og(h.Vc()-l)},Bqa(h,l){h.Og(!!l)},usa(h){h.Og(!h.Vc())},Xpa(){this.g.la().i5()},RM(h,l,n,q,r){h&&l&&(n=this.g.oE(h,l,n,q,r))&&(r&&l.xG(n),l=this.g.la(),l.Le(!0),n.IA(),l.Le(!1),h.$().rk(n),n.$b()&&n.Yi())},vka(h,l,n,q,r){h&&
l&&(h=this.g.VE(h))&&d.B.lb.fb.RM.call(this,h,l,n,q,r)},Pu(h,l,n,q,r,p,v,t,w,x){if(h){var z=this.g.Ma();if(p&&(z=this.g.bb.kr(p),!z))return;p=null;if("number"!==typeof v||0<=v)if(p=z.ca(v),!p)return;f.set(l,n,q,r);l=z.Pu(h,f,p,t,w,x);h.$().Ru(l);h.ec()}},$ra(){const h=this.Hf;h.oO()&&h.gr().Tg()},Or(h,l){(h=this.g.la().oN(h))&&(0===l?h.Or(!1):1===l?h.Or(!0):h.Or(!h.Hu()))},B6(h){this.g.sG(h)},Dra(h,l){0>l&&(l=0);if(h){h=h.$().ma();for(const n of h)n.sG(l)}},aqa(h){if(h){h=h.$().ma();for(const l of h)l.o5()}},
HG(h){if(!(0>h))return this.g.la().aE().l2(h),!0},Wsa(h){this.g.la().aE().j2(h);return!0},Vsa(){const h=this.g.la();h.aE().Y1(h.P0());return!0},Nra(h){h=h.toLowerCase();for(const l of this.g.la().pg)l.I2()&&l.jx===h&&l.oG()},async jQ(h,l,n,q,r,p){const v=this.g.W;v&&(this.ga(),await v.jQ(0===h?"image/png":"image/jpeg",l/100,n,q,r,p),await this.g.mb(d.B.lb.F.H3,null))},Eqa(h,l){if(!(0>=h||0>=l)){this.g.dv(h,l);var n=this.g.Ma();n.jy();for(const q of n.cc)q.GG();if(n=this.g.W)"off"!==n.ru()&&this.g.p6(h,
l),n.Bc(n.Yk,n.Xk,!0),this.g.ga()}},Vqa(h){const l=this.g.W;l&&"off"!==l.ru()&&(l.OP(0!==h?"high":"low"),l.Bc(l.Yk,l.Xk,!0))},mp(h){this.g.w5(h)},ana(h){this.g.a3(h)},bna(h){this.g.HF(h)},Xqa(){},Ypa(){for(const h of this.g.bb.hj)h.m5()},Gra(h){this.g.r6(0!==h)},XP(h){this.g.XP(h)},Qra(h,l){if(h){var n=h.$().ma(),q=this.g.Ma(),r=h.$a;h=h.wj;for(let v=0,t=n.length;v<t;++v){var p=n[v];const w=p.j();if(!w)continue;let x;x=r?p.Pe(l+p.H().qN(h)):p.Pe(l);e.push([w.ca().Ja(),w.gk()]);c.push([p,x])}if(e.length){e.sort(a);
c.sort(b);l=!1;for(let v=0,t=e.length;v<t;++v)n=c[v][0],r=q.vu(e[v][0]),h=e[v][1],p=r.G,p[h]!==n&&(p[h]=n,n.j().Fv(r),r.Sg(),l=!0);l&&this.g.ga();d.D(e);d.D(c)}}},a1(h){if(!this.g.Lk){var l=this.g.bb;l.xr()||l.my(h)}},tla(h){if(!this.g.Lk){var l=this.g.bb;l.xr()||(h=l.kr(h))&&l.my(h)}},yna(h){if(!this.g.Lk){var l=this.g.bb;if(!l.xr()){var n=l.hj,q=n.indexOf(l.Pb());h&&0===q||(h||q!==n.length-1)&&l.my(n[q+(h?-1:1)])}}},Zpa(){if(!this.g.Lk){var h=this.g.bb;h.xr()||(h.my(h.Pb()),this.g.la().j5())}},
nra(h,l){h&&h.Pg(l)},hra(h,l){h&&h.qk(l/100)},jra(h,l){h&&h.ZP(l)},kra(h,l){h&&h.u6(l)},ara(h,l){h&&h.Yc(d.Ea(+l))},lra(h,l,n){h&&(h.Wu(!0),h.Wi(l),h.Xi(n))},$pa(h){h&&h.Wu(!1)},ira(h,l,n){h&&h.q6(l/100,n/100)},ora(h,l){h&&h.Ve(+l)},bra(h,l){h&&(k.ay(l),k.ba(),h=h.Ml,h.uo(k)||(h.Cm(k),this.ga()))},mra(h,l){h&&h.K6(l)},cra(h,l){h&&h.ag(l)},dra(h,l,n){h&&(h=h.Ra,n=h.ll(n))&&(l=1===l,n.Lb!==l&&(n.Nz(l),h.mn(),this.g.ga()))},fra(h,l,n,q){if(h&&(h=h.Ra,l=h.ll(l))&&(h=h.yg(l.Ja()),n=Math.floor(n),!(0>n||
n>=h.length))){var r=l.nb.$y(n);if("color"===r){k.ay(q);n=h[n];if(k.uo(n))return;n.Cm(k)}else{"percent"===r&&(q/=100);if(h[n]===q)return;h[n]=q}l.Lb&&this.g.ga()}},gra(h,l){h&&h.X5(l)},tra(h){this.g.Ma().pp(+h)},pra(h){this.g.Ma().Yc(d.Ea(+h))},qra(h,l){const n=this.g.Ma().Ra;if(l=n.ll(l))h=1===h,l.Lb!==h&&(l.Nz(h),n.mn(),this.g.ga())},rra(h,l,n){var q=this.g.Ma().Ra;if(h=q.ll(h))if(q=q.yg(h.Ja()),l=Math.floor(l),!(0>l||l>=q.length)){var r=h.nb.$y(l);if("color"===r){k.ay(n);l=q[l];if(k.uo(l))return;
l.Cm(k)}else{"percent"===r&&(n/=100);if(q[l]===n)return;q[l]=n}h.Lb&&this.g.ga()}},ura(h,l){this.g.Ma().N6(h/100,l/100)},sra(h){const l=this.g.Ma();0===h?l.aQ():l.YP()},qqa(h){this.g.Ma().Wi(h)},rqa(h){this.g.Ma().Xi(h)},oqa(h,l){const n=this.g.Ma();n.Wi(h);n.Xi(l)},pqa(h){if(h&&(h=h.zg())&&(h=h.j())){var l=this.g.Ma();l.Wi(h.K());l.Xi(h.L())}},async d3(h){const l=this.g.Pb();l&&h&&!this.g.Lk&&await this.oH(l,h.$a?h.En:[h])},async $ma(h){await d.B.lb.fb.d3.call(this,this.g.VE(h))},Jsa(h){const l=
this.g.Pb();l&&h&&this.mT(l,h.$a?h.En:[h])},v7(h){d.B.lb.fb.v7.call(this,this.g.VE(h))},Ksa(){const h=this.g.Pb();if(h){var l=h.U$();this.mT(h,l)}},async Yma(h){const l=this.g.Pb();h&&l&&!this.g.Lk&&await this.oH(l,h.DR())},async Zma(h){const l=this.g.Pb();(h=this.g.bb.kr(h))&&l&&!this.g.Lk&&await this.oH(l,h.DR())},Sz(h){const l=this.Td.V_();if(l)switch(l.gU){case 1:"number"===typeof h&&l.Sz(h);break;case 2:"string"===typeof h&&l.Sz(h);break;case 3:l.Sz(h)}},fna(h,l,n){var q=this.mA(h.toLowerCase(),
!0);const r=q.QD,p=l.toLowerCase();r.has(p)&&console.warn(`[Construct 3] Function map '${h}' string '${l}' already in map; overwriting entry`);(q=d.first(r.values())||q.so)&&0!==q.lm!==(0!==n.lm)?console.error(`[Construct 3] Function map '${h}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):r.set(p,n)},gna(h,l){const n=this.mA(h.toLowerCase(),!0);n.so&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const q=
d.first(n.QD.values())||n.so;q&&0!==q.lm!==(0!==l.lm)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):n.so=l},xja(h,l,n){n=Math.floor(n);var q=this.mA(h.toLowerCase(),!1);if(q){var r=q.QD.get(l.toLowerCase());if(!r)if(q.so)r=q.so,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${l}'; call ignored (consider setting a default)`);return}if(r.Hg())if(0!==
r.lm)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${l}' has a return type so cannot be called`);else{h=this.g;l=h.la();var p=l.Jb();q=p.Fd();var v=0<q.length;v&&l.Jg(q);var t=[];if(p=l.zE(p)){p=p.eh;for(let w=n,x=p.length;w<x;++w)t.push(p[w].Vc())}n=r.eh;for(let w=t.length,x=n.length;w<x;++w)t.push(n[w].$p);return h.Ce?this.l9(l,r,t,v,q):this.K9(l,r,t,v,q)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const d=self.A;d.B.lb.vd={Gua:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},$ta:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},Im(a){return a.toString()},Rx(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.Hr()*a:this.g.Hr()*(b-a)+a},mga(...a){return a[Math.floor(this.g.Hr()*a.length)]},wva(){return Math.PI},Eua(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},Xva(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(d.Ea(a))},cos(a){return Math.cos(d.Ea(a))},tan(a){return Math.tan(d.Ea(a))},asin(a){return d.oe(Math.asin(a))},acos(a){return d.oe(Math.acos(a))},atan(a){return d.oe(Math.atan(a))},exp(a){return Math.exp(a)},iha(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let f=a[e];"number"===typeof f&&b<f&&(b=f)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let f=a[e];"number"===typeof f&&b>f&&(b=f)}return b},ba(a,b,e){return d.ba(a,b,e)},Lx(a,b,e,c){return d.Dm(a,b,e,c)},angle(a,b,e,c){return d.oe(d.qo(a,b,e,c))},rd(a,b,e){return d.rd(a,b,e)},RD(a,b,e){return d.RD(a,b,e)},ID(a,b,e,c){return d.ID(a,b,e,c)},DW(a,b,e,c,f){return d.DW(a,
b,e,c,f)},BW(a,b,e){return d.BW(a,b,e)},vta(a,b){return d.oe(d.Ft(d.Ea(a),d.Ea(b)))},wta(a,b,e){return d.oe(d.pL(d.Ea(a),d.Ea(b),e))},xta(a,b,e){return d.oe(d.qL(d.Ea(a),d.Ea(b),d.Ea(e)))},hwa(a,b,e){b|=0;return(a|0)&~(1<<b)|(0!==e?1:0)<<b},qwa(a,b){return(a|0)^1<<(b|0)},xua(a,b){return(a|0)&1<<(b|0)?1:0},mva(){return"\n"},xwa(a){return"string"===typeof a?a.toUpperCase():""},eva(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,e){return"string"!==
typeof a?"":0>e?a.substr(b):a.substr(b,e)},right(a,b){return"string"===typeof a?a.substr(a.length-b):""},trim(a){return"string"===typeof a?a.trim():""},rwa(a,b,e){if("string"!==typeof a||"string"!==typeof e)return"";a=a.split(e);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},swa(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(d.fu(b),"i")):-1},Zta(a,b){return"string"===typeof a&&"string"===
typeof b?a.search(new RegExp(d.fu(b),"")):-1},replace(a,b,e){return"string"===typeof a&&"string"===typeof b&&"string"===typeof e?a.replace(new RegExp(d.fu(b),"gi"),e):"string"===typeof a?a:""},Iva(a,b,e){b=this.bz(b,e);return a?a.search(b):-1},Hva(a,b,e,c){b=this.bz(b,e);return a?a.replace(b,c):""},Gva(a,b,e){return(a=this.HN(a.toString(),b,e))?a.length:0},Fva(a,b,e,c){c=Math.floor(c);a=this.HN(a.toString(),b,e);return!a||0>c||c>=a.length?"":a[c]},Mwa(a,b){let e=0>a?"-":"";0>a&&(a=-a);e+="0".repeat(Math.max(b-
a.toString().length,0));return e+a.toString()},zwa(a){return encodeURIComponent(a)},ywa(a){return decodeURIComponent(a)},HW(){return this.g.jB},owa(){return this.g.Cd},Iwa(){return(Date.now()-this.g.co)/1E3},vwa(){return Date.now()},time(){return this.g.Ag()},nwa(){return this.g.Sk},qva(){return this.g.hK},bua(){return this.g.AB},Kta(){return this.g.wC},zua(){return this.g.Xy()},Lwa(){return this.g.W.Wh},Kwa(){return this.g.W.Vh},uva(){return this.g.mh},tva(){return this.g.kh},sva(){return this.g.mh},
rva(){return this.g.kh},Zva(){return this.g.Ma().Vf()},$va(){return this.g.Ma().Wf()},Zua(){return this.g.Ma().Da()},$ua(){return this.g.Ma().Xb},Xua(){return d.oe(this.g.Ma().ia())},ava(){return this.g.Ma().P()},Yua(){return this.g.Ma().O()},Ewa(a){return(a=this.g.Ma().ca(a))?a.oo.S:0},Gwa(a){return(a=this.g.Ma().ca(a))?a.oo.N:0},Fwa(a){return(a=this.g.Ma().ca(a))?a.oo.X:0},Cwa(a){return(a=this.g.Ma().ca(a))?a.oo.V:0},Hwa(a){return(a=this.g.Ma().ca(a))?a.oo.width():0},Dwa(a){return(a=this.g.Ma().ca(a))?
a.oo.height():0},Fta(a,b,e){return(a=this.g.Ma().ca(a))?a.tg(b,e)[0]:0},Gta(a,b,e){return(a=this.g.Ma().ca(a))?a.tg(b,e)[1]:0},Uua(a,b,e){return(a=this.g.Ma().ca(a))?a.ep(b,e)[0]:0},Vua(a,b,e){return(a=this.g.Ma().ca(a))?a.ep(b,e)[1]:0},Qua(a){return(a=this.g.Ma().ca(a))?a.Xb:0},Lua(a){return(a=this.g.Ma().ca(a))?d.oe(a.xe):0},Nua(a){return(a=this.g.Ma().ca(a))?100*a.xf():0},Rua(a){return(a=this.g.Ma().ca(a))?a.Kj:0},Sua(a){return(a=this.g.Ma().ca(a))?a.Vf():0},Tua(a){return(a=this.g.Ma().ca(a))?
a.Wf():0},Oua(a){return(a=this.g.Ma().ca(a))?100*a.he:0},Pua(a){return(a=this.g.Ma().ca(a))?100*a.ie:0},Wua(a){return(a=this.g.Ma().ca(a))?a.Ua():0},Mua(a){return(a=this.g.Ma().ca(a))?a.Ja():-1},Eta(){const a=this.g.W;return a?a.HK:""},dva(a){const b=this.Hf;return b.oO()?a?(a=b.E_(a))?a.Ja():0:b.gr().Ja():0},Yva(){return this.g.mq},Dta(a,b,...e){var c=this.mA(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),0;var f=c.QD.get(b.toLowerCase());
if(!f)if(c.so)f=c.so;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=f.lm;const k=f.su();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!f.Hg())return k;a=this.g.la();b=a.Jb().Fd();const h=0<b.length;h&&a.Jg(b);const l=f.eh;for(let n=e.length,q=l.length;n<q;++n)e.push(l[n].$p);
f=f.Oe();e=f.ZF(f.Fd(),c,k,...e);h&&a.Rb(b);return e},cva(){return this.g.tb.lC},Cua(){return 0===this.Yp?1:this.mw/this.Yp},pf(){return this.g.Bu()?"webgpu":"webgl"},Lva(){return this.g.Bu()?"<unavailable>":this.g.Vo().Ax},Dua(){let a=this.g.Cb().$_();return Math.round(100*a/1048576)/100},Mva(a,b,e){return d.y4(a,b,e)},Pva(a,b,e){return d.fP(a/100,b/100,e/100)},Nva(a,b,e,c){return d.Hz(a/100,b/100,e/100,c/100)},Qva(a,b,e){return d.fP(a/255,b/255,e/255)},Ova(a,b,e,c){return d.Hz(a/255,b/255,e/255,
c/255)},wha(){return this.g.KC},Ava(){return this.g.zV},Nta(){return this.g.Jb().dd.Da()},Mta(){return this.g.Jb().Ds}}}{"use strict";const d=self.A;d.B.Audio=class extends d.Al{constructor(a){super(a)}i(){super.i()}}}{"use strict";const d=self.A;d.B.Audio.Oh=class extends d.lp{constructor(a){super(a)}i(){super.i()}Ic(){}Pi(){return self.u1}};self.u1=class extends self.pz{constructor(a){super(a)}}}
{"use strict";const d=self.A,a=["interactive","balanced","playback"];d.B.Audio.Instance=class extends d.kp{constructor(b,e){super(b,"audio");this.jh=0;this.WK="";this.ax=this.eW=0;this.pK=!1;this.QT=this.rV=1;this.On=this.g.Mf/2;this.Pn=this.g.Lf/2;this.oq=-600;this.DV=600;this.aV=1E4;this.JV=1;this.fi=null;this.rC=-1;this.bt=1;this.lg=!1;this.LV=0;this.oB=new Map;this.sK=this.tK=0;this.jm=new Map;b="interactive";e&&(this.eW=e[0],this.ax=e[1],this.pK=e[2],b=a[e[3]],this.rV=e[4],this.QT=e[5],this.oq=
-e[6],this.DV=e[7],this.aV=e[8],this.JV=e[9]);this.gh=[];this.Qs=[];this.jC=[];this.YD([["state",c=>this.Nba(c)],["fxstate",c=>this.Mba(c)],["trigger",c=>this.Lba(c)]]);e=this.I().Db();this.Sd=new d.Go(d.Ib.fc(e,"instancedestroy",c=>this.Bv(c.instance)),d.Ib.fc(e,"afterload",()=>this.Il()),d.Ib.fc(e,"suspend",()=>this.vH()),d.Ib.fc(e,"resume",()=>this.uH()));this.g.$D(this.jk("create-audio-context",{preloadList:this.g.tb.O_().map(c=>({originalUrl:c.sha,url:c.url,type:c.type,fileSize:c.fileSize})),
isiOSCordova:this.g.DJ,timeScaleMode:this.eW,latencyHint:b,panningModel:this.rV,distanceModel:this.QT,refDistance:this.DV,maxDistance:this.aV,rolloffFactor:this.JV,listenerPos:[this.On,this.Pn,this.oq]}).then(c=>{this.LV=c.sampleRate}));this.Rh()}i(){this.fi=null;super.i()}Bv(b){this.fi===b&&(this.fi=null)}yy(b){return Math.pow(10,b/20)}ud(b){b=this.yy(b);return isFinite(b)?Math.max(Math.min(b,1),0):0}V2(b){return Math.log(b)/Math.log(10)*20}wO(b){return this.V2(Math.max(Math.min(b,1),0))}vH(){this.pK||
this.Oa("set-suspended",{isSuspended:!0})}uH(){this.pK||this.Oa("set-suspended",{isSuspended:!1})}Nba(b){const e=b.tickCount,c=this.gh.filter(f=>f.hasOwnProperty("placeholder")&&(f.placeholder>e||-1===f.placeholder));this.gh=b.audioInstances;this.jC=b.analysers;0<c.length&&d.Bm(this.gh,c)}Mba(b){this.Qs=b.fxstate}lA(b){for(const e of this.gh)if(d.xh(e.tag,b))return e;return null}bS(b){return this.gh.some(e=>d.xh(b,e.tag)&&e.isPlaying)}ls(b,e,c,f){if(this.bS(b))return null;b={tag:b,duration:0,volume:f,
isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:e,isLooping:c,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.gh.push(b);return b}async Lba(b){const e=b.type;this.WK=b.tag;b=b.aiid;if("ended"===e){for(const c of this.gh)if(c.aiid===b){c.isPlaying=!1;break}await this.mb(d.B.Audio.F.O3)}else"fade-ended"===e&&await this.mb(d.B.Audio.F.Q3)}ae(){const b={timeScale:this.g.Cd,gameTime:this.g.QE(),instPans:this.v0(),tickCount:this.g.rm};
if(this.fi){const e=this.fi.j();this.On=e.K();this.Pn=e.L();b.listenerPos=[this.On,this.Pn,this.oq]}this.Oa("tick",b)}cM(b,e,c,f,k){if(0===c)return[b,e];const h=Math.sin(c);c=Math.cos(c);b-=f;e-=k;const l=b*h;b=b*c-e*h;return[b+f,e*c+l+k]}v0(){return this.gh.filter(b=>-1!==b.uid).map(b=>this.g.qe(b.uid)).filter(b=>b).map(b=>{const e=b.j(),c=e.ca().ia(),[f,k]=this.cM(e.K(),e.L(),-c,this.On,this.Pn);return{uid:b.pb,x:f,y:k,angle:e.ia()-c}})}Jy(b,e){for(const c of this.jC)if(c.index===e&&d.xh(c.tag,
b))return c;return null}Qh(b){this.oB.set(b,(this.oB.get(b)||0)+1)}Pda(b){return b.hasOwnProperty("placeholder")||3===this.ax?!1:b.isMusic&&1===this.ax?!1:b.isMusic||2!==this.ax?!0:!1}md(){return{isSilent:this.lg,masterVolume:this.bt,listenerZ:this.oq,listenerUid:this.fi?this.fi.pb:-1,remoteUrls:[...this.jm.entries()],playing:this.gh.filter(b=>this.Pda(b)),effects:this.Qs,analysers:this.jC}}Wc(b){this.lg=b.isSilent;this.bt=b.masterVolume;this.oq=b.listenerZ;this.fi=null;this.rC=b.listenerUid;this.jm.clear();
if(b.remoteUrls)for(const [e,c]of b.remoteUrls)this.jm.set(e,c);this.gh=b.playing;this.Qs=b.effects;this.jC=b.analysers}Il(){if(-1!==this.rC&&(this.fi=this.g.qe(this.rC),this.rC=-1,this.fi)){var b=this.fi.j();this.On=b.K();this.Pn=b.L()}for(var e of this.gh)(b=this.g.tb.Bg(e.bufferOriginalUrl))?(e.bufferUrl=b.url,e.bufferType=b.type):e.bufferUrl=null;for(const c of Object.values(this.Qs))for(const f of c)f.hasOwnProperty("bufferOriginalUrl")&&(e=this.g.tb.Bg(f.bufferOriginalUrl))&&(f.bufferUrl=e.url,
f.bufferType=e.type);this.Oa("load-state",{saveLoadMode:this.ax,timeScale:this.g.Cd,gameTime:this.g.QE(),listenerPos:[this.On,this.Pn,this.oq],isSilent:this.lg,masterVolume:this.bt,playing:this.gh.filter(c=>null!==c.bufferUrl),effects:this.Qs})}}}{"use strict";const d=self.A;d.B.Audio.F={O3(a){return d.xh(this.WK,a)},Q3(a){return d.xh(this.WK,a)},Poa(){return this.sK===this.tK},Fia(){return!0},Dma(){return this.lg},Rla(){for(const a of this.gh)if(a.isPlaying)return!0;return!1},Fma(a){return this.bS(a)}}}
{"use strict";const d=self.A,a="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");d.B.Audio.fb={async Play(b,e,c,f){if(!this.lg){var k=b[1],h=this.g.tb.Bg(b[0]);if(h){var l=this.jh;this.jh=0;var n=this.ls(f.toLowerCase(),k,0!==e,this.ud(c));try{await this.jk("play",{originalUrl:b[0],url:h.url,type:h.type,isMusic:k,tag:f.toLowerCase(),isLooping:0!==e,vol:this.ud(c),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.g.rm)}}}},async yoa(b,
e,c,f,k,h,l,n,q,r){if(!this.lg){var p=b[1],v=this.g.tb.Bg(b[0]);if(v){var t=this.jh;this.jh=0;var w=this.ls(r.toLowerCase(),p,0!==e,this.ud(c));try{await this.jk("play",{originalUrl:b[0],url:v.url,type:v.type,isMusic:p,tag:r.toLowerCase(),isLooping:0!==e,vol:this.ud(c),pos:0,off:t,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:f,y:k,angle:d.Ea(h),innerAngle:d.Ea(l),outerAngle:d.Ea(n),outerGain:this.ud(q)}})}finally{w&&(w.placeholder=this.g.rm)}}}},async woa(b,e,c,f,k,h,l,n){if(!this.lg&&
f&&(f=f.zg())&&f.j()){var q=f.j(),r=q.ca().ia(),[p,v]=this.cM(q.K(),q.L(),-r,this.On,this.Pn),t=b[1],w=this.g.tb.Bg(b[0]);if(w){var x=this.jh;this.jh=0;var z=this.ls(n.toLowerCase(),t,0!==e,this.ud(c));try{await this.jk("play",{originalUrl:b[0],url:w.url,type:w.type,isMusic:t,tag:n.toLowerCase(),isLooping:0!==e,vol:this.ud(c),pos:0,off:x,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:p,y:v,angle:q.ia()-r,innerAngle:d.Ea(k),outerAngle:d.Ea(h),outerGain:this.ud(l),uid:f.pb}})}finally{z&&
(z.placeholder=this.g.rm)}}}},async Aoa(b,e,c,f,k){if(!this.lg){b=1===b;var h=this.g.tb.Bg(e)||this.jm.get(e.toLowerCase());if(h){var l=this.jh;this.jh=0;var n=this.ls(k.toLowerCase(),b,0!==c,this.ud(f));try{await this.jk("play",{originalUrl:e,url:h.url,type:h.type,isMusic:b,tag:k.toLowerCase(),isLooping:0!==c,vol:this.ud(f),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.g.rm)}}}},async zoa(b,e,c,f,k,h,l,n,q,r,p){if(!this.lg){b=1===b;var v=this.g.tb.Bg(e)||
this.jm.get(e.toLowerCase());if(v){var t=this.jh;this.jh=0;var w=this.ls(p.toLowerCase(),b,0!==c,this.ud(f));try{await this.jk("play",{originalUrl:e,url:v.url,type:v.type,isMusic:b,tag:p.toLowerCase(),isLooping:0!==c,vol:this.ud(f),pos:0,off:t,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:k,y:h,angle:d.Ea(l),innerAngle:d.Ea(n),outerAngle:d.Ea(q),outerGain:this.ud(r)}})}finally{w&&(w.placeholder=this.g.rm)}}}},async xoa(b,e,c,f,k,h,l,n,q){if(!this.lg&&!this.lg&&k&&(k=k.zg())&&k.j()){var r=
k.j(),p=r.ca().ia(),[v,t]=this.cM(r.K(),r.L(),-p,this.On,this.Pn);b=1===b;var w=this.g.tb.Bg(e)||this.jm.get(e.toLowerCase());if(w){var x=this.jh;this.jh=0;var z=this.ls(q.toLowerCase(),b,0!==c,this.ud(f));try{await this.jk("play",{originalUrl:e,url:w.url,type:w.type,isMusic:b,tag:q.toLowerCase(),isLooping:0!==c,vol:this.ud(f),pos:0,off:x,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:v,y:t,angle:r.ia()-p,innerAngle:d.Ea(h),outerAngle:d.Ea(l),outerGain:this.ud(n),uid:k.pb}})}finally{z&&
(z.placeholder=this.g.rm)}}}},yra(b,e){this.Oa("set-looping",{tag:b.toLowerCase(),isLooping:0===e})},Cra(b,e){this.Oa("set-muted",{tag:b.toLowerCase(),isMuted:0===e})},T6(b,e){this.Oa("set-volume",{tag:b.toLowerCase(),vol:this.ud(e)})},Ska(b,e,c,f){this.Oa("fade-volume",{tag:b.toLowerCase(),vol:this.ud(e),duration:c,stopOnEnd:0===f})},async Noa(b){const e=b[1],c=this.g.tb.Bg(b[0]);c&&(this.tK++,await this.jk("preload",{originalUrl:b[0],url:c.url,type:c.type,isMusic:e}),this.sK++)},async Ooa(b,e){b=
1===b;const c=this.g.tb.Bg(e)||this.jm.get(e.toLowerCase());c&&(this.tK++,await this.jk("preload",{originalUrl:e,url:c.url,type:c.type,isMusic:b}),this.sK++)},Xu(b,e){this.Oa("set-playback-rate",{tag:b.toLowerCase(),rate:Math.max(e,0)})},Tg(b){this.Oa("stop",{tag:b.toLowerCase()})},Yra(){this.Oa("stop-all")},Era(b,e){this.Oa("set-paused",{tag:b.toLowerCase(),paused:0===e})},sqa(b,e){this.Oa("seek",{tag:b.toLowerCase(),pos:e})},Kra(b){2===b&&(b=this.lg?1:0);b=0===b;this.lg!==b&&(this.lg=b,this.Oa("set-silent",
{isSilent:b}))},zra(b){b=this.ud(b);this.bt!==b&&(this.bt=b,this.Oa("set-master-volume",{vol:b}))},tia(b,e,c,f,k,h,l){b=b.toLowerCase();e=a[e];this.Qh(b);this.Oa("add-effect",{type:"filter",tag:b,params:[e,c,f,k,h,d.ba(l/100,0,1)]})},qia(b,e,c,f){b=b.toLowerCase();this.Qh(b);this.Oa("add-effect",{type:"delay",tag:b,params:[e,this.ud(c),d.ba(f/100,0,1)]})},uia(b,e,c,f,k,h){b=b.toLowerCase();this.Qh(b);this.Oa("add-effect",{type:"flanger",tag:b,params:[e/1E3,c/1E3,f,k/100,d.ba(h/100,0,1)]})},zia(b,
e,c,f,k,h,l){b=b.toLowerCase();this.Qh(b);this.Oa("add-effect",{type:"phaser",tag:b,params:[e,c,f,k,h,d.ba(l/100,0,1)]})},pia(b,e,c,f){b=b.toLowerCase();const k=this.g.tb.Bg(e[0]);k&&(this.Qh(b),this.Oa("add-effect",{type:"convolution",tag:b,bufferOriginalUrl:e[0],bufferUrl:k.url,bufferType:k.type,params:[0===c,d.ba(f/100,0,1)]}))},via(b,e){b=b.toLowerCase();this.Qh(b);this.Oa("add-effect",{type:"gain",tag:b,params:[this.ud(e)]})},yia(b){b=b.toLowerCase();this.Qh(b);this.Oa("add-effect",{type:"gain",
tag:b,params:[0]})},Dia(b,e,c){b=b.toLowerCase();this.Qh(b);this.Oa("add-effect",{type:"tremolo",tag:b,params:[e,d.ba(c/100,0,1)]})},Cia(b,e,c){b=b.toLowerCase();this.Qh(b);this.Oa("add-effect",{type:"ringmod",tag:b,params:[e,d.ba(c/100,0,1)]})},ria(b,e,c,f,k,h){b=b.toLowerCase();this.Qh(b);this.Oa("add-effect",{type:"distortion",tag:b,params:[this.yy(e),this.yy(c),f,this.yy(k),d.ba(h/100,0,1)]})},oia(b,e,c,f,k,h){b=b.toLowerCase();this.Qh(b);this.Oa("add-effect",{type:"compressor",tag:b,params:[e,
c,f,k/1E3,h/1E3]})},nia(b,e,c){b=b.toLowerCase();this.Qh(b);this.Oa("add-effect",{type:"analyser",tag:b,params:[e,c]})},cpa(b){b=b.toLowerCase();this.oB.set(b,0);this.Oa("remove-effects",{tag:b});this.Qs={}},Oqa(b,e,c,f,k,h){this.Oa("set-effect-param",{tag:b.toLowerCase(),index:Math.floor(e),param:c,value:f,ramp:k,time:h})},wra(b){b&&(b=b.zg())&&b.j()&&(this.fi=b)},xra(b){this.oq=b},lqa(b){this.jh=Math.max(b,0)},Hsa(b){const e=b[1];(b=this.g.tb.Bg(b[0]))&&this.Oa("unload",{url:b.url,type:b.type,isMusic:e})},
Isa(b,e){b=1===b;(e=this.g.tb.Bg(e)||this.jm.get(e.toLowerCase()))&&this.Oa("unload",{url:e.url,type:e.type,isMusic:b})},Gsa(){this.Oa("unload-all")},Bia(b,e,c){this.jm.set(c.toLowerCase(),{url:b,type:e})}}}"use strict";
self.A.B.Audio.vd={Hka(d){return(d=this.lA(d))?d.duration:0},Coa(d){return(d=this.lA(d))?d.playbackTime:0},Boa(d){return(d=this.lA(d))?d.playbackRate:0},Usa(d){return(d=this.lA(d))?this.wO(d.volume):0},jna(){return this.wO(this.bt)},Ika(d){return this.oB.get(d.toLowerCase())||0},Jia(d,a){return(d=this.Jy(d,Math.floor(a)))?d.binCount:0},Iia(d,a,b){d=this.Jy(d,Math.floor(a));if(!d)return 0;b=Math.floor(b);return 0>b||b>=d.binCount?0:d.freqBins[b]},Kia(d,a){return(d=this.Jy(d,Math.floor(a)))?d.peak:
0},Lia(d,a){return(d=this.Jy(d,Math.floor(a)))?d.rms:0},kqa(){return this.LV},Aka(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};{"use strict";const d=self.A;d.B.jd=class extends d.Al{constructor(a){super(a)}i(){super.i()}}}{"use strict";const d=self.A;d.B.jd.Oh=class extends d.lp{constructor(a){super(a)}i(){super.i()}Ic(){}}}
{"use strict";const d=self.A;d.B.jd.Instance=class extends d.kp{constructor(a){super(a,"browser");this.Jk="";this.yw=!1;this.RT=this.EV="";this.DU=!1;this.lL=this.NV=this.OV=0;this.Aw=!1;this.YD([["online-state",b=>this.Dba(b)],["backbutton",()=>this.mba()],["sw-message",b=>this.Iba(b)],["hashchange",b=>this.vba(b)]]);a=this.I().Db();this.Sd=new d.Go(d.Ib.fc(a,"afterfirstlayoutstart",()=>this.lba()),d.Ib.fc(a,"window-resize",()=>this.zH()),d.Ib.fc(a,"suspend",()=>this.vH()),d.Ib.fc(a,"resume",()=>
this.uH()));this.g.$D(this.jk("get-initial-state",{exportType:this.g.vj}).then(b=>{this.Jk=b.location;this.yw=b.isOnline;this.EV=b.referrer;this.RT=b.title;this.DU=b.isCookieEnabled;this.OV=b.screenWidth;this.NV=b.screenHeight;this.lL=b.windowOuterWidth;this.Aw=b.isScirraArcade}))}i(){super.i()}lba(){this.Oa("ready-for-sw-messages")}async Dba(a){a=!!a.isOnline;this.yw!==a&&((this.yw=a)?await this.mb(d.B.jd.F.e4):await this.mb(d.B.jd.F.c4))}async zH(){await this.mb(d.B.jd.F.m4)}vH(){this.ua(d.B.jd.F.f4)}uH(){this.ua(d.B.jd.F.g4)}async mba(){await this.mb(d.B.jd.F.G3)}Iba(a){a=
a.type;"downloading-update"===a?this.ua(d.B.jd.F.v4):"update-ready"===a||"update-pending"===a?this.ua(d.B.jd.F.w4):"offline-ready"===a&&this.ua(d.B.jd.F.d4)}vba(a){this.Jk=a.location;this.ua(d.B.jd.F.S3)}}}"use strict";
self.A.B.jd.F={tma(){return this.yw},e4(){return!0},c4(){return!0},m4(){return!0},qka(){return this.DU},hma(){return this.g.W.eq},G3(){return!0},zma(d){return(this.g.W.Yk<=this.g.W.Xk?0:1)===d},v4(){return!0},w4(){return!0},d4(){return!0},S3(){return!0},Vna(){return!this.g.Ym()},f4(){return!0},g4(){return!0},wla(){return!1},dma(){return!1},Ina(){return!1},Jna(){return!1},mma(){return!1},Xla(){return!0},ksa(){return!0}};
{"use strict";const d=self.A,a="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");d.B.jd.fb={Gia(b){this.Oa("alert",{message:b.toString()})},FY(){this.Aw||(this.g.xb?self.Tf.Jja():this.Oa("close"))},Xka(){this.Oa("set-focus",{isFocus:!0})},tja(){this.Oa("set-focus",{isFocus:!1})},qla(){this.Aw||this.Oa("navigate",{type:"back"})},rla(){this.Aw||this.Oa("navigate",{type:"forward"})},sla(){},bpa(){this.Aw||(this.g.xb?this.g.F4():this.Oa("navigate",
{type:"reload"}))},ula(b,e){this.wk("navigate",{type:"url",url:b,target:e,exportType:this.g.vj})},vla(b,e){this.wk("navigate",{type:"new-window",url:b,tag:e,exportType:this.g.vj})},jpa(b,e){2<=b&&(b+=1);6===b&&(b=2);1===b&&(b=0);b=d.iE.nR(b);this.g.W.N5(b);this.wk("request-fullscreen",{navUI:e})},yja(){this.wk("exit-fullscreen")},Tsa(b){b=b.split(",");for(let e=0,c=b.length;e<c;++e)b[e]=parseInt(b[e],10);this.wk("vibrate",{pattern:b})},async qF(b,e){b&&e&&(b=await this.g.tb.az(b),this.g.qF(b,e))},
Pla(b,e,c){c&&(b=`data:${e},${encodeURIComponent(b)}`,this.g.qF(b,c))},mka(b,e){e=e.toString();0===b?console.log(e):1===b?console.warn(e):2===b&&console.error(e)},jka(b){console.group(b)},kka(){console.groupEnd()},Rka(b){try{eval(b)}catch(e){console.error("Error executing JavaScript: ",e)}},ena(b){b=Math.floor(b);0>b||b>=a.length||this.wk("lock-orientation",{orientation:a[b]})},Lsa(){this.wk("unlock-orientation")},AO(b){this.g.tb.AO(b)},Yqa(b){this.Oa("set-hash",{hash:b})}}}"use strict";
self.A.B.jd.vd={URL(){return this.g.De?this.Jk:location.toString()},Toa(){return this.g.De?(new URL(this.Jk)).protocol:location.protocol},Fka(){return this.g.De?(new URL(this.Jk)).hostname:location.hostname},Ioa(){return this.g.De?(new URL(this.Jk)).port:location.port},Xna(){return this.g.De?(new URL(this.Jk)).pathname:location.pathname},zla(){return this.g.De?(new URL(this.Jk)).hash:location.hash},PF(){return this.g.De?(new URL(this.Jk)).search:location.search},Voa(d){const a=this.g.De?(new URL(this.Jk)).search:
location.search;return(d=RegExp("[?&]"+d+"=([^&]*)").exec(a))?decodeURIComponent(d[1].replace(/\+/g," ")):""},Zoa(){return this.EV},rsa(){return this.RT},Mma(){return navigator.language},Xc(){return navigator.platform},Osa(){return navigator.userAgent},Qka(d){let a=0;try{a=eval(d)}catch(b){console.error("Error executing JavaScript: ",b)}return"number"===typeof a||"string"===typeof a?a:"boolean"===typeof a?a?1:0:0},vna(){return navigator.appName},Ssa(){return navigator.appVersion},Soa(){return navigator.product},
Rsa(){return navigator.vendor},mja(){return 1},nja(){return Infinity},lja(){const d=navigator.connection;return d?d.downlink||d.downlinkMax||d.bandwidth||Infinity:Infinity},ConnectionType(){const d=navigator.connection;return d?d.type||"unknown":"unknown"},Dka(){return self.devicePixelRatio},nqa(){return this.OV},mqa(){return this.NV},hta(){return this.g.W.Yk},gta(){return this.g.W.Xk},jta(){return this.lL},ita(){return this.lL}};{"use strict";const d=self.A;d.B.Qd=class extends d.Al{constructor(a){super(a)}i(){super.i()}}}
{"use strict";const d=self.A;d.B.Qd.Oh=class extends d.lp{constructor(a){super(a)}i(){super.i()}Ic(){}Pi(){return self.x1}};self.x1=class extends self.pz{constructor(a){super(a);a.I().Uv.NL=this}}}
{"use strict";const d=self.A;d.B.Qd.Instance=class extends d.kp{constructor(a){super(a,"mouse");this.Jp=[!1,!1,!1];this.hW=this.iD=this.Mq=this.Un=this.Tn=0;this.HB=!1;this.bK=this.aK=0;this.YD([["pointer-lock-change",b=>this.Fba(b)],["pointer-lock-error",b=>this.Gba(b)]]);a=this.I().Db();this.Sd=new d.Go(d.Ib.fc(a,"pointermove",b=>this.tH(b.data)),d.Ib.fc(a,"pointerdown",b=>this.sH(b.data)),d.Ib.fc(a,"pointerup",b=>this.vA(b.data)),d.Ib.fc(a,"dblclick",b=>this.qba(b.data)),d.Ib.fc(a,"wheel",b=>this.Cba(b.data)),
d.Ib.fc(a,"window-blur",()=>this.yH()))}i(){super.i()}sH(a){"mouse"===a.pointerType&&(this.Tn=a.pageX-this.g.Ko(),this.Un=a.pageY-this.g.Lo(),this.MG(a.lastButtons,a.buttons))}tH(a){this.aK=a.movementX;this.bK=a.movementY;this.ua(d.B.Qd.F.Z3);this.bK=this.aK=0;"mouse"===a.pointerType&&(this.Tn=a.pageX-this.g.Ko(),this.Un=a.pageY-this.g.Lo(),this.MG(a.lastButtons,a.buttons))}vA(a){"mouse"===a.pointerType&&this.MG(a.lastButtons,a.buttons)}MG(a,b){this.LG(a,b,1,0);this.LG(a,b,4,1);this.LG(a,b,2,2)}LG(a,
b,e,c){!(a&e)&&b&e?this.Aba(c):a&e&&!(b&e)&&this.Bba(c)}Aba(a){this.Jp[a]=!0;this.ua(d.B.Qd.F.E3);this.Mq=a;this.iD=0;this.ua(d.B.Qd.F.NO);this.ua(d.B.Qd.F.YO)}Bba(a){this.Jp[a]&&(this.Jp[a]=!1,this.Mq=a,this.ua(d.B.Qd.F.ZO))}qba(a){this.Mq=a.button;this.iD=1;this.ua(d.B.Qd.F.NO);this.ua(d.B.Qd.F.YO)}Cba(a){this.hW=0>a.deltaY?1:0;this.ua(d.B.Qd.F.x4)}yH(){for(let a=0,b=this.Jp.length;a<b&&this.Jp[a];++a)this.Jp[a]=!1,this.Mq=a,this.ua(d.B.Qd.F.ZO)}BN(a){const b=this.g.Pb(),e=this.Tn,c=this.Un;return"undefined"===
typeof a?b.vu(0).FM(e,c):(a=b.ca(a))?a.tg(e,c):[0,0]}aS(){return 0<=this.Tn&&0<=this.Un&&this.Tn<this.g.jN()&&this.Un<this.g.iN()}Fba(a){this.tT(a["has-pointer-lock"])}Gba(a){this.tT(a["has-pointer-lock"]);this.ua(d.B.Qd.F.j4)}tT(a){this.HB!==a&&((this.HB=a)?this.ua(d.B.Qd.F.k4):this.ua(d.B.Qd.F.l4))}}}
{"use strict";const d=self.A;d.B.Qd.F={NO(a,b){return this.Mq===a&&this.iD===b},E3(){return!0},Wla(a){return this.Jp[a]},ZO(a){return this.Mq===a},vma(a){if(!this.aS())return!1;const b=this.g.tf().ci;return d.xor(this.g.fg.Yr(a,this.Tn,this.Un,b),b)},YO(a,b,e){return a===this.Mq&&b===this.iD&&this.aS()?this.g.fg.Yr(e,this.Tn,this.Un,!1):!1},x4(a){return this.hW===a},k4(){return!0},l4(){return!0},j4(){return!0},yla(){return this.HB},Z3(){return!0}}}
{"use strict";const d=self.A;let a=null;const b="auto pointer text crosshair move help wait none".split(" ");d.B.Qd.fb={Hqa(e){e=b[e];a!==e&&(a=e,this.Oa("cursor",e))},Iqa(e){if(!d.Xc.xz&&e&&(e=e.zg())){var c=e.j(),f=e.Dh();c&&f&&a!==f&&(a=f,f.A_().then(k=>d.bu(k)).then(k=>{k=`url(${URL.createObjectURL(k)}) ${Math.round(c.Zj()*f.P())} ${Math.round(c.$j()*f.O())}, auto`;this.Oa("cursor","");this.Oa("cursor",k)}))}},mpa(){this.wk("request-pointer-lock")},apa(){this.Oa("release-pointer-lock")}}}"use strict";
self.A.B.Qd.vd={aA(d){return this.BN(d)[0]},bA(d){return this.BN(d)[1]},zX(){return this.Tn},AX(){return this.Un},tna(){return this.aK},una(){return this.bK}};{"use strict";const d=self.A;d.B.Touch=class extends d.Al{constructor(a){super(a)}i(){super.i()}}}
{"use strict";const d=self.A,a=self.Ah;d.B.Touch.Oh=class extends d.lp{constructor(e){super(e)}i(){super.i()}Ic(){}Pi(){return self.E1}};let b=null;self.E1=class extends self.pz{constructor(e){super(e);b=e;e.I().Uv.oM=this}requestPermission(e){a.ue(e);const c=b.ek().ka;if("orientation"===e)return c.AH(0);if("motion"===e)return c.AH(1);throw Error("invalid type");}}}
{"use strict";const d=self.A;d.B.Touch.Instance=class extends d.kp{constructor(a,b){super(a,"touch");this.od=new Map;this.YB=this.jW=!1;this.DB=this.Yh=this.Xh=this.VK=this.hD=this.zt=this.UH=this.TH=this.SH=this.XH=this.WH=this.VH=this.kK=this.jK=this.iK=this.BC=0;this.DC=[];b&&(this.jW=b[0]);this.XD("permission-result",e=>this.Eba(e));a=this.I().Db();this.Sd=new d.Go(d.Ib.fc(a,"pointerdown",e=>this.sH(e.data)),d.Ib.fc(a,"pointermove",e=>this.tH(e.data)),d.Ib.fc(a,"pointerup",e=>this.vA(e.data,!1)),
d.Ib.fc(a,"pointercancel",e=>this.vA(e.data,!0)),d.Ib.fc(a,"deviceorientation",e=>this.oba(e.data)),d.Ib.fc(a,"deviceorientationabsolute",e=>this.pba(e.data)),d.Ib.fc(a,"devicemotion",e=>this.nba(e.data)),d.Ib.fc(a,"tick2",()=>this.wH()))}i(){this.od.clear();super.i()}sH(a){if("mouse"===a.pointerType)if(this.jW)this.YB=!0;else return;const b=a.pointerId;if(!this.od.has(b)){var e=a.pageX-this.g.Ko();a=a.pageY-this.g.Lo();var c=performance.now(),f=this.od.size;this.zt=f;this.hD=b;var k=d.C(d.B.Touch.q7);
k.Tm(c,e,a,b,f);this.od.set(b,k);this.ua(d.B.Touch.F.b4);this.ua(d.B.Touch.F.t4);this.Xh=e;this.Yh=a;this.ua(d.B.Touch.F.bP)}}tH(a){if("mouse"!==a.pointerType||this.YB){var b=this.od.get(a.pointerId);if(b){var e=performance.now();2>e-b.Ha()||b.Dl(e,a.pageX-this.g.Ko(),a.pageY-this.g.Lo(),a.width,a.height,a.pressure)}}}vA(a,b){if("mouse"===a.pointerType)if(this.YB)this.YB=!1;else return;const e=performance.now();a=a.pointerId;const c=this.od.get(a);c&&(this.zt=c.ph,this.hD=c.Wj(),this.ua(d.B.Touch.F.a4),
this.ua(d.B.Touch.F.aP),b||(b=c.Z6(e),"single-tap"===b?(this.ua(d.B.Touch.F.r4),this.Xh=c.K(),this.Yh=c.L(),this.ua(d.B.Touch.F.s4)):"double-tap"===b&&(this.ua(d.B.Touch.F.M3),this.Xh=c.K(),this.Yh=c.L(),this.ua(d.B.Touch.F.N3))),c.i(),this.od.delete(a))}AH(a){this.wk("request-permission",{type:a});return new Promise((b,e)=>{this.DC.push({type:a,resolve:b,reject:e})})}Eba(a){const b=a.result,e=a.type;this.VK=e;a=this.DC.filter(c=>c.type===e);for(const c of a)c.resolve(b?"granted":"denied");this.DC=
this.DC.filter(c=>c.type!==e);b?(this.ua(d.B.Touch.F.i4),0===e?this.g.Jr():this.g.cn()):this.ua(d.B.Touch.F.h4)}oba(a){"number"===typeof a.webkitCompassHeading?this.BC=a.webkitCompassHeading:a.absolute&&(this.BC=a.alpha);this.iK=a.alpha;this.jK=a.beta;this.kK=a.gamma}pba(a){this.BC=a.alpha}nba(a){const b=a.acceleration;b&&(this.VH=b.x,this.WH=b.y,this.XH=b.z);if(a=a.accelerationIncludingGravity)this.SH=a.x,this.TH=a.y,this.UH=a.z}wH(){const a=performance.now();let b=0;for(const e of this.od.values())e.Ha()<=
a-50&&e.zda(a),e.Y6(a)&&(this.zt=e.ph,this.hD=e.Wj(),this.DB=b,this.ua(d.B.Touch.F.T3),this.Xh=e.K(),this.Yh=e.L(),this.ua(d.B.Touch.F.U3),this.DB=0),++b}cj(a){a=Math.floor(a);for(const b of this.od.values()){if(0===a)return b;--a}return null}vv(a,b){return 0<=a&&0<=b&&a<this.g.jN()&&b<this.g.iN()}}}
{"use strict";const d=self.A,a=[];d.B.Touch.F={t4(){return!0},aP(){return!0},ima(){return 0<this.od.size},bP(b){return b&&this.vv(this.Xh,this.Yh)?this.g.fg.Yr(b,this.Xh,this.Yh,!1):!1},M2(b){if(!b)return!1;const e=b.$();var c=e.ma();for(const f of c){c=f.j();const k=c.ca();for(const h of this.od.values()){if(!this.vv(h.K(),h.L()))continue;const [l,n]=k.tg(h.K(),h.L(),c.Yf());if(c.cu(l,n)){a.push(f);break}}}return a.length?(e.Ru(a),b.ec(),d.D(a),!0):!1},aka(b,e,c){return(b=this.cj(b))?d.compare(b.ql(),
e,c):!1},Tna(){return!0},nna(){return!0},Yja(b,e,c){this.g.Jr();return d.compare(0===b?this.iK:1===b?this.jK:this.kK,e,c)},Mja(b,e,c){this.g.cn();return d.compare(0===b?this.SH:1===b?this.TH:2===b?this.UH:3===b?this.VH:4===b?this.WH:this.XH,e,c)},b4(b){b=Math.floor(b);return b===this.zt},a4(b){b=Math.floor(b);return b===this.zt},xla(b){b=Math.floor(b);return this.od.size>=b+1},T3(){return!0},r4(){return!0},M3(){return!0},U3(b){return b&&this.vv(this.Xh,this.Yh)?this.g.fg.Yr(b,this.Xh,this.Yh,!1):
!1},s4(b){return b&&this.vv(this.Xh,this.Yh)?this.g.fg.Yr(b,this.Xh,this.Yh,!1):!1},N3(b){return b&&this.vv(this.Xh,this.Yh)?this.g.fg.Yr(b,this.Xh,this.Yh,!1):!1},i4(b){return this.VK===b},h4(b){return this.VK===b}}}"use strict";self.A.B.Touch.fb={lpa(d){this.AH(d)}};
{"use strict";const d=self.A;d.B.Touch.vd={wsa(){return this.od.size},aA(a){const b=this.cj(this.DB);return b?b.qr(this.g.Ma(),a,!0):0},bA(a){const b=this.cj(this.DB);return b?b.qr(this.g.Ma(),a,!1):0},kta(a,b){return(a=this.cj(a))?a.qr(this.g.Ma(),b,!0):0},mta(a,b){return(a=this.cj(a))?a.qr(this.g.Ma(),b,!1):0},lta(a,b){return(a=this.od.get(a))?a.qr(this.g.Ma(),b,!0):0},nta(a,b){return(a=this.od.get(a))?a.qr(this.g.Ma(),b,!1):0},zX(){const a=this.cj(0);return a?a.K():0},AX(){const a=this.cj(0);return a?
a.L():0},dia(a){return(a=this.cj(a))?a.K():0},fia(a){return(a=this.cj(a))?a.L():0},eia(a){return(a=this.od.get(a))?a.K():0},gia(a){return(a=this.od.get(a))?a.L():0},Tra(a){return(a=this.cj(a))?a.ql():0},Ura(a){return(a=this.od.get(a))?a.ql():0},Mia(a){return(a=this.cj(a))?d.oe(a.ia()):0},Nia(a){return(a=this.od.get(a))?d.oe(a.ia()):0},ika(){this.g.Jr();return this.BC},Hia(){this.g.Jr();return this.iK},qja(){this.g.Jr();return this.jK},fla(){this.g.Jr();return this.kK},iia(){this.g.cn();return this.SH},
kia(){this.g.cn();return this.TH},mia(){this.g.cn();return this.UH},hia(){this.g.cn();return this.VH},jia(){this.g.cn();return this.WH},lia(){this.g.cn();return this.XH},ysa(){return this.zt},xsa(){return this.hD},dta(a){return(a=this.od.get(a))?a.P():0},Bla(a){return(a=this.od.get(a))?a.O():0},Qoa(a){return(a=this.od.get(a))?a.yV:0}}}
{"use strict";const d=self.A;let a=-1E3,b=-1E3,e=-1E4;d.B.Touch.q7=class extends d.ja{constructor(){super();this.yV=this.R=this.U=this.qC=this.pC=this.T=this.Y=this.$C=this.ZC=this.oC=this.Sc=this.co=this.ph=this.vV=0;this.eC=this.cJ=!1}i(){}Tm(c,f,k,h,l){this.vV=h;this.ph=l;this.co=this.oC=this.Sc=c;this.ZC=f;this.$C=k;this.Y=f;this.T=k;this.pC=f;this.qC=k}Dl(c,f,k,h,l,n){this.oC=this.Sc;this.Sc=c;this.pC=this.Y;this.qC=this.T;this.Y=f;this.T=k;this.U=h;this.R=l;this.yV=n;!this.eC&&15<=d.Dm(this.ZC,
this.$C,this.Y,this.T)&&(this.eC=!0)}Wj(){return this.vV}Ha(){return this.Sc}zda(c){this.oC=c}K(){return this.Y}L(){return this.T}ql(){const c=d.Dm(this.Y,this.T,this.pC,this.qC),f=(this.Sc-this.oC)/1E3;return 0<f?c/f:0}ia(){return d.qo(this.pC,this.qC,this.Y,this.T)}P(){return this.U}O(){return this.R}Y6(c){return this.cJ?!1:500<=c-this.co&&!this.eC&&15>d.Dm(this.ZC,this.$C,this.Y,this.T)?this.cJ=!0:!1}Z6(c){if(this.cJ)return"";if(333>=c-this.co&&!this.eC&&15>d.Dm(this.ZC,this.$C,this.Y,this.T)){if(666>=
c-e&&25>d.Dm(a,b,this.Y,this.T))return b=a=-1E3,e=-1E4,"double-tap";a=this.Y;b=this.T;e=c;return"single-tap"}return""}qr(c,f,k){return"undefined"===typeof f?c.vu(0).FM(this.Y,this.T)[k?0:1]:(c=c.ca(f))?c.tg(this.Y,this.T)[k?0:1]:0}}}{"use strict";const d=self.A;d.B.Qb=class extends d.Al{constructor(a){super(a)}i(){super.i()}}}{"use strict";const d=self.A;d.B.Qb.Oh=class extends d.lp{constructor(a){super(a)}i(){super.i()}Ic(){}}}
{"use strict";const d=self.A;d.B.Qb.Instance=class extends d.kp{constructor(a){super(a);this.kb=this.hg="";this.Gw=[];this.VT="";this.rq=this.qq=0;this.qg=this.g.HR()}i(){super.i()}async sn(a){this.VT=this.H$(a);await this.mb(d.B.Qb.F.P3)}H$(a){return a?"string"===typeof a?a:"string"===typeof a.message?a.message:"string"===typeof a.name?a.name:"string"===typeof a.data?a.data:"unknown error":"unknown error"}}}
{"use strict";const d=self.A;d.B.Qb.F={SO(a){return this.hg===a},MO(){return!0},RO(a){return this.hg===a},LO(){return!0},X3(a){return this.hg===a},F3(){return!0},I3(){return!0},B3(){return!0},P3(){return!0},QO(a){return this.hg===a},W3(a){return this.hg===a},Vja(a,b){return d.compare(this.hg,a,b)},bka(a,b){return d.compare(this.kb,a,b)},Bma(){return 0<this.rq},Ama(){return 0<this.qq},KO(){return!0},JO(){return!0}}}
{"use strict";const d=self.A;function a(b){return"string"===typeof b||"number"===typeof b}d.B.Qb.fb={async j6(b,e){this.rq++;try{const c=await this.qg.setItem(b,e);await this.mk(async()=>{this.hg=b;this.kb=c;await this.mb(d.B.Qb.F.MO);await this.mb(d.B.Qb.F.SO)})}catch(c){await this.sn(c)}finally{this.rq--,0===this.rq&&await this.mb(d.B.Qb.F.KO)}},async yqa(b,e){if(e&&(e=e.zg(this.J))&&(e=e.ka)){e=e.ila();this.rq++;try{await this.qg.setItem(b,e),await this.mk(async()=>{this.hg=b;this.kb="";await this.mb(d.B.Qb.F.MO);
await this.mb(d.B.Qb.F.SO)})}catch(c){await this.sn(c)}finally{this.rq--,0===this.rq&&await this.mb(d.B.Qb.F.KO)}}},async ola(b){this.qq++;try{const e=await this.qg.getItem(b);await this.mk(async()=>{this.hg=b;this.kb=a(e)?e:"";await this.mb(d.B.Qb.F.LO);await this.mb(d.B.Qb.F.RO)})}catch(e){await this.sn(e)}finally{this.qq--,0===this.qq&&await this.mb(d.B.Qb.F.JO)}},async kla(b,e){if(e&&(e=e.zg(this.J))){var c=e.ka;this.qq++;try{let f=await this.qg.getItem(b);f=f instanceof ArrayBuffer?f:new ArrayBuffer(0);
await this.mk(async()=>{this.kb="";this.hg=b;c.xqa(f);await this.mb(d.B.Qb.F.LO);await this.mb(d.B.Qb.F.RO)})}catch(f){await this.sn(f)}finally{this.qq--,0===this.qq&&await this.mb(d.B.Qb.F.JO)}}},async xY(b){try{const e=await this.qg.getItem(b);await this.mk(async()=>{this.hg=b;"undefined"===typeof e||null===e?(this.kb="",await this.mb(d.B.Qb.F.W3)):(this.kb=a(e)?e:"",await this.mb(d.B.Qb.F.QO))})}catch(e){await this.sn(e)}},async fpa(b){try{await this.qg.removeItem(b),await this.mk(async()=>{this.hg=
b;this.kb="";await this.mb(d.B.Qb.F.F3);await this.mb(d.B.Qb.F.X3)})}catch(e){await this.sn(e)}},async Hja(){try{await this.qg.clear(),await this.mk(async()=>{this.kb=this.hg="";d.D(this.Gw);await this.mb(d.B.Qb.F.I3)})}catch(b){await this.sn(b)}},async hla(){try{const b=await this.qg.keys();await this.mk(async()=>{this.Gw=b;await this.mb(d.B.Qb.F.B3)})}catch(b){await this.sn(b)}}}}"use strict";
self.A.B.Qb.vd={P2(){return this.kb},Ima(){return this.hg},Kma(){return this.Gw.length},Jma(d){d=Math.floor(d);return 0>d||d>=this.Gw.length?"":this.Gw[d]},Mka(){return this.VT}};{"use strict";const d=self.A;d.B.Zi=class extends d.Al{constructor(a){super(a)}i(){super.i()}}}
{"use strict";const d=self.A;d.B.Zi.Oh=class extends d.lp{constructor(a){super(a);this.yb=d.C(self.e7)}i(){super.i()}Ic(){this.Nd().GF(this.g)}Br(a){return this.Nd().Ar(a,{Ci:this.g.nd})}hp(){this.Nd().Jh()}D7(a,b,e,c){const f=this.Nd(),k=this.yb;k.Ue(f.P());k.Bf(f.O());k.Oz(a);k.hG(b);k.iG(e);k.rG(c);k.uQ()}}}
{"use strict";const d=self.A,a=self.Ah,b=["left","center","right"],e=["top","center","bottom"];d.B.Zi.Instance=class extends d.dG{constructor(k,h){super(k);this.dc="";this.Dn=!0;this.eg=this.Ze=16;this.An="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@\u00b0+=*$\u00a3\u20ac<>";k="";this.mj=1;this.Wd=this.fe=this.xc=this.nj=0;this.Am=!0;this.ke=null;this.Tk=this.At=-1;this.zx=0;h&&(this.dc=h[0],this.Dn=h[1],this.Ze=h[2],this.eg=h[3],this.An=h[4],k=h[5],this.mj=
h[6],this.nj=h[7],this.xc=h[8],this.fe=h[9],this.Wd=h[10],this.Am=0===h[11],this.j().Pg(h[12]));this.eb.D7(this.Ze,this.eg,this.An,k);this.ke=d.C(self.g7,this.eb.yb);h=this.j();this.ke.Bc(h.P(),h.O());this.Wg();this.J.n6()}i(){this.nn();this.ke.i();this.ke=null;super.i()}Wg(){const k=this.ke;k&&(k.FP(this.Dn),k.Vr(this.dc),k.hQ(this.Am?"word":"character"),k.c6(b[this.fe]),k.R6(e[this.Wd]),k.cQ(this.nj),k.Tz(this.xc))}qf(k){const h=this.M.Nd();var l=h.se();if(l){k.Ng(l);l=this.j();var n=l.Vj(),q=this.ke;
q.pp(this.mj);q.v6(l.IN());this.g.Jn&&(n=l.MF(n));q.Bc(l.P(),l.O());q.yb.z6(h.Gh());q.nk(l.wb);q.qf(k,n.Nb,n.Ob,l.ia())}}md(){const k={t:this.dc,ebbc:this.Dn,csc:this.mj,csp:this.nj,lh:this.xc,ha:this.fe,va:this.Wd,w:this.Am,cw:this.eb.yb.Ze,ch:this.eb.yb.eg,cs:this.eb.yb.An,sd:this.eb.yb.pt};-1!==this.Tk&&(k.tw={st:this.At,en:this.Tk,l:this.zx});return k}Wc(k){this.nn();this.dc=k.t;this.Dn=k.ebbc;this.mj=k.csc;this.nj=k.csp;this.xc=k.lh;this.fe=k.ha;this.Wd=k.va;this.Am=k.w;if(k.hasOwnProperty("tw")){var h=
k.tw;this.At=h.st;this.Tk=h.en;this.zx=k.l}h=this.eb.yb;h.Oz(k.cw);h.hG(k.ch);h.iG(k.cs);h.rG(k.sd);this.Wg();-1!==this.Tk&&this.Rh()}zc(k){switch(k){case 0:return this.dc;case 1:return this.Dn;case 2:return this.eb.yb.Ze;case 3:return this.eb.yb.eg;case 4:return this.eb.yb.An;case 5:return this.eb.yb.pt;case 6:return this.mj;case 7:return this.nj;case 8:return this.xc;case 9:return this.fe;case 10:return this.Wd;case 11:return this.Am?1:0}}Mg(k,h){switch(k){case 0:if(this.dc===h)break;this.dc=h;
this.Wg();break;case 1:if(this.Dn===!!h)break;this.Dn=!!h;this.Wg();break;case 2:this.eb.yb.Oz(h);break;case 3:this.eb.yb.hG(h);break;case 4:this.eb.yb.iG(h);break;case 5:this.eb.yb.rG(h);break;case 6:if(this.mj===h)break;this.mj=h;this.Wg();break;case 7:if(this.nj===h)break;this.nj=h;this.Wg();break;case 8:if(this.xc===h)break;this.xc=h;this.Wg();break;case 9:if(this.fe===h)break;this.fe=h;this.Wg();break;case 10:if(this.Wd===h)break;this.Wd=h;this.Wg();break;case 11:this.Am!==(0===h)&&(this.Am=
0===h,this.Wg())}}EA(k){this.dc!==k&&(this.dc=k,this.ke.Vr(k),this.g.ga())}Uda(k,h){this.EA(k);this.At=this.g.gF();this.Tk=this.At+h/this.Ga().L_();this.zx=d.fl.lQ(k).length;this.ke.Qz(0);this.Rh()}nn(){this.Tk=this.At=-1;this.zx=0;this.ke.Qz(-1);this.Bp()}n$(){-1!==this.Tk&&(this.nn(),this.ua(d.B.Zi.F.cP),this.g.ga())}Dda(k){this.mj!==k&&(this.mj=k,this.ke.pp(this.mj),this.g.ga())}ida(k){this.nj!==k&&(this.nj=k,this.ke.cQ(this.nj),this.g.ga())}WS(k){this.xc!==k&&(this.xc=k,this.ke.Tz(this.xc),this.g.ga())}rda(k){this.fe!==
k&&(this.fe=k,this.Wg(),this.g.ga())}cT(k){this.Wd!==k&&(this.Wd=k,this.Wg(),this.g.ga())}Nda(k){k=!!k;this.Am!==k&&(this.Am=k,this.Wg(),this.g.ga())}ae(){var k=this.g.gF();k>=this.Tk?(this.nn(),this.ua(d.B.Zi.F.cP),this.g.ga()):(k=d.Cha(this.At,this.Tk,k,this.zx),k=Math.floor(k),k!==this.ke.ah&&(this.ke.Qz(k),this.g.ga()))}Pi(){return self.B1}};const c=new WeakMap,f=new Map([["top",0],["center",1],["bottom",2]]);self.B1=class extends self.qz{constructor(){super();c.set(this,self.Fu.gs().ka)}get text(){return c.get(this).dc}set text(k){a.ue(k);
const h=c.get(this);h.nn();h.EA(k)}set lineHeight(k){a.Vi(k);c.get(this).WS(k)}get lineHeight(){return c.get(this).xc}set verticalAlign(k){a.ue(k);k=f.get(k);if("undefined"===typeof k)throw Error("invalid mode");c.get(this).cT(k)}get verticalAlign(){return e[c.get(this).Wd]}}}{"use strict";const d=self.A;d.B.Zi.F={Zja(a,b){return b?this.dc===a:d.xh(this.dc,a)},Cma(){return-1!==this.Tk},cP(){return!0}}}"use strict";
self.A.B.Zi.fb={Vr(d){this.nn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.EA(d.toString())},Uia(d){this.nn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);(d=d.toString())&&this.EA(this.dc+d)},Dsa(d,a){this.nn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.Uda(d.toString(),a)},Csa(){this.n$()},pp(d){this.Dda(d)},Fqa(d){this.ida(d)},Tz(d){this.WS(d)},Oz(d,a){let b=!1;const e=this.eb.yb;for(const c of d)if(" "===c)e.w6(a),b=!0;else if(d=e.Ny(c))d.MP(a),b=
!0;b&&e.H5();this.g.ga()},O5(d){this.j().ag(d);this.g.ga()},Wqa(d){this.rda(d)},Lra(d){this.cT(d)},Mra(d){this.Nda(0===d)}};{"use strict";const d=self.A;d.B.Zi.vd={Fja(a){return(a=this.eb.yb.Ny(a))?a.IE():this.eb.yb.Ze},Cja(){return this.eg},Dja(){return this.mj},Eja(){return this.nj},Wma(){return this.xc},Text(){return this.dc},voa(){return this.Dn?d.fl.lQ(this.dc):this.dc},nsa(){const a=this.j();this.ke.Bc(a.P(),a.O());return this.ke.UN()},lsa(){const a=this.j();this.ke.Bc(a.P(),a.O());return this.ke.TN()}}}
{"use strict";const d=self.A;self.f7=class{constructor(a,b,e,c){b=a.Ze;let f=a.eg;this.yb=a;this.BV=new d.Rect(e,c,e+b,c+f);this.Rk=new d.Rect;this.EI=-1;this.vT()}i(){this.Rk=this.BV=this.yb=null}vT(){let a=this.yb.P(),b=this.yb.O();this.Rk.wa(this.BV);this.Rk.al(a,b);this.Rk.gha(this.yb.Gh())}Gh(){return this.Rk}MP(a){this.EI=a}IE(){return 0>this.EI?this.yb.Ze:this.EI}}}
{"use strict";const d=self.A,a=new d.Rect,b=new d.xd,e=new d.jb,c=new Set(["left","center","right"]),f=new Set(["top","center","bottom"]),k=new Set(["word","character"]);self.g7=class{constructor(h){this.yb=h;this.Ql=this.$e=0;this.dc="";this.Be=!1;this.ij=null;this.nf=d.C(d.lv);this.Rq="word";this.nL=!1;this.fe="left";this.Wd="top";this.gx=this.Xb=1;this.xc=this.Gq=0;this.wb=d.C(d.jb);this.ah=-1;this.$g=0;this.Qw=(l,n)=>this.Av(l,n);this.yb.j8(this)}i(){this.yb.sca(this);this.Qw=this.wb=null;this.nf.Hc();
this.ij=this.yb=this.nf=null}Av(h,l){var n=this.Mc(l,"scale"),q=(n?parseFloat(n.gd):this.Xb)*this.gx;n=this.Mc(l,"scalex");n=(n?parseFloat(n.gd):1)*q;l=this.Mc(l,"scaley");l=this.yb.eg*(l?parseFloat(l.gd):1)*q+this.xc;const r=this.yb;q=r.Ze*n;const p=this.Gq;if(r.Ms){let t=0,w=0;for(var v of h){h=q;const x=r.Ny(v);x?h=x.IE()*n:" "===v&&(h=r.QN()*n);w+=h;++t}return{width:w+t*p,height:l}}v=[...h].length;return{width:q*v+Math.max(v,0)*p,height:l}}zk(){this.nL=!0;this.nf.Hc()}Bc(h,l){0>=h||0>=l||this.$e===
h&&this.Ql===l||(this.$e!==h&&this.zk(),this.$e=h,this.Ql=l)}Qz(h){this.ah=Math.floor(h)}Mc(h,l){for(let n=h.length-1;0<=n;--n){const q=h[n];if(q.tag===l)return q}return null}pn(h,l){return!!this.Mc(h,l)}wp(){if(this.nL){!this.Be||this.ij&&this.ij.toString()===this.dc||(this.ij=new d.fl(this.dc,{VW:!0}));var h=-this.Gq;this.nf.lv(this.Be?this.ij.mX():this.dc,this.Qw,this.$e,this.Rq,h);this.nL=!1}}qf(h,l,n,q){this.wp();let r=this.$g=0;const p=this.xc,v=d.sD(this.nf.Ok),t=Math.sin(q);q=Math.cos(q);
var w=v.reduce((x,z)=>x+z.height,0)-p;"center"===this.Wd?r=Math.max(Math.floor(this.Ql/2-w/2),0):"bottom"===this.Wd&&(r=Math.floor(this.Ql-w));for(let x=0,z=v.length;x<z;++x){w=v[x];const E=w.height;if(0<x&&r>this.Ql-(E-p))break;0<=r&&this.a$(h,w,l,n,r,t,q);r+=E}}a$(h,l,n,q,r,p,v){const t=l.height;let w=0;"center"===this.fe?w=Math.max(Math.floor((this.$e-l.width)/2),0):"right"===this.fe&&(w=Math.max(Math.floor(this.$e-l.width),0));for(const x of l.zL)this.S9(h,x,n,q,w,r,p,v,t),w+=x.width}S9(h,l,n,
q,r,p,v,t,w){var x=l.text,z=l.width,E=l.hd;if(-1!==this.ah){if(this.$g>=this.ah)return;this.$g+x.length>this.ah&&(x=x.substr(0,this.ah-this.$g),z=this.Av(x,E).width);this.$g+=x.length}var G=this.Mc(E,"background");if(!(d.zz(x)&&!G||this.pn(E,"hide"))){l=this.Mc(E,"scale");var N=(l?parseFloat(l.gd):this.Xb)*this.gx;l=this.Mc(E,"scalex");l=(l?parseFloat(l.gd):1)*N;var C=this.Mc(E,"scaley");N*=this.yb.eg*(C?parseFloat(C.gd):1);p+=w-this.xc-N;w=this.Mc(E,"offsetx");r+=w?parseFloat(w.gd):0;w=this.Mc(E,
"offsety");p+=w?parseFloat(w.gd):0;G&&(h.jG(),e.$W(G.gd),e.yh(1),h.nk(e),a.set(r,p,r+z,p+N),a.X>this.$e&&a.Lha(this.$e),b.KD(a,v,t),b.offset(n,q),h.xd(b),h.Mh());(z=this.Mc(E,"color"))?(e.$W(z.gd),e.yh(this.wb.Xa)):e.wa(this.wb);(z=this.Mc(E,"opacity"))&&e.yh(e.Xa*parseFloat(z.gd)/100);e.HD();h.nk(e);z=this.yb.Ze*l;E=Math.abs(this.Gq);for(const H of x)if(x=this.yb.Ny(H)){G=x.IE()*l;if(r+G>this.$e+E+1E-5)break;a.set(r,p,r+z,p+N);b.KD(a,v,t);b.offset(n,q);h.Gr(b,x.Gh());r+=G+this.Gq}else r+=this.yb.QN()*
l+this.Gq}}FP(h){h=!!h;this.Be!==h&&(this.Be=h,this.zk())}Vr(h){this.dc!==h&&(this.dc=h,this.zk())}hQ(h){if(!k.has(h))throw Error("invalid word wrap mode");this.Rq!==h&&(this.Rq=h,this.zk())}c6(h){if(!c.has(h))throw Error("invalid alignment");this.fe=h}R6(h){if(!f.has(h))throw Error("invalid alignment");this.Wd=h}pp(h){this.Xb!==h&&(this.Xb=h,this.zk())}v6(h){this.gx!==h&&(this.gx=h,this.zk())}IN(){return this.gx}cQ(h){this.Gq!==h&&(this.Gq=h,this.zk())}Tz(h){this.xc=h;this.zk()}qk(h){h=d.ba(h,0,
1);this.wb.po=h}nk(h){this.wb.Tc(h)||this.wb.wa(h)}UN(){this.wp();return this.nf.yN()}TN(){this.wp();const h=this.xc;return this.nf.Ok.length*(this.yb.eg*this.Xb+h)-h}}}
{"use strict";const d=self.A,a={width:256,height:256,zW:16,yW:16,characterSet:""};self.e7=class{constructor(b){b=Object.assign({},a,b);if(0>=b.width||0>=b.height||0>=b.zW||0>=b.yW)throw Error("invalid size");this.U=b.width;this.R=b.height;this.Ze=b.zW;this.eg=b.yW;this.An=b.characterSet;this.pt="";this.lx=null;this.Ms=!1;this.Fq=-1;this.Rk=new d.Rect(0,0,1,1);this.Kp=new Map;this.Sn=!0;this.Fp=new Set}i(){this.Rk=null;this.wS();this.Kp=null;this.Fp&&this.Fp.clear();this.Fp=null}wS(){for(let b of this.Kp.values())b.i();
this.Kp.clear()}j8(b){this.Fp.add(b)}sca(b){this.Fp.delete(b)}uQ(){if(this.Sn){this.wS();var b=[...this.An],e=Math.floor(this.U/this.Ze),c=e*Math.floor(this.R/this.eg);for(let f=0,k=b.length;f<k&&!(f>=c);++f){let h=b[f];this.Kp.set(h,d.C(self.f7,this,h,f%e*this.Ze,Math.floor(f/e)*this.eg))}this.Ms=!1;this.Fq=-1;if(Array.isArray(this.lx))for(let f of this.lx)if(Array.isArray(f)&&2===f.length&&(b=f[0],e=f[1],"number"===typeof b&&isFinite(b)&&"string"===typeof e&&b!==this.Ze))for(let k of e)(e=this.Kp.get(k))?
(e.MP(b),this.Ms=!0):" "===k&&(this.Fq=b,this.Ms=!0);this.Sn=!1;for(let f of this.Fp)f.zk()}}H5(){this.Ms=!0;for(const b of this.Fp)b.zk()}Ny(b){this.uQ();return this.Kp.get(b)||null}Ue(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.U!==b&&(this.U=b,this.Sn=!0)}P(){return this.U}Bf(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.R!==b&&(this.R=b,this.Sn=!0)}O(){return this.R}z6(b){if(!this.Rk.Tc(b)){this.Rk.wa(b);for(const e of this.Kp.values())e.vT()}}Gh(){return this.Rk}Oz(b){b=
Math.floor(b);if(0>=b)throw Error("invalid size");this.Ze!==b&&(this.Ze=b,this.Sn=!0)}hG(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.eg!==b&&(this.eg=b,this.Sn=!0)}iG(b){this.An!==b&&(this.An=b,this.Sn=!0)}rG(b){if(this.pt!==b&&(this.pt=b,this.Sn=!0,this.lx=null,this.pt.length))try{this.lx=JSON.parse(this.pt)}catch(e){this.lx=null}}w6(b){0>b&&(b=-1);this.Fq!==b&&(this.Fq=b,0<=this.Fq&&(this.Ms=!0))}QN(){return 0>this.Fq?this.Ze:this.Fq}}}{"use strict";const d=self.A;d.B.hc=class extends d.Al{constructor(a){super(a)}i(){super.i()}}}
{"use strict";const d=self.A;d.B.hc.Oh=class extends d.lp{constructor(a){super(a);this.Rd=a.Rd}i(){d.D(this.Rd);super.i()}Ic(){for(const a of this.Rd)a.W2(this.g)}Br(a){const b={Ci:this.g.nd};return Promise.all(this.Rd.map(e=>e.X2(a,b)))}hp(){for(const a of this.Rd)a.U4()}Gz(){this.pT()}pT(){for(const a of this.M.Tga())a.ka.PH()}ku(a){d.B.hc.F_(this,a)}}}
{"use strict";const d=self.A,a=d.C(d.Rect),b=d.C(d.xd),e=d.C(d.jv);d.B.hc.Instance=class extends d.dG{constructor(f,k){super(f);let h=!0,l="",n=0,q=!0;k&&(h=!!k[0],l=k[1],n=k[2],q=k[3]);this.Vb=this.M.fN(l)||this.M.Rd[0];this.Eb=d.ba(n,0,this.Vb.Ud.length-1);this.bf=this.Vb.Om(this.Eb);k=this.bf.Nd();this.zs=k.se();this.AI=k.Gh();this.Yv=k.gz();this.d1();f.Uu(2,!0);f.Uu(1,0<=this.Vb.ql());this.Fk=Math.abs(this.Vb.ql());this.ys=this.Vb.HV;this.PA=d.C(d.Ju);this.Bk=this.yj=0;this.AT="";this.Tv=-1;this.ts=
"";this.GT=0;f=this.j();this.Hea=f.Vj();f.Pg(h);f.Tu(q);f.Qr(this.bf.Zj());f.Rr(this.bf.$j());f.qG(this.bf.Lp);f.Va();1===this.M.Rd.length&&1===this.M.Rd[0].Ud.length||0===this.Fk||this.Rh()}i(){this.PA=this.zs=this.bf=this.Vb=null;super.i()}Dh(){return this.bf.Nd()}bp(){return!0}Er(){this.zs=null}eP(){this.PH()}qf(f){var k=this.zs;null!==k&&(f.Ng(k),k=this.j(),k.Dg()?this.b$(k,f):this.f$(k,f))}f$(f,k){let h=this.Hea;this.g.Jn&&(h=f.MF(h));k.O4(h,this.Yv)}b$(f,k){const h=f.X0();if(f.z2()){f.ly(a,
b,!1);let l=b;this.g.Jn&&(l=f.MF(l));h.pY(f.pl(),l,this.Yv);f.VP(!1)}h.qf(k)}nu(){return this.PA.fa()}uz(){return this.J.OE(2)}Lr(f){this.J.Uu(2,f)}yz(){return this.J.OE(1)}Zu(f){this.J.Uu(1,f)}yF(){return this.J.OE(4)}QP(f){this.J.Uu(4,f)}ae(){this.ts&&this.YQ();0<=this.Tv&&this.dH();const f=this.Fk;if(this.uz()&&0!==f){this.PA.yc(this.g.hr(this.J));var k=this.nu(),h=this.bf,l=h.TT/f;if(!(k<this.yj+l)){var n=this.Vb,q=this.ys,r=n.Ud.length,p=n.Qm(),v=n.XB,t=n.lfa;this.yz()?this.Eb++:this.Eb--;this.yj+=
l;this.Eb>=r&&(t?(this.Zu(!1),this.Eb=r-2):v?this.Eb=q:(this.Bk++,this.Bk>=p?this.gH(!1):this.Eb=q));0>this.Eb&&(t?(this.Eb=1,this.Zu(!0),v||(this.Bk++,this.Bk>=p&&this.gH(!0))):v?this.Eb=q:(this.Bk++,this.Bk>=p?this.gH(!0):this.Eb=q));this.Eb=d.ba(this.Eb,0,r-1);l=n.Om(this.Eb);k>this.yj+l.TT/f&&(this.yj=k);this.uA(h,l)}}else this.Bp()}gH(f){this.Eb=f?0:this.Vb.Ud.length-1;this.Lr(!1);this.AT=this.Vb.Da();this.QP(!0);this.ua(d.B.hc.F.D3);this.ua(d.B.hc.F.C3);this.QP(!1);this.Bk=0}uA(f,k){if(f!==
k){var h=this.j(),l=f.Nd();f=k.Nd();var n=l.P();l=l.O();var q=f.P(),r=f.O();n!==q&&h.Ue(h.P()*(q/n));l!==r&&h.Bf(h.O()*(r/l));h.Qr(k.Zj());h.Rr(k.$j());h.qG(k.Lp);h.Va();this.bf=k;this.zs=f.se();this.AI=f.Gh();this.Yv=f.gz();k=this.Ga().$c;for(let p=0,v=k.length;p<v;++p);this.ua(d.B.hc.F.R3);this.g.ga()}}Tda(f){this.Lr(!0);this.yj=this.nu();1===f&&0!==this.Eb&&(this.Tv=0,this.yF()||this.dH());this.Rh()}cda(f,k){this.ts=f;this.GT=k;this.Rh();this.yF()||this.YQ()}wR(){return this.ts?this.ts:this.Vb.Da()}dda(f){isFinite(f)&&
(this.Tv=f,this.yF()||this.dH())}fda(f){this.Fk=Math.abs(f);this.Zu(0<=f);0<this.Fk&&this.Rh()}rR(){return this.yz()?this.Fk:-this.Fk}eda(f){this.ys=f=d.ba(Math.floor(f),0,this.Vb.Ud.length-1)}YQ(){const f=this.bf;var k=this.M.fN(this.ts);this.ts="";!k||k===this.Vb&&this.uz()||(this.Vb=k,this.Zu(0<=k.ql()),this.Fk=Math.abs(k.ql()),this.ys=k.HV,this.Eb=d.ba(this.Eb,0,this.Vb.Ud.length-1),1===this.GT&&(this.Eb=0),this.Lr(!0),this.yj=this.nu(),k=this.Vb.Om(this.Eb),this.uA(f,k))}dH(){const f=this.bf;
var k=this.Eb;this.Eb=d.ba(Math.floor(this.Tv),0,this.Vb.Ud.length-1);this.Tv=-1;k!==this.Eb&&(k=this.Vb.Om(this.Eb),this.uA(f,k),this.yj=this.nu())}PH(){const f=this.bf.Nd();this.zs=f.se();this.AI=f.Gh();this.Yv=f.gz();this.j().VP(!0)}se(){return this.zs}Gh(){return this.AI}gz(){return this.Yv}RE(){return this.bf.RE()}Xj(f){const k=this.bf,h=this.j();if("string"===typeof f)f=k.t0(f);else if("number"===typeof f)f=k.s0(f-1);else throw new TypeError("expected string or number");if(!f)return[h.K(),h.L()];
e.wa(f.Uo());if(h.Dg()){const [l,n]=h.pl().qQ(e.Y,e.T);e.set(l,n)}e.offset(-k.Zj(),-k.$j());e.scale(h.P(),h.O());e.rotate(h.ia());e.offset(h.K(),h.L());return[e.Y,e.T]}T_(){return this.j().rl().XL()}kN(f){f=Math.floor(f);const k=this.j();var h=k.rl();const l=h.XL();f===l&&(f=0);if(0>f||f>=l)return[0,0];h=h.Bd;return[h[2*f]+k.K(),h[2*f+1]+k.L()]}md(){const f={a:this.Vb.Ya};0!==this.yj&&(f.fs=this.yj);var k=this.nu();0!==k&&(f.at=k);0!==this.Eb&&(f.f=this.Eb);0!==this.Fk&&(f.cas=this.Fk);1!==this.Bk&&
(f.ar=this.Bk);0!==this.ys&&(f.rt=this.ys);this.uz()||(f.ap=this.uz());this.yz()||(f.af=this.yz());k=this.j();k.Gg()&&(f.ce=k.Gg());return f}Wc(f){var k=this.H().N_(f.a);k&&(this.Vb=k);this.yj=f.hasOwnProperty("fs")?f.fs:0;this.PA.Set(f.hasOwnProperty("at")?f.at:0);k=f.hasOwnProperty("f")?f.f:0;this.Eb=d.ba(k,0,this.Vb.Ud.length-1);this.Fk=f.hasOwnProperty("cas")?f.cas:0;this.Bk=f.hasOwnProperty("ar")?f.ar:1;k=f.hasOwnProperty("rt")?f.rt:0;this.ys=d.ba(k,0,this.Vb.Ud.length-1);this.Lr(f.hasOwnProperty("ap")?
!!f.ap:!0);this.Zu(f.hasOwnProperty("af")?!!f.af:!0);this.bf=k=this.Vb.Om(this.Eb);this.PH();const h=this.j();h.Qr(k.Zj());h.Rr(k.$j());h.qG(k.Lp);h.Tu(!!f.ce)}zc(f){const k=this.j();switch(f){case 3:return k.Gg();case 2:return d.ba(this.Eb,0,this.Vb.Ud.length-1)}}Mg(f,k){var h=this.j();switch(f){case 3:h.Tu(!!k);break;case 2:this.Lr(!1);f=this.Vb.Ud.length-1;h=k=d.ba(k,0,f);k=this.Vb.Om(this.Eb);const l=this.Vb.Om(h);this.uA(k,l);this.Eb=d.ba(h,0,f)}}Pi(){return self.C1}};const c=new WeakMap;self.C1=
class extends self.qz{constructor(){super();c.set(this,self.Fu.gs().ka)}get animationName(){return c.get(this).wR()}get imageWidth(){return c.get(this).Dh().P()}get imageHeight(){return c.get(this).Dh().O()}}}
{"use strict";const d=self.A;d.B.hc.F={Qla(a){return d.xh(this.wR(),a)},Sja(a,b){return d.compare(this.Eb,a,b)},Oja(a,b){return d.compare(this.rR(),a,b)},C3(a){return d.xh(this.AT,a)},D3(){return!0},R3(){return!0},nma(){return 0>this.j().P()},fma(){return 0>this.j().O()},dP(){return!0},u4(){return!0},Gg(){return this.j().Gg()}}}
{"use strict";const d=self.A;d.B.hc.fb={Sra(a,b,e,c){if(a&&b){var [f,k]=this.Xj(e);if(e=this.g.oE(a,b,f,k,c)){c&&b.xG(e);a.Kb().zr()&&(b=e.j(),b.Yc(this.j().ia()),b.Va());b=this.g.la();b.Le(!0);e.IA();b.Le(!1);c=this.g.qu().yf();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.Hs)b=!0,c.set("Spawn_LastExec",this.g.Hs);if(a!==this.H()&&(a=a.$(),a.ve(!1),a=a.G,b&&d.D(a),a.push(e),e.$b()))for(const h of e.Jd)e=h.H().$(),b?e.rk(h):(e.ve(!1),e.xp(h))}}},Zra(){this.Lr(!1)},Vra(a){this.Tda(a)},
C5(a,b){this.cda(a,b)},uqa(a){this.dda(a)},wqa(a){this.fda(a)},vqa(a){this.eda(a)},Bra(a){const b=this.j(),e=b.P();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.Ue(a),b.Va())},Sqa(a){const b=this.j(),e=b.O();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.Bf(a),b.Va())},pp(a){const b=this.bf.Nd(),e=this.j();var c=0>e.P()?-1:1;const f=0>e.O()?-1:1;c*=b.P()*a;a=b.O()*a*f;if(e.P()!==c||e.O()!==a)e.Bc(c,a),e.Va()},async cna(a,b){const e=this.bf.Nd(),c=this.j(),f=this.g;if(e.Uk===a)0===b&&(c.Bc(e.P(),e.O()),c.Va()),this.ua(d.B.hc.F.dP);
else{var k=d.C(d.rz);try{await k.Z2(f,a);if(!k.BF())throw Error("image failed to load");await k.Ar(f.Cb(),{Ci:this.g.nd})}catch(h){console.error("Load image from URL failed: ",h);this.ua(d.B.hc.F.u4);return}e.h5(k);this.eb.pT();this.Zz()||0!==b||(c.Bc(e.P(),e.O()),c.Va());f.ga();this.Zz()||await this.mb(d.B.hc.F.dP)}},Gqa(a){this.j().Tu(a)},pG(a,b){this.j().pG(0===a,b)},O5(a){this.j().ag(a);this.g.ga()}}}"use strict";
self.A.B.hc.vd={Qia(){return this.Eb},Ria(){return this.Vb.Ud.length},Sia(){return this.Vb.Da()},Tia(){return this.rR()},Una(){return this.Vb.ql()},Ila(d){return this.Xj(d)[0]},Jla(d){return this.Xj(d)[1]},Hla(){return this.RE()},Kla(){return this.Dh().P()},Gla(){return this.Dh().O()},Foa(d){return this.kN(d)[0]},Goa(d){return this.kN(d)[1]},Eoa(){return this.T_()}};{"use strict";const d=self.A;d.ra.Co=class extends d.aG{constructor(a){super(a)}i(){super.i()}}}
{"use strict";const d=self.A;d.ra.Co.Oh=class extends d.cG{constructor(a){super(a)}i(){super.i()}Ic(){}}}
{"use strict";const d=self.A;d.ra.Co.Instance=class extends d.bG{constructor(a,b){super(a);this.hn(!0);b&&(this.hn(b[0]),this.Ur(b[1]))}i(){super.i()}hn(a){this.J.Ida(!!a)}Hg(){return this.J.uaa()}Ur(a){const b=this.J.yf();if(a.trim()){var e=b.get("solidTags");e||(e=new Set,b.set("solidTags",e));e.clear();for(const c of a.split(" "))c&&e.add(c.toLowerCase())}else b.delete("solidTags")}md(){return{e:this.Hg()}}Wc(a){this.hn(a.e)}zc(a){switch(a){case 0:return this.Hg()}}Mg(a,b){switch(a){case 0:this.hn(b)}}}}"use strict";
self.A.ra.Co.F={Hg(){return this.Hg()}};"use strict";self.A.ra.Co.fb={hn(d){this.hn(d)},Ur(d){this.Ur(d)}};"use strict";self.A.ra.Co.vd={};
{"use strict";const d=self.A;let a=null,b=null,e=[],c=null;function f(k,h,l){var n=k.yf();const q=h.yf();l?((n=n.get("Physics_DisabledCollisions"))&&n.delete(h.Ya),(h=q.get("Physics_DisabledCollisions"))&&h.delete(k.Ya)):(l=n.get("Physics_DisabledCollisions"),l||(l=new Set,n.set("Physics_DisabledCollisions",l)),n=q.get("Physics_DisabledCollisions"),n||(n=new Set,q.set("Physics_DisabledCollisions",n)),l.add(h.Ya),n.add(k.Ya))}d.ra.Za=class extends d.aG{constructor(k){k.Iha=self.y1;super(k);this.Je=
null;this.mL=10;this.pc=.02;this.qW=null;this.TU=-1;this.$V=1;this.nW=8;this.wV=3;this.xT=!0;this.g.$D(this.Aaa())}async Aaa(){const k=await this.g.tb.az("box2d.wasm");await new Promise(h=>{self.Box2DWasmModule({wasmBinaryFile:k}).then(l=>{c=l;this.caa();h()})})}caa(){const k=this.g.fg;a=d.ra.Za.Uo(0,0);b=d.ra.Za.Uo(0,0);this.Je=new c.b2World(d.ra.Za.dF(0,this.mL),!0);var h=new c.JSContactListener;h.BeginContact=l=>{var n=c.wrapPointer(l,c.b2Contact);l=d.ra.Za.Instance.Fz(n.GetFixtureA().GetBody());
n=d.ra.Za.Instance.Fz(n.GetFixtureB().GetBody());k.T4(l.J,n.J)};h.EndContact=()=>{};h.PreSolve=()=>{};h.PostSolve=()=>{};this.Je.SetContactListener(h);h=new c.JSContactFilter;h.ShouldCollide=(l,n)=>{if(this.xT)return!0;l=c.wrapPointer(l,c.b2Fixture);n=c.wrapPointer(n,c.b2Fixture);l=d.ra.Za.Instance.Fz(l.GetBody());n=d.ra.Za.Instance.Fz(n.GetBody());l=l.J.H();const q=n.J.H();n=l.Ya;const r=q.Ya;return(l=l.yf().get("Physics_DisabledCollisions"))&&l.has(r)?!1:(l=q.yf().get("Physics_DisabledCollisions"))&&
l.has(n)?!1:!0};this.Je.SetContactFilter(h);this.qW=new c.b2WorldManifold}i(){super.i()}S_(){return c}dQ(k){this.$V=k}k6(k){this.TU=k}Q6(k){this.nW=Math.max(k,1)}s6(k){this.wV=Math.max(k,1)}TP(k,h){this.Q6(k);this.s6(h)}Z5(k){k!==this.mL&&(this.Je.SetGravity(d.ra.Za.dF(0,k)),this.mL=k,this.qea())}qea(){for(const h of this.ma()){var k=d.ra.Za.Instance.xl(h);k&&(k=k.za)&&k.SetAwake(!0)}}mZ(){this.xT=!1}I5(k,h,l){l=!!l;if(k&&h){if(h.$a)for(const n of h.En)f(k,n,l);else f(k,h,l);this.mZ()}}static Uo(k,
h){if(e.length){const l=e.pop();l.set_x(k);l.set_y(h);return l}return new c.b2Vec2(k,h)}static Iy(k){e.push(k)}static dF(k,h){a.set_x(k);a.set_y(h);return a}static T0(k,h){b.set_x(k);b.set_y(h);return b}static qE(k){const h=new c.b2PolygonShape,l=c._malloc(8*k.length);var n=0;for(let q=0;q<k.length;++q)c.HEAPF32[l+n>>2]=k[q].get_x(),c.HEAPF32[l+(n+4)>>2]=k[q].get_y(),n+=8;n=c.wrapPointer(l,c.b2Vec2);h.Set(n,k.length);c._free(l);return h}};self.y1=class extends self.aO{constructor(k){super(k)}}}
{"use strict";const d=self.A;d.ra.Za.Oh=class extends d.cG{constructor(a){super(a)}i(){super.i()}Ic(){}}}
{"use strict";const d=self.A,a=self.Ah,b=self.bO,e=new WeakMap,c=new WeakMap,f=new WeakMap,k=d.ra.Za.dF,h=d.ra.Za.T0,l=d.C(d.Rect),n=d.C(d.xd);d.ra.Za.Instance=class extends d.bG{constructor(r,p){super(r);r=this.rf();const v=this.j();this.Uh=r.S_();this.Je=r.Je;this.pc=r.pc;this.xw=!1;this.IT=0;this.Yn=!1;this.Pp=1;this.Wp=.5;this.Cq=.2;this.nq=0;this.Gp=.01;this.In=!1;this.Ca=!0;this.za=null;this.Js=[];this.ih=[];this.ff=[];this.Mn=new Set;this.Rs=v.K();this.Ss=v.L();this.ei=v.ia();this.FJ=this.LJ=
0;this.Jw=!1;p&&(this.xw=!!p[0],this.IT=p[1],this.Yn=!!p[2],this.Pp=p[3],this.Wp=p[4],this.Cq=p[5],this.nq=p[6],this.Gp=p[7],this.In=!!p[8],this.Ca=!!p[9]);p=this.g.Db();this.Sd=new d.Go(d.Ib.fc(p,"instancedestroy",t=>this.Bv(t.instance)),d.Ib.fc(p,"beforeload",()=>this.ms()),d.Ib.fc(p,"afterload",()=>this.Il()));c.set(this.J,this);this.Ca&&this.Rh()}Iz(){this.dA()}i(){this.hA();d.D(this.ff);this.Mn.clear();this.za&&(this.$G(),this.Je.DestroyBody(this.za),this.za=null);super.i()}nv(r){this.za&&(r=
this.za.CreateFixture(r),this.Js.push(r))}$G(){if(this.za){for(const r of this.Js)this.za.DestroyFixture(r);d.D(this.Js)}}es(){const r=this.j();return r.Dg()?(r.ly(l,n,!1),n):r.Vj()}bj(r){this.Uh.destroy(r)}dA(){if(this.Ca){var r=this.Uh.b2FixtureDef,p=this.Uh.b2BodyDef,v=this.j();if(!this.za){p=new p;p.set_type(this.xw?0:2);var t=this.es();p.set_position(h(t.Ai()*this.pc,t.Bi()*this.pc));p.set_angle(v.ia());p.set_fixedRotation(this.Yn);p.set_linearDamping(this.nq);p.set_angularDamping(this.Gp);p.set_bullet(this.In);
this.za=this.Je.CreateBody(p);this.bj(p);e.set(this.za,this)}this.$G();r=new r;r.set_density(this.Pp);r.set_friction(this.Wp);r.set_restitution(this.Cq);p=this.IT;v.Du()||this.J.Qi()||0!==p||(p=1);t=Math.max(Math.abs(v.P()),1);var w=Math.max(Math.abs(v.O()),1);0===p?this.J.Qi()?this.h9(r):this.a9(r,t,w):1===p?this.QQ(r,t,w):this.M8(r,t,w);this.LJ=v.P();this.FJ=v.O();v.bQ(!1);this.bj(r)}}QQ(r,p,v){const t=new this.Uh.b2PolygonShape;t.SetAsBox(p*this.pc*.5,v*this.pc*.5);r.set_shape(t);this.nv(r);this.bj(t)}M8(r,
p,v){const t=new this.Uh.b2CircleShape;t.set_m_radius(Math.min(p,v)*this.pc*.5);r.set_shape(t);this.nv(r);this.bj(t)}a9(r,p,v){var t=this.j(),w=0>t.P();const x=0>t.O(),z=this.pc;var E=t.ia();0!==E&&(t.Yc(0),t.Va());var G=this.es();const N=G.Ai()-t.K();G=G.Bi()-t.L();0!==E&&(t.Yc(E),t.Va());E=t.W_(w?-p:p,x?-v:v).Bd;const C=E.length/2;t=[];for(let H=0;H<C;++H)t.push(d.ra.Za.Uo(E[2*H]-N,E[2*H+1]-G));w!==x&&t.reverse();w=d.ra.Za.DP.CP(t,p*v);for(const H of t)d.ra.Za.Iy(H);if(w.length)for(const H of w){for(const I of H)I.set_x(I.get_x()*
z),I.set_y(I.get_y()*z);p=d.ra.Za.qE(H);r.set_shape(p);this.nv(r);this.bj(p);for(const I of H)d.ra.Za.Iy(I)}else this.QQ(r,p,v)}h9(r){var p=this.j(),v=this.es();const t=v.Ai()-p.K();p=v.Bi()-p.L();v=this.pc;const w=d.ra.Za.Uo,x=d.ra.Za.Iy,z=[];this.J.ka.gla(z);const E=[];for(let I=0,K=z.length;I<K;++I){var G=z[I],N=G.Q0(),C=G.EN();if(C){var H=f.get(C);if(!H){H=C.Bd;const Q=C.XL();for(let R=0;R<Q;++R)E.push(w(H[2*R],H[2*R+1]));G=G.pla()&3758096384;(-2147483648===G||1073741824===G||536870912===G||G&
-2147483648&&G&1073741824&&G&536870912)&&E.reverse();H=d.ra.Za.DP.CP(E,N.width()*N.height());f.set(C,H);for(const R of E)x(R);d.D(E)}for(let Q=0,R=H.length;Q<R;++Q){C=H[Q];for(let U=0,Z=C.length;U<Z;++U)E.push(w((N.S+C[U].get_x()-t)*v,(N.N+C[U].get_y()-p)*v));C=d.ra.Za.qE(E);r.set_shape(C);this.nv(r);this.bj(C);for(const U of E)x(U);d.D(E)}}else E.push(w((N.S-t)*v,(N.N-p)*v)),E.push(w((N.X-t)*v,(N.N-p)*v)),E.push(w((N.X-t)*v,(N.V-p)*v)),E.push(w((N.S-t)*v,(N.V-p)*v)),N=d.ra.Za.qE(E),r.set_shape(N),
this.nv(r),this.bj(N);for(const Q of E)x(Q);d.D(E)}}XQ(){this.za&&(this.hA(),e.delete(this.za),this.$G(),this.Je.DestroyBody(this.za),this.za=null)}hA(){for(const r of this.ih)this.Je.DestroyJoint(r);d.D(this.ih)}aca(){for(const r of this.ff)switch(r.type){case 0:this.$Q(...r.yo);break;case 1:this.cR(...r.yo);break;case 2:this.aR(...r.yo);break;case 3:this.bR(...r.yo)}}vk(r){var p=this.j();return-1===r?[p.K(),p.L()]:0===r&&this.za?(r=this.za.GetPosition(),p=this.za.GetLocalCenter(),[(r.get_x()+p.get_x())/
this.pc,(r.get_y()+p.get_y())/this.pc]):this.J.Xj(r)}N8(r,p,v,t,w){this.Ca&&p&&p!==this.J&&d.ra.Za.Instance.xl(p)&&(this.ff.push({type:0,yo:[r,p.pb,v,t,w]}),this.$Q(r,p.pb,v,t,w))}$Q(r,p,v,t,w){if(this.Ca){var x=this.g.qe(p);if(x&&x!==this.J&&c.has(x)){p=d.ra.Za.Instance.xl(x);p.Mn.add(this.J);this.Kl(!1);p.Kl(!1);var [z,E]=this.vk(r),[G,N]=x.Xj(v);r=z-G;v=E-N;x=this.pc;var C=new this.Uh.b2DistanceJointDef;C.Initialize(this.za,p.za,k(z*x,E*x),h(G*x,N*x));C.set_length(Math.hypot(r,v)*x);C.set_dampingRatio(t);
C.set_frequencyHz(w);this.ih.push(this.Je.CreateJoint(C));this.bj(C)}}}d9(r,p){this.Ca&&p&&p!==this.J&&d.ra.Za.Instance.xl(p)&&(this.ff.push({type:1,yo:[r,p.pb]}),this.cR(r,p.pb))}cR(r,p){if(this.Ca&&(p=this.g.qe(p))&&p!==this.J&&c.has(p)){p=d.ra.Za.Instance.xl(p);p.Mn.add(this.J);this.Kl(!1);p.Kl(!1);var [v,t]=this.vk(r);r=this.pc;var w=new this.Uh.b2RevoluteJointDef;w.Initialize(this.za,p.za,k(v*r,t*r));this.ih.push(this.Je.CreateJoint(w));this.bj(w)}}Y8(r,p,v,t){this.Ca&&p&&p!==this.J&&d.ra.Za.Instance.xl(p)&&
(v=d.oe(v),t=d.oe(t),this.ff.push({type:2,yo:[r,p.pb,v,t]}),this.aR(r,p.pb,v,t))}aR(r,p,v,t){if(this.Ca&&(p=this.g.qe(p))&&p!==this.J&&c.has(p)){p=d.ra.Za.Instance.xl(p);p.Mn.add(this.J);this.Kl(!1);p.Kl(!1);var [w,x]=this.vk(r);r=this.pc;var z=new this.Uh.b2RevoluteJointDef;z.Initialize(this.za,p.za,k(w*r,x*r));z.set_enableLimit(!0);z.set_lowerAngle(d.Ea(v));z.set_upperAngle(d.Ea(t));this.ih.push(this.Je.CreateJoint(z));this.bj(z)}}b9(r,p,v,t,w,x,z,E,G){this.Ca&&p&&p!==this.J&&d.ra.Za.Instance.xl(p)&&
(v=d.oe(v),E=d.oe(E),this.ff.push({type:3,yo:[r,p.pb,v,t,w,x,z,E,G]}),this.bR(r,p.pb,v,t,w,x,z,E,G))}bR(r,p,v,t,w,x,z,E,G){if(this.Ca&&(p=this.g.qe(p))&&p!==this.J&&c.has(p)){p=d.ra.Za.Instance.xl(p);p.Mn.add(this.J);this.Kl(!1);p.Kl(!1);var [N,C]=this.vk(r);v=d.Ea(v);r=Math.cos(v);v=Math.sin(v);var H=this.pc,I=new this.Uh.b2PrismaticJointDef;I.Initialize(this.za,p.za,k(N*H,C*H),h(r,v));I.set_enableLimit(!!t);I.set_lowerTranslation(w*H);I.set_upperTranslation(x*H);I.set_enableMotor(!!z);I.set_motorSpeed(d.Ea(E));
I.set_maxMotorForce(G);this.ih.push(this.Je.CreateJoint(I));this.bj(I)}}oca(){this.Ca&&(this.hA(),d.D(this.ff),this.Mn.clear())}Bv(r){const p=r.pb;let v=0;for(let t=0,w=this.ff.length;t<w;++t)this.ff[v]=this.ff[t],v<this.ih.length&&(this.ih[v]=this.ih[t]),this.ff[t].yo[1]===p?t<this.ih.length&&this.Je.DestroyJoint(this.ih[t]):++v;d.pe(this.ff,v);v<this.ih.length&&d.pe(this.ih,v);this.Mn.delete(r)}static Fz(r){return e.get(r)||null}static xl(r){return c.get(r)||null}md(){const r={e:this.Ca,pr:this.Yn,
d:this.Pp,fr:this.Wp,re:this.Cq,ld:this.nq,ad:this.Gp,b:this.In,mcj:this.ff};if(this.Ca){const p=this.za.GetLinearVelocity();r.vx=p.get_x();r.vy=p.get_y();r.om=this.za.GetAngularVelocity()}return r}ms(){this.hA();d.D(this.ff);this.Mn.clear()}Wc(r){this.XQ();this.Ca=r.e;this.Yn=r.pr;this.Pp=r.d;this.Wp=r.fr;this.Cq=r.re;this.nq=r.ld;this.Gp=r.ad;this.In=r.b;this.ff=r.mcj;const p=this.j();this.Rs=p.K();this.Ss=p.L();this.ei=p.ia();this.LJ=p.P();this.FJ=p.O();this.Ca&&(this.dA(),this.za.SetLinearVelocity(k(r.vx,
r.vy)),this.za.SetAngularVelocity(r.om),0===r.vx&&0===r.vy&&0===r.om||this.za.SetAwake(!0),this.ff=r.mcj);this.Ca?this.Rh():this.Bp()}Il(){this.Ca&&this.aca()}ae(){if(this.Ca){var r=this.g,p=this.rf();if(0===p.$V)var v=r.Cd/60;else v=r.hr(this.J),v>1/30&&(v=1/30);var t=r.rm;if(t>p.TU&&0<r.Cd){r=this.g.xb;let w=0;r&&(w=performance.now());0!==v&&this.Je.Step(v,p.nW,p.wV);this.Je.ClearForces();r&&self.Tf.Aia(performance.now()-w);p.k6(t)}this.Kl(!0)}}Kl(r){const p=this.J.j();var v=this.pc;(p.P()!==this.LJ||
p.O()!==this.FJ||p.D2())&&this.dA();var t=this.za,w=p.K()!==this.Rs||p.L()!==this.Ss,x=p.ia()!==this.ei;if(w){var z=this.es();const E=z.Ai();z=z.Bi();const G=E-this.Rs,N=z-this.Ss;x?t.SetTransform(k(E*v,z*v),p.ia()):t.SetTransform(k(E*v,z*v),t.GetAngle());r&&(t.SetLinearVelocity(k(G,N)),this.Jw=!0);t.SetAwake(!0)}else r&&this.Jw&&(r=this.es(),this.Jw=!1,t.SetLinearVelocity(k(0,0)),t.SetTransform(k(r.Ai()*v,r.Bi()*v),t.GetAngle()));!w&&x&&(t.SetTransform(t.GetPosition(),p.ia()),t.SetAwake(!0));x=t.GetPosition();
w=x.get_x()/v;v=x.get_y()/v;t=t.GetAngle();if(w!==p.K()||v!==p.L()||t!==p.ia())if(p.Nh(w,v),p.Yc(t),p.Va(),v=this.es(),t=v.Ai()-p.K(),v=v.Bi()-p.L(),0!==t||0!==v)p.Lu(-t,-v),p.Va();this.Rs=p.K();this.Ss=p.L();this.ei=p.ia()}zc(r){switch(r){case 2:return this.Yn;case 3:return this.yR();case 4:return this.CR();case 5:return this.zR();case 6:return this.ER();case 7:return this.pR();case 8:return this.In;case 9:return this.Ca}}Mg(r,p){switch(r){case 2:this.$S(p);break;case 3:this.RS(p);break;case 4:this.US(p);
break;case 5:this.TS(p);break;case 6:this.XS(p);break;case 7:this.NS(p);break;case 8:this.QS(p);break;case 9:this.DA(p)}}DA(r){r=!!r;this.Ca&&!r?(this.XQ(),this.Ca=!1,this.Bp()):!this.Ca&&r&&(this.Ca=!0,this.dA(),this.Rh())}m8(r,p,v){const [t,w]=this.vk(v);this.bH(r,p,t,w)}o8(r,p,v,t){const [w,x]=this.vk(t);p=d.qo(w,x,p,v);this.bH(Math.cos(p)*r,Math.sin(p)*r,w,x)}n8(r,p,v){const [t,w]=this.vk(v);this.bH(Math.cos(p)*r,Math.sin(p)*r,t,w)}bH(r,p,v,t){if(this.Ca){var w=this.pc;this.za.ApplyForce(k(r,
p),h(v*w,t*w),!0)}}p8(r,p,v){const [t,w]=this.vk(v);this.cH(r,p,t,w)}r8(r,p,v,t){const [w,x]=this.vk(t);p=d.qo(w,x,p,v);this.cH(Math.cos(p)*r,Math.sin(p)*r,w,x)}q8(r,p,v){const [t,w]=this.vk(v);this.cH(Math.cos(p)*r,Math.sin(p)*r,t,w)}cH(r,p,v,t){if(this.Ca){var w=this.pc;this.za.ApplyLinearImpulse(k(r,p),h(v*w,t*w),!0);r=this.j();this.Rs=r.K();this.Ss=r.L();this.Jw=!1}}KG(r){this.Ca&&this.za.ApplyTorque(r,!0)}s8(r,p){p=d.Ke(this.j().ia(),p)?-1:1;this.KG(r*p)}t8(r,p,v){var t=this.j();p=d.qo(t.K(),
t.L(),p,v);t=d.Ke(t.ia(),p)?-1:1;this.KG(r*t)}bda(r){this.Ca&&(this.za.SetAngularVelocity(r),this.za.SetAwake(!0))}qR(){return this.Ca?this.za.GetAngularVelocity():0}dT(r,p){if(this.Ca){var v=this.pc;this.za.SetLinearVelocity(k(r*v,p*v));this.za.SetAwake(!0);r=this.j();this.Rs=r.K();this.Ss=r.L();this.Jw=!1}}V$(){if(!this.Ca)return[0,0];const r=this.pc,p=this.za.GetLinearVelocity();return[p.get_x()/r,p.get_y()/r]}PR(){return this.Ca?this.za.GetLinearVelocity().get_x()/this.pc:0}QR(){return this.Ca?
this.za.GetLinearVelocity().get_y()/this.pc:0}RS(r){if(this.Ca&&this.Pp!==r){this.Pp=r;for(const p of this.Js)p.SetDensity(r);this.za.ResetMassData()}}yR(){return this.Ca?this.Pp:0}US(r){if(this.Ca&&this.Wp!==r){this.Wp=r;for(var p of this.Js)p.SetFriction(r);for(r=this.za.GetContactList();this.Uh.getPointer(r);r=r.get_next())(p=r.get_contact())&&p.ResetFriction()}}CR(){return this.Ca?this.Wp:0}TS(r){if(this.Ca&&this.Cq!==r){this.Cq=r;for(const p of this.Js)p.SetRestitution(r)}}zR(){return this.Ca?
this.Cq:0}XS(r){this.Ca&&this.nq!==r&&(this.nq=r,this.za.SetLinearDamping(r))}ER(){return this.Ca?this.nq:0}NS(r){this.Ca&&this.Gp!==r&&(this.Gp=r,this.za.SetAngularDamping(r))}pR(){return this.Ca?this.Gp:0}vda(r){this.Ca&&(r=!!r,this.xw!==r&&(this.xw=r,this.za.SetType(this.xw?0:2),this.za.SetAwake(!0)))}$S(r){this.Ca&&(r=!!r,this.Yn!==r&&(this.Yn=r,this.za.SetFixedRotation(this.Yn),this.za.SetAngularVelocity(0),this.za.SetAwake(!0)))}QS(r){this.Ca&&(r=!!r,this.In!==r&&(this.In=r,this.za.SetBullet(this.In),
this.za.SetAwake(!0)))}GR(){return this.Ca?this.za.GetMass()/this.pc:0}D$(){return this.Ca?(this.za.GetPosition().get_x()+this.za.GetLocalCenter().get_x())/this.pc:0}E$(){return this.Ca?(this.za.GetPosition().get_y()+this.za.GetLocalCenter().get_y())/this.pc:0}taa(){return this.Ca?!this.za.IsAwake():!1}F$(){if(!this.Ca)return 0;let r=0;for(let v=this.za.GetContactList();this.Uh.getPointer(v);v=v.get_next()){var p=v.get_contact();p&&(p=p.GetManifold().get_pointCount(),r+=p)}return r}vR(r){r=Math.floor(r);
if(!this.Ca)return[0,0];var p=0;for(let t=this.za.GetContactList();this.Uh.getPointer(t);t=t.get_next()){var v=t.get_contact();if(!v)continue;const w=v.GetManifold().get_pointCount();if(r>=p&&r<p+w)return r-=p,p=this.rf().qW,v.GetWorldManifold(p),v=p.get_points(r),[v.get_x()/this.pc,v.get_y()/this.pc];p+=w}return[0,0]}Pi(){return self.z1}};const q=new WeakMap;self.z1=class extends b{constructor(){super();q.set(this,b.gs().ka)}get isEnabled(){return q.get(this).Ca}set isEnabled(r){q.get(this).DA(r)}setVelocity(r,
p){a.Vi(r);a.Vi(p);q.get(this).dT(r,p)}}}{"use strict";const d=self.A;d.ra.Za.F={J2(){return this.taa()},cka(a,b,e){if(!this.Ca)return!1;if(0===a)a=this.PR();else if(1===a)a=this.QR();else{const [c,f]=this.V$();a=Math.hypot(c,f)}return d.compare(a,b,e)},Nja(a,b){if(!this.Ca)return!1;const e=d.oe(this.qR());return d.compare(e,a,b)},Wja(a,b){if(!this.Ca)return!1;const e=this.GR();return d.compare(e,a,b)},Hg(){return this.Ca}}}
{"use strict";const d=self.A;d.ra.Za.fb={Via(a,b,e){this.m8(a,b,e)},Wia(a,b,e,c){this.o8(a,b,e,c)},YX(a,b,e){this.n8(a,d.Ea(b),e)},Xia(a,b,e){this.p8(a,b,e)},Zia(a,b,e,c){this.r8(a,b,e,c)},Yia(a,b,e){this.q8(a,d.Ea(b),e)},$ia(a){this.KG(d.Ea(a))},aja(a,b){this.s8(d.Ea(a),d.Ea(b))},bja(a,b,e){this.t8(d.Ea(a),b,e)},B5(a){this.bda(d.Ea(a))},ska(a,b,e,c,f){b&&(b=b.zg(this.J),this.N8(a,b,e,c,f))},xka(a,b){b&&(b=b.zg(this.J),this.d9(a,b))},uka(a,b,e,c){b&&(b=b.zg(this.J),this.Y8(a,b,d.Ea(e),d.Ea(c)))},
wka(a,b,e,c,f,k,h,l,n){b&&(b=b.zg(this.J),this.b9(a,b,d.Ea(e),c,f,k,h,d.Ea(l),n))},gpa(){this.oca()},U6(a){this.rf().Z5(a)},dQ(a){this.rf().dQ(a)},TP(a,b){this.rf().TP(a,b)},P6(a,b){this.dT(a,b)},Kqa(a){this.RS(a)},Uqa(a){this.US(a)},Pqa(a){this.TS(a)},vra(a){this.XS(a)},tqa(a){this.NS(a)},Zqa(a){this.vda(a)},Lka(a,b){this.rf().I5(this.H(),a,0!==b)},Jra(a){this.$S(0!==a)},Cqa(a){this.QS(0!==a)},hn(a){this.DA(0!==a)}}}
{"use strict";const d=self.A;d.ra.Za.vd={Psa(){return this.PR()},Qsa(){return this.QR()},Pia(){return d.oe(this.qR())},ina(){return this.GR()},Aja(){return this.D$()},Bja(){return this.E$()},Cka(){return this.yR()},cla(){return this.CR()},Kka(){return this.zR()},Xma(){return this.ER()},Oia(){return this.pR()},nka(){return this.F$()},oka(a){return this.vR(a)[0]},pka(a){return this.vR(a)[1]}}}
{"use strict";const d=self.A,a={};d.ra.Za.DP=a;const b=d.ra.Za.Uo,e=d.ra.Za.Iy;function c(k){return b(k.get_x(),k.get_y())}a.zga=function(k,h,l,n,q,r){return k*n+l*r+q*h-h*l-n*q-r*k};a.Pga=function(k,h,l,n,q,r,p,v){var t=l-k,w=n-h,x=p-q;const z=v-r;x=(x*(r-h)-z*(q-k))/(w*x-t*z);t=k+x*t;w=h+x*w;q=a.CD(t,w,q,r,p,v);return a.CD(l,n,k,h,t,w)&&q?b(t,w):null};a.CD=function(k,h,l,n,q,r){return(l+.1>=k&&k>=q-.1||l-.1<=k&&k<=q+.1)&&(n+.1>=h&&h>=r-.1||n-.1<=h&&h<=r+.1)&&a.Zga(k,h,l,n,q,r)};a.Zga=function(k,
h,l,n,q,r){return.1<Math.abs(q-l)?.1>Math.abs((r-n)/(q-l)*(k-l)+n-h):.1>Math.abs(k-l)};a.aX=function(k,h,l,n){return.1>Math.abs(l-k)&&.1>Math.abs(n-h)};a.CP=function(k,h){k=a.kga(k);let l=[];for(let n=0,q=k.length;n<q;++n){const r=k[n],p=[];let v=0;for(let t=0,w=r.length;t<w;++t){const x=r[t],z=r[(t+1)%w];v+=x.get_x()*z.get_y()-x.get_y()*z.get_x();p.push(b(x.get_x(),x.get_y()))}v=Math.abs(v/2);if(v>=.001*h)l.push(p);else for(let t=0,w=p.length;t<w;t++)e(p[t])}h=l;k=[];for(const n of h)8>=n.length?
k.push(n):k.push.apply(k,f(n));return l=k};a.kga=function(k){var h;let l;var n;let q;let r,p,v,t;let w;var x=0;let z=0,E,G=[],N=[];for(N.push(k);N.length;){k=N[0];l=k.length;E=!0;for(h=0;h<l;h++){r=h;p=h<l-1?h+1:h+1-l;var C=h<l-2?h+2:h+2-l;v=k[r];t=k[p];C=k[C];C=a.zga(v.get_x(),v.get_y(),t.get_x(),t.get_y(),C.get_x(),C.get_y());if(0>C){E=!1;var H=1E9;for(n=0;n<l;n++)if(n!==r&&n!==p){h=n;C=n<l-1?n+1:0;var I=k[h];var K=k[C];if(I=a.Pga(v.get_x(),v.get_y(),t.get_x(),t.get_y(),I.get_x(),I.get_y(),K.get_x(),
K.get_y()))K=t.get_x()-I.get_x(),q=t.get_y()-I.get_y(),K=K*K+q*q,K<H?(z=h,x=C,w=I,H=K):e(I)}if(1E9===H)return[];n=[];H=[];h=z;C=x;I=k[h];K=k[C];x=!1;a.aX(w.get_x(),w.get_y(),K.get_x(),K.get_y())||(n.push(w),x=!0);a.aX(w.get_x(),w.get_y(),I.get_x(),I.get_y())||(H.push(w),x=!0);x||e(w);z=-1;for(x=r;;){if(x!==C)n.push(k[x]);else{if(0>z||z>=l)return[];a.CD(K.get_x(),K.get_y(),k[z].get_x(),k[z].get_y(),v.get_x(),v.get_y())||n.push(k[x]);break}z=x;0>x-1?x=l-1:x--}n.reverse();z=-1;for(x=p;;){if(x!==h)H.push(k[x]);
else{if(0>z||z>=l)return[];x!==h||a.CD(I.get_x(),I.get_y(),k[z].get_x(),k[z].get_y(),t.get_x(),t.get_y())||H.push(k[x]);break}z=x;x+1>l-1?x=0:x++}N.push(n,H);N.shift();break}}E&&G.push(N.shift())}return G};function f(k){const h=[];h.push(k.splice(0,8));const l=h[0][0];let n=h[0][7];for(;k.length;){const q=k.splice(0,Math.min(k.length,6));let r=q.ne(-1);q.push(c(l));q.push(c(n));h.push(q);n=r}return h}}{"use strict";const d=self.A;d.ra.Si=class extends d.aG{constructor(a){super(a)}i(){super.i()}}}
{"use strict";const d=self.A;d.ra.Si.Oh=class extends d.cG{constructor(a){super(a)}i(){super.i()}Ic(){}}}
{"use strict";const d=self.A;d.ra.Si.Instance=class extends d.bG{constructor(a,b){super(a);this.Pk=null;this.EC=-1;this.hh="";this.wq=new Set;this.ei=this.nB=this.Bn=this.As=this.Bs=this.mB=this.lB=this.Vw=this.tq=this.Ge=0;this.iB=!1;b&&(this.iB=b[0]);a=this.g.Db();this.Sd=new d.Go(d.Ib.fc(a,"instancedestroy",e=>this.Bv(e.instance)),d.Ib.fc(a,"afterload",()=>this.Il()))}i(){this.Pk=null;super.i()}Gv(a){a?(this.Pk=a,this.jT()):(this.Pk=null,this.GA())}qn(a,b,e){if(a&&(a=a.zg(this.J)))if(this.hh=b,
this.Gv(a),b=this.J.j(),a=a.j(),"properties"===this.hh){const c=this.wq;c.clear();for(const f of e)c.add(f);this.lB=b.K()-a.K();this.mB=b.L()-a.L();this.Bn=b.ia()-a.ia();this.ei=b.ia();this.nB=b.Ua()-a.Ua();c.has("x")&&c.has("y")&&(this.tq=d.qo(a.K(),a.L(),b.K(),b.L())-a.ia(),this.Ge=d.Dm(a.K(),a.L(),b.K(),b.L()));c.has("width-abs")?this.Bs=b.P()-a.P():c.has("width-scale")&&(this.Bs=b.P()/a.P());c.has("height-abs")?this.As=b.O()-a.O():c.has("height-scale")&&(this.As=b.O()/a.O())}else this.Ge=d.Dm(a.K(),
a.L(),b.K(),b.L())}md(){const a=this.wq,b=this.hh,e={uid:this.Pk?this.Pk.pb:-1,m:b};if("rope"===b||"bar"===b)e.pd=this.Ge;else if("properties"===b){e.ps=[...this.wq];a.has("imagepoint")?e.ip=this.Vw:a.has("x")&&a.has("y")?(e.pa=this.tq,e.pd=this.Ge):(a.has("x")&&(e.dx=this.lB),a.has("y")&&(e.dy=this.mB));a.has("angle")&&(e.da=this.Bn,e.lka=this.ei);if(a.has("width-abs")||a.has("width-scale"))e.dw=this.Bs;if(a.has("height-abs")||a.has("height-scale"))e.dh=this.As;a.has("z")&&(e.dz=this.nB)}return e}Wc(a){const b=
a.m,e=this.wq;e.clear();this.EC=a.uid;if("number"===typeof b)this.Gaa(a);else if(this.hh=b,"rope"===b||"bar"===b)this.Ge=a.pd;else if("properties"===b){for(const c of a.ps)e.add(c);e.has("imagepoint")?this.Vw=a.ip:e.has("x")&&e.has("y")?(this.tq=a.pa,this.Ge=a.pd):(e.has("x")&&(this.lB=a.dx),e.has("y")&&(this.mB=a.dy));e.has("angle")&&(this.Bn=a.da,this.ei=a.lka||0);if(e.has("width-abs")||e.has("width-scale"))this.Bs=a.dw;if(e.has("height-abs")||e.has("height-scale"))this.As=a.dh;e.has("z")&&(this.nB=
a.dz)}}Gaa(a){const b=this.wq,e=a.msa,c=a.tsa,f=a.pa,k=a.pd;switch(a.m){case 0:this.hh="properties";b.add("x").add("y").add("angle");this.tq=f;this.Ge=k;this.Bn=e-c;this.ei=a.lka;break;case 1:this.hh="properties";b.add("x").add("y");this.tq=f;this.Ge=k;break;case 2:this.hh="properties";b.add("angle");this.Bn=e-c;this.ei=a.lka;break;case 3:this.hh="rope";this.Ge=a.pd;break;case 4:this.hh="bar",this.Ge=a.pd}}Il(){-1===this.EC?this.Gv(null):(this.Gv(this.g.qe(this.EC)),this.EC=-1)}Bv(a){this.Pk===a&&
(this.Gv(null),this.iB&&this.g.Lm(this.J))}hv(){var a=this.Pk;if(a){var b=a.j(),e=this.J.j(),c=this.hh,f=!1;if("rope"===c||"bar"===c){if(a=d.Dm(e.K(),e.L(),b.K(),b.L()),a>this.Ge||"bar"===c&&a<this.Ge)f=d.qo(b.K(),b.L(),e.K(),e.L()),e.Nh(b.K()+Math.cos(f)*this.Ge,b.L()+Math.sin(f)*this.Ge),f=!0}else{c=this.wq;if(c.has("imagepoint")){const [k,h]=a.Xj(this.Vw);e.yE(k,h)||(e.Nh(k,h),f=!0)}else if(c.has("x")&&c.has("y")){a=b.K()+Math.cos(b.ia()+this.tq)*this.Ge;const k=b.L()+Math.sin(b.ia()+this.tq)*
this.Ge;e.yE(a,k)||(e.Nh(a,k),f=!0)}else a=b.K()+this.lB,c.has("x")&&a!==e.K()&&(e.Qg(a),f=!0),a=b.L()+this.mB,c.has("y")&&a!==e.L()&&(e.Rg(a),f=!0);c.has("angle")&&(this.ei!==e.ia()&&(this.Bn=d.Xd(this.Bn+(e.ia()-this.ei))),a=d.Xd(b.ia()+this.Bn),a!==e.ia()&&(e.Yc(a),f=!0),this.ei=e.ia());c.has("width-abs")&&(a=b.P()+this.Bs,a!==e.P()&&(e.Ue(a),f=!0));c.has("width-scale")&&(a=b.P()*this.Bs,a!==e.P()&&(e.Ue(a),f=!0));c.has("height-abs")&&(a=b.O()+this.As,a!==e.O()&&(e.Bf(a),f=!0));c.has("height-scale")&&
(a=b.O()*this.As,a!==e.O()&&(e.Bf(a),f=!0));c.has("z")&&(a=b.Ua()+this.nB,a!==e.Ua()&&(e.Ve(a),this.g.ga()))}f&&e.Va()}}}}"use strict";self.A.ra.Si.F={yma(){return!!this.Pk},eta(){return this.iB}};"use strict";
self.A.ra.Si.fb={roa(d,a){this.qn(d,0===a?"rope":"bar")},toa(d,a,b,e,c,f,k){const h=[];a&&h.push("x");b&&h.push("y");e&&h.push("angle");k&&h.push("z");1===c?h.push("width-abs"):2===c&&h.push("width-scale");1===f?h.push("height-abs"):2===f&&h.push("height-scale");0!==h.length&&this.qn(d,"properties",h)},soa(d,a,b,e,c,f){const k=["imagepoint"];b&&k.push("angle");f&&k.push("z");1===e?k.push("width-abs"):2===e&&k.push("width-scale");1===c?k.push("height-abs"):2===c&&k.push("height-scale");this.Vw=a;this.qn(d,
"properties",k)},Fra(d){if("rope"===this.hh||"bar"===this.hh)this.Ge=Math.max(d,0)},Lqa(d){this.iB=d},w7(){this.Gv(null);this.hh="";this.wq.clear();this.Vw=""},Si(d,a){switch(a){case 0:this.qn(d,"properties",["x","y","angle"]);break;case 1:this.qn(d,"properties",["x","y"]);break;case 2:this.qn(d,"properties",["angle"]);break;case 3:this.qn(d,"rope");break;case 4:this.qn(d,"bar")}}};"use strict";self.A.ra.Si.vd={uoa(){return this.Pk?this.Pk.pb:-1}};
{const d=self.A;self.BM=function(){return[d.B.Audio,d.B.jd,d.B.Qd,d.B.Touch,d.B.Qb,d.B.Zi,d.B.hc,d.ra.Co,d.ra.Za,d.ra.Si,d.B.lb.F.UO,d.B.Audio.fb.T6,d.ra.Za.fb.U6,d.ra.Si.fb.Si,d.B.Zi.fb.Pg,d.B.lb.fb.O6,d.B.lb.F.z_,d.B.Zi.fb.Vr,d.B.Touch.F.M2,d.B.lb.F.JY,d.B.hc.fb.C6,d.B.Touch.vd.aA,d.B.Touch.vd.bA,d.B.Touch.F.aP,d.B.hc.F.Ac,d.ra.Za.fb.YX,d.B.hc.vd.P7,d.B.hc.vd.TX,d.ra.Si.fb.w7,d.B.hc.fb.Pg,d.B.hc.fb.C5,d.B.hc.fb.Ue,d.B.Audio.fb.Play,d.B.lb.fb.HG,d.ra.Za.fb.P6,d.ra.Za.fb.B5,d.B.lb.F.IY,d.B.hc.F.J3,
d.B.hc.fb.lZ,d.B.lb.fb.RX,d.B.lb.fb.l7,d.B.hc.F.PO,d.B.lb.fb.RM,d.B.lb.F.y_,d.ra.Za.F.J2,d.B.hc.fb.Qg,d.B.hc.vd.aA,d.B.hc.fb.Rg,d.B.hc.vd.bA,d.B.Zi.F.Ac,d.B.Qb.fb.j6,d.B.lb.vd.wha,d.B.lb.fb.a1,d.B.Touch.F.bP,d.B.lb.fb.B6,d.B.jd.fb.FY,d.B.Qb.fb.xY,d.B.Qb.F.QO,d.B.Qb.vd.P2,d.B.lb.F.XO]};self.kY=[{Audio:0},{jd:0},{Qd:0},{Touch:0},{Qb:0},{kja:0},{pja:0},{Oma:0},{Vma:0},{qsa:0},{fta:0},{"01ball":0},{"02ball":0},{"03ball":0},{"04ball":0},{"05ball":0},{"06ball":0},{"07ball":0},{"08ball":0},{"09ball":0},
{"10ball":0},{"11ball":0},{"12ball":0},{"13ball":0},{"14ball":0},{"15ball":0},{ija:0},{Ora:0},{Za:0},{Kja:0},{Si:0},{yka:0},{zka:0},{ela:0},{kna:0},{Yna:0},{Play:0},{Doa:0},{Koa:0},{Loa:0},{Moa:0},{Rra:0},{Table:0},{zsa:0},{wja:0},{jja:0},{Uma:0},{osa:0},{Joa:0},{Nma:0},{oja:0}]}
{function d(a,b){return"string"===typeof a||"string"===typeof b?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b):a&&b?1:0}self.jY=[()=>"Melody",()=>-12,()=>0,()=>3,a=>{const b=a.Xe(0).$h;return()=>d("LIFE:x",b.Vc())},a=>{const b=a.Xe(0).$h;return()=>d("BALLS:",b.Vc())},a=>{const b=a.Xe(0).pu();return()=>b()},a=>{const b=a.Xe(0);return()=>7*b.gu()},a=>{const b=a.Xe(0);return()=>b.gu()},()=>"OFF",()=>2,()=>-6,()=>"Sound",()=>320,
()=>-3,a=>{const b=a.Xe(0),e=a.Xe(1).$h;return()=>b.gu()+e.Vc()},()=>"ON",()=>1,()=>372,()=>360,()=>15,a=>{const b=a.Xe(0).$h;return()=>d("TIME:",b.Vc())},a=>{const b=a.Xe(0);return()=>b.gu()-1},a=>{const b=a.Xe(0);return()=>b.gu()+1},a=>{const b=a.Xe(0).$h;return()=>d("Congratulations you cleared the table in ",b.Vc())+" SECONDS"},a=>{const b=a.Xe(0).$h;return()=>b.Vc()},a=>{const b=a.Xe(0).pu();return()=>b()+"BestTimer"},a=>{const b=a.Xe(0).pu();return()=>b()+"LastTimer"},a=>{const b=a.Xe(0).$h;
return()=>d("BestTime:",b.Vc())},a=>{const b=a.Xe(0).$h;return()=>d("LastTime:",b.Vc())},()=>-100]};
